function sA(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const l=Object.getOwnPropertyDescriptor(r,s);l&&Object.defineProperty(n,s,l.get?l:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function La(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var rg={exports:{}},$c={},ig={exports:{}},it={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fw;function oA(){if(fw)return it;fw=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function S($){return $===null||typeof $!="object"?null:($=T&&$[T]||$["@@iterator"],typeof $=="function"?$:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,R={};function M($,ue,Ee){this.props=$,this.context=ue,this.refs=R,this.updater=Ee||b}M.prototype.isReactComponent={},M.prototype.setState=function($,ue){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,ue,"setState")},M.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function Z(){}Z.prototype=M.prototype;function z($,ue,Ee){this.props=$,this.context=ue,this.refs=R,this.updater=Ee||b}var H=z.prototype=new Z;H.constructor=z,V(H,M.prototype),H.isPureReactComponent=!0;var J=Array.isArray,le=Object.prototype.hasOwnProperty,ce={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function O($,ue,Ee){var be,Re={},xe=null,Je=null;if(ue!=null)for(be in ue.ref!==void 0&&(Je=ue.ref),ue.key!==void 0&&(xe=""+ue.key),ue)le.call(ue,be)&&!F.hasOwnProperty(be)&&(Re[be]=ue[be]);var Ye=arguments.length-2;if(Ye===1)Re.children=Ee;else if(1<Ye){for(var ct=Array(Ye),Ot=0;Ot<Ye;Ot++)ct[Ot]=arguments[Ot+2];Re.children=ct}if($&&$.defaultProps)for(be in Ye=$.defaultProps,Ye)Re[be]===void 0&&(Re[be]=Ye[be]);return{$$typeof:n,type:$,key:xe,ref:Je,props:Re,_owner:ce.current}}function j($,ue){return{$$typeof:n,type:$.type,key:ue,ref:$.ref,props:$.props,_owner:$._owner}}function G($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function q($){var ue={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(Ee){return ue[Ee]})}var U=/\/+/g;function B($,ue){return typeof $=="object"&&$!==null&&$.key!=null?q(""+$.key):ue.toString(36)}function fe($,ue,Ee,be,Re){var xe=typeof $;(xe==="undefined"||xe==="boolean")&&($=null);var Je=!1;if($===null)Je=!0;else switch(xe){case"string":case"number":Je=!0;break;case"object":switch($.$$typeof){case n:case e:Je=!0}}if(Je)return Je=$,Re=Re(Je),$=be===""?"."+B(Je,0):be,J(Re)?(Ee="",$!=null&&(Ee=$.replace(U,"$&/")+"/"),fe(Re,ue,Ee,"",function(Ot){return Ot})):Re!=null&&(G(Re)&&(Re=j(Re,Ee+(!Re.key||Je&&Je.key===Re.key?"":(""+Re.key).replace(U,"$&/")+"/")+$)),ue.push(Re)),1;if(Je=0,be=be===""?".":be+":",J($))for(var Ye=0;Ye<$.length;Ye++){xe=$[Ye];var ct=be+B(xe,Ye);Je+=fe(xe,ue,Ee,ct,Re)}else if(ct=S($),typeof ct=="function")for($=ct.call($),Ye=0;!(xe=$.next()).done;)xe=xe.value,ct=be+B(xe,Ye++),Je+=fe(xe,ue,Ee,ct,Re);else if(xe==="object")throw ue=String($),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.");return Je}function Ve($,ue,Ee){if($==null)return $;var be=[],Re=0;return fe($,be,"","",function(xe){return ue.call(Ee,xe,Re++)}),be}function Ie($){if($._status===-1){var ue=$._result;ue=ue(),ue.then(function(Ee){($._status===0||$._status===-1)&&($._status=1,$._result=Ee)},function(Ee){($._status===0||$._status===-1)&&($._status=2,$._result=Ee)}),$._status===-1&&($._status=0,$._result=ue)}if($._status===1)return $._result.default;throw $._result}var ve={current:null},X={transition:null},me={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:X,ReactCurrentOwner:ce};function ae(){throw Error("act(...) is not supported in production builds of React.")}return it.Children={map:Ve,forEach:function($,ue,Ee){Ve($,function(){ue.apply(this,arguments)},Ee)},count:function($){var ue=0;return Ve($,function(){ue++}),ue},toArray:function($){return Ve($,function(ue){return ue})||[]},only:function($){if(!G($))throw Error("React.Children.only expected to receive a single React element child.");return $}},it.Component=M,it.Fragment=t,it.Profiler=s,it.PureComponent=z,it.StrictMode=r,it.Suspense=p,it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,it.act=ae,it.cloneElement=function($,ue,Ee){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var be=V({},$.props),Re=$.key,xe=$.ref,Je=$._owner;if(ue!=null){if(ue.ref!==void 0&&(xe=ue.ref,Je=ce.current),ue.key!==void 0&&(Re=""+ue.key),$.type&&$.type.defaultProps)var Ye=$.type.defaultProps;for(ct in ue)le.call(ue,ct)&&!F.hasOwnProperty(ct)&&(be[ct]=ue[ct]===void 0&&Ye!==void 0?Ye[ct]:ue[ct])}var ct=arguments.length-2;if(ct===1)be.children=Ee;else if(1<ct){Ye=Array(ct);for(var Ot=0;Ot<ct;Ot++)Ye[Ot]=arguments[Ot+2];be.children=Ye}return{$$typeof:n,type:$.type,key:Re,ref:xe,props:be,_owner:Je}},it.createContext=function($){return $={$$typeof:u,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:l,_context:$},$.Consumer=$},it.createElement=O,it.createFactory=function($){var ue=O.bind(null,$);return ue.type=$,ue},it.createRef=function(){return{current:null}},it.forwardRef=function($){return{$$typeof:d,render:$}},it.isValidElement=G,it.lazy=function($){return{$$typeof:v,_payload:{_status:-1,_result:$},_init:Ie}},it.memo=function($,ue){return{$$typeof:y,type:$,compare:ue===void 0?null:ue}},it.startTransition=function($){var ue=X.transition;X.transition={};try{$()}finally{X.transition=ue}},it.unstable_act=ae,it.useCallback=function($,ue){return ve.current.useCallback($,ue)},it.useContext=function($){return ve.current.useContext($)},it.useDebugValue=function(){},it.useDeferredValue=function($){return ve.current.useDeferredValue($)},it.useEffect=function($,ue){return ve.current.useEffect($,ue)},it.useId=function(){return ve.current.useId()},it.useImperativeHandle=function($,ue,Ee){return ve.current.useImperativeHandle($,ue,Ee)},it.useInsertionEffect=function($,ue){return ve.current.useInsertionEffect($,ue)},it.useLayoutEffect=function($,ue){return ve.current.useLayoutEffect($,ue)},it.useMemo=function($,ue){return ve.current.useMemo($,ue)},it.useReducer=function($,ue,Ee){return ve.current.useReducer($,ue,Ee)},it.useRef=function($){return ve.current.useRef($)},it.useState=function($){return ve.current.useState($)},it.useSyncExternalStore=function($,ue,Ee){return ve.current.useSyncExternalStore($,ue,Ee)},it.useTransition=function(){return ve.current.useTransition()},it.version="18.3.1",it}var pw;function hp(){return pw||(pw=1,ig.exports=oA()),ig.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mw;function aA(){if(mw)return $c;mw=1;var n=hp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,p,y){var v,T={},S=null,b=null;y!==void 0&&(S=""+y),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(b=p.ref);for(v in p)r.call(p,v)&&!l.hasOwnProperty(v)&&(T[v]=p[v]);if(d&&d.defaultProps)for(v in p=d.defaultProps,p)T[v]===void 0&&(T[v]=p[v]);return{$$typeof:e,type:d,key:S,ref:b,props:T,_owner:s.current}}return $c.Fragment=t,$c.jsx=u,$c.jsxs=u,$c}var gw;function lA(){return gw||(gw=1,rg.exports=aA()),rg.exports}var P=lA(),A=hp();const wt=La(A),Jy=sA({__proto__:null,default:wt},[A]);var Xd={},sg={exports:{}},Er={},og={exports:{}},ag={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yw;function uA(){return yw||(yw=1,(function(n){function e(X,me){var ae=X.length;X.push(me);e:for(;0<ae;){var $=ae-1>>>1,ue=X[$];if(0<s(ue,me))X[$]=me,X[ae]=ue,ae=$;else break e}}function t(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var me=X[0],ae=X.pop();if(ae!==me){X[0]=ae;e:for(var $=0,ue=X.length,Ee=ue>>>1;$<Ee;){var be=2*($+1)-1,Re=X[be],xe=be+1,Je=X[xe];if(0>s(Re,ae))xe<ue&&0>s(Je,Re)?(X[$]=Je,X[xe]=ae,$=xe):(X[$]=Re,X[be]=ae,$=be);else if(xe<ue&&0>s(Je,ae))X[$]=Je,X[xe]=ae,$=xe;else break e}}return me}function s(X,me){var ae=X.sortIndex-me.sortIndex;return ae!==0?ae:X.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var p=[],y=[],v=1,T=null,S=3,b=!1,V=!1,R=!1,M=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(X){for(var me=t(y);me!==null;){if(me.callback===null)r(y);else if(me.startTime<=X)r(y),me.sortIndex=me.expirationTime,e(p,me);else break;me=t(y)}}function J(X){if(R=!1,H(X),!V)if(t(p)!==null)V=!0,Ie(le);else{var me=t(y);me!==null&&ve(J,me.startTime-X)}}function le(X,me){V=!1,R&&(R=!1,Z(O),O=-1),b=!0;var ae=S;try{for(H(me),T=t(p);T!==null&&(!(T.expirationTime>me)||X&&!q());){var $=T.callback;if(typeof $=="function"){T.callback=null,S=T.priorityLevel;var ue=$(T.expirationTime<=me);me=n.unstable_now(),typeof ue=="function"?T.callback=ue:T===t(p)&&r(p),H(me)}else r(p);T=t(p)}if(T!==null)var Ee=!0;else{var be=t(y);be!==null&&ve(J,be.startTime-me),Ee=!1}return Ee}finally{T=null,S=ae,b=!1}}var ce=!1,F=null,O=-1,j=5,G=-1;function q(){return!(n.unstable_now()-G<j)}function U(){if(F!==null){var X=n.unstable_now();G=X;var me=!0;try{me=F(!0,X)}finally{me?B():(ce=!1,F=null)}}else ce=!1}var B;if(typeof z=="function")B=function(){z(U)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,Ve=fe.port2;fe.port1.onmessage=U,B=function(){Ve.postMessage(null)}}else B=function(){M(U,0)};function Ie(X){F=X,ce||(ce=!0,B())}function ve(X,me){O=M(function(){X(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_continueExecution=function(){V||b||(V=!0,Ie(le))},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(X){switch(S){case 1:case 2:case 3:var me=3;break;default:me=S}var ae=S;S=me;try{return X()}finally{S=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(X,me){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ae=S;S=X;try{return me()}finally{S=ae}},n.unstable_scheduleCallback=function(X,me,ae){var $=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?$+ae:$):ae=$,X){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=ae+ue,X={id:v++,callback:me,priorityLevel:X,startTime:ae,expirationTime:ue,sortIndex:-1},ae>$?(X.sortIndex=ae,e(y,X),t(p)===null&&X===t(y)&&(R?(Z(O),O=-1):R=!0,ve(J,ae-$))):(X.sortIndex=ue,e(p,X),V||b||(V=!0,Ie(le))),X},n.unstable_shouldYield=q,n.unstable_wrapCallback=function(X){var me=S;return function(){var ae=S;S=me;try{return X.apply(this,arguments)}finally{S=ae}}}})(ag)),ag}var vw;function cA(){return vw||(vw=1,og.exports=uA()),og.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _w;function hA(){if(_w)return Er;_w=1;var n=hp(),e=cA();function t(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,h=1;h<arguments.length;h++)a+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function l(i,a){u(i,a),u(i+"Capture",a)}function u(i,a){for(s[i]=a,i=0;i<a.length;i++)r.add(a[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},T={};function S(i){return p.call(T,i)?!0:p.call(v,i)?!1:y.test(i)?T[i]=!0:(v[i]=!0,!1)}function b(i,a,h,g){if(h!==null&&h.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function V(i,a,h,g){if(a===null||typeof a>"u"||b(i,a,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function R(i,a,h,g,w,E,k){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=g,this.attributeNamespace=w,this.mustUseProperty=h,this.propertyName=i,this.type=a,this.sanitizeURL=E,this.removeEmptyString=k}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){M[i]=new R(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];M[a]=new R(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){M[i]=new R(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){M[i]=new R(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){M[i]=new R(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){M[i]=new R(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){M[i]=new R(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){M[i]=new R(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){M[i]=new R(i,5,!1,i.toLowerCase(),null,!1,!1)});var Z=/[\-:]([a-z])/g;function z(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(Z,z);M[a]=new R(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(Z,z);M[a]=new R(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(Z,z);M[a]=new R(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){M[i]=new R(i,1,!1,i.toLowerCase(),null,!1,!1)}),M.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){M[i]=new R(i,1,!1,i.toLowerCase(),null,!0,!0)});function H(i,a,h,g){var w=M.hasOwnProperty(a)?M[a]:null;(w!==null?w.type!==0:g||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(V(a,h,w,g)&&(h=null),g||w===null?S(a)&&(h===null?i.removeAttribute(a):i.setAttribute(a,""+h)):w.mustUseProperty?i[w.propertyName]=h===null?w.type===3?!1:"":h:(a=w.attributeName,g=w.attributeNamespace,h===null?i.removeAttribute(a):(w=w.type,h=w===3||w===4&&h===!0?"":""+h,g?i.setAttributeNS(g,a,h):i.setAttribute(a,h))))}var J=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,le=Symbol.for("react.element"),ce=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),q=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),Ve=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),X=Symbol.iterator;function me(i){return i===null||typeof i!="object"?null:(i=X&&i[X]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Object.assign,$;function ue(i){if($===void 0)try{throw Error()}catch(h){var a=h.stack.trim().match(/\n( *(at )?)/);$=a&&a[1]||""}return`
`+$+i}var Ee=!1;function be(i,a){if(!i||Ee)return"";Ee=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(oe){var g=oe}Reflect.construct(i,[],a)}else{try{a.call()}catch(oe){g=oe}i.call(a.prototype)}else{try{throw Error()}catch(oe){g=oe}i()}}catch(oe){if(oe&&g&&typeof oe.stack=="string"){for(var w=oe.stack.split(`
`),E=g.stack.split(`
`),k=w.length-1,W=E.length-1;1<=k&&0<=W&&w[k]!==E[W];)W--;for(;1<=k&&0<=W;k--,W--)if(w[k]!==E[W]){if(k!==1||W!==1)do if(k--,W--,0>W||w[k]!==E[W]){var Q=`
`+w[k].replace(" at new "," at ");return i.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",i.displayName)),Q}while(1<=k&&0<=W);break}}}finally{Ee=!1,Error.prepareStackTrace=h}return(i=i?i.displayName||i.name:"")?ue(i):""}function Re(i){switch(i.tag){case 5:return ue(i.type);case 16:return ue("Lazy");case 13:return ue("Suspense");case 19:return ue("SuspenseList");case 0:case 2:case 15:return i=be(i.type,!1),i;case 11:return i=be(i.type.render,!1),i;case 1:return i=be(i.type,!0),i;default:return""}}function xe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case F:return"Fragment";case ce:return"Portal";case j:return"Profiler";case O:return"StrictMode";case B:return"Suspense";case fe:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case q:return(i.displayName||"Context")+".Consumer";case G:return(i._context.displayName||"Context")+".Provider";case U:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ve:return a=i.displayName||null,a!==null?a:xe(i.type)||"Memo";case Ie:a=i._payload,i=i._init;try{return xe(i(a))}catch{}}return null}function Je(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(a);case 8:return a===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ye(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ct(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ot(i){var a=ct(i)?"checked":"value",h=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),g=""+i[a];if(!i.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var w=h.get,E=h.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return w.call(this)},set:function(k){g=""+k,E.call(this,k)}}),Object.defineProperty(i,a,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(k){g=""+k},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function yn(i){i._valueTracker||(i._valueTracker=Ot(i))}function Ur(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var h=a.getValue(),g="";return i&&(g=ct(i)?i.checked?"true":"false":i.value),i=g,i!==h?(a.setValue(i),!0):!1}function zr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function _o(i,a){var h=a.checked;return ae({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??i._wrapperState.initialChecked})}function za(i,a){var h=a.defaultValue==null?"":a.defaultValue,g=a.checked!=null?a.checked:a.defaultChecked;h=Ye(a.value!=null?a.value:h),i._wrapperState={initialChecked:g,initialValue:h,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Ss(i,a){a=a.checked,a!=null&&H(i,"checked",a,!1)}function _i(i,a){Ss(i,a);var h=Ye(a.value),g=a.type;if(h!=null)g==="number"?(h===0&&i.value===""||i.value!=h)&&(i.value=""+h):i.value!==""+h&&(i.value=""+h);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?Gt(i,a.type,h):a.hasOwnProperty("defaultValue")&&Gt(i,a.type,Ye(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function zi(i,a,h){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var g=a.type;if(!(g!=="submit"&&g!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,h||a===i.value||(i.value=a),i.defaultValue=a}h=i.name,h!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,h!==""&&(i.name=h)}function Gt(i,a,h){(a!=="number"||zr(i.ownerDocument)!==i)&&(h==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+h&&(i.defaultValue=""+h))}var Dt=Array.isArray;function Qn(i,a,h,g){if(i=i.options,a){a={};for(var w=0;w<h.length;w++)a["$"+h[w]]=!0;for(h=0;h<i.length;h++)w=a.hasOwnProperty("$"+i[h].value),i[h].selected!==w&&(i[h].selected=w),w&&g&&(i[h].defaultSelected=!0)}else{for(h=""+Ye(h),a=null,w=0;w<i.length;w++){if(i[w].value===h){i[w].selected=!0,g&&(i[w].defaultSelected=!0);return}a!==null||i[w].disabled||(a=i[w])}a!==null&&(a.selected=!0)}}function wo(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function To(i,a){var h=a.value;if(h==null){if(h=a.children,a=a.defaultValue,h!=null){if(a!=null)throw Error(t(92));if(Dt(h)){if(1<h.length)throw Error(t(93));h=h[0]}a=h}a==null&&(a=""),h=a}i._wrapperState={initialValue:Ye(h)}}function Ql(i,a){var h=Ye(a.value),g=Ye(a.defaultValue);h!=null&&(h=""+h,h!==i.value&&(i.value=h),a.defaultValue==null&&i.defaultValue!==h&&(i.defaultValue=h)),g!=null&&(i.defaultValue=""+g)}function Hi(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function Cs(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Is(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?Cs(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var wi,Yl=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,h,g,w){MSApp.execUnsafeLocalFunction(function(){return i(a,h,g,w)})}:i})(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(wi=wi||document.createElement("div"),wi.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=wi.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function Wi(i,a){if(a){var h=i.firstChild;if(h&&h===i.lastChild&&h.nodeType===3){h.nodeValue=a;return}}i.textContent=a}var Ti={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xl=["Webkit","ms","Moz","O"];Object.keys(Ti).forEach(function(i){Xl.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),Ti[a]=Ti[i]})});function Ei(i,a,h){return a==null||typeof a=="boolean"||a===""?"":h||typeof a!="number"||a===0||Ti.hasOwnProperty(i)&&Ti[i]?(""+a).trim():a+"px"}function $i(i,a){i=i.style;for(var h in a)if(a.hasOwnProperty(h)){var g=h.indexOf("--")===0,w=Ei(h,a[h],g);h==="float"&&(h="cssFloat"),g?i.setProperty(h,w):i[h]=w}}var Eo=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ar(i,a){if(a){if(Eo[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Hr(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qi=null;function xo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Wr=null,$r=null,kt=null;function Ha(i){if(i=Zs(i)){if(typeof Wr!="function")throw Error(t(280));var a=i.stateNode;a&&(a=mu(a),Wr(i.stateNode,i.type,a))}}function Gi(i){$r?kt?kt.push(i):kt=[i]:$r=i}function Ki(){if($r){var i=$r,a=kt;if(kt=$r=null,Ha(i),a)for(i=0;i<a.length;i++)Ha(a[i])}}function Jl(i,a){return i(a)}function eu(){}var qr=!1;function Po(i,a,h){if(qr)return i(a,h);qr=!0;try{return Jl(i,a,h)}finally{qr=!1,($r!==null||kt!==null)&&(eu(),Ki())}}function bs(i,a){var h=i.stateNode;if(h===null)return null;var g=mu(h);if(g===null)return null;h=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(h&&typeof h!="function")throw Error(t(231,a,typeof h));return h}var Zi=!1;if(d)try{var Qi={};Object.defineProperty(Qi,"passive",{get:function(){Zi=!0}}),window.addEventListener("test",Qi,Qi),window.removeEventListener("test",Qi,Qi)}catch{Zi=!1}function tu(i,a,h,g,w,E,k,W,Q){var oe=Array.prototype.slice.call(arguments,3);try{a.apply(h,oe)}catch(ye){this.onError(ye)}}var en=!1,Ne=null,As=!1,Yn=null,Wa={onError:function(i){en=!0,Ne=i}};function $a(i,a,h,g,w,E,k,W,Q){en=!1,Ne=null,tu.apply(Wa,arguments)}function Rs(i,a,h,g,w,E,k,W,Q){if($a.apply(this,arguments),en){if(en){var oe=Ne;en=!1,Ne=null}else throw Error(t(198));As||(As=!0,Yn=oe)}}function hr(i){var a=i,h=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(h=a.return),i=a.return;while(i)}return a.tag===3?h:null}function Gr(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function qa(i){if(hr(i)!==i)throw Error(t(188))}function nu(i){var a=i.alternate;if(!a){if(a=hr(i),a===null)throw Error(t(188));return a!==i?null:i}for(var h=i,g=a;;){var w=h.return;if(w===null)break;var E=w.alternate;if(E===null){if(g=w.return,g!==null){h=g;continue}break}if(w.child===E.child){for(E=w.child;E;){if(E===h)return qa(w),i;if(E===g)return qa(w),a;E=E.sibling}throw Error(t(188))}if(h.return!==g.return)h=w,g=E;else{for(var k=!1,W=w.child;W;){if(W===h){k=!0,h=w,g=E;break}if(W===g){k=!0,g=w,h=E;break}W=W.sibling}if(!k){for(W=E.child;W;){if(W===h){k=!0,h=E,g=w;break}if(W===g){k=!0,g=E,h=w;break}W=W.sibling}if(!k)throw Error(t(189))}}if(h.alternate!==g)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?i:a}function ru(i){return i=nu(i),i!==null?ks(i):null}function ks(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=ks(i);if(a!==null)return a;i=i.sibling}return null}var Ga=e.unstable_scheduleCallback,Ns=e.unstable_cancelCallback,Ls=e.unstable_shouldYield,dr=e.unstable_requestPaint,St=e.unstable_now,vc=e.unstable_getCurrentPriorityLevel,So=e.unstable_ImmediatePriority,Ka=e.unstable_UserBlockingPriority,Ms=e.unstable_NormalPriority,Os=e.unstable_LowPriority,Kr=e.unstable_IdlePriority,Yi=null,On=null;function Xi(i){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(Yi,i,void 0,(i.current.flags&128)===128)}catch{}}var Ze=Math.clz32?Math.clz32:fr,ht=Math.log,Cn=Math.LN2;function fr(i){return i>>>=0,i===0?32:31-(ht(i)/Cn|0)|0}var In=64,Zr=4194304;function Se(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function vt(i,a){var h=i.pendingLanes;if(h===0)return 0;var g=0,w=i.suspendedLanes,E=i.pingedLanes,k=h&268435455;if(k!==0){var W=k&~w;W!==0?g=Se(W):(E&=k,E!==0&&(g=Se(E)))}else k=h&~w,k!==0?g=Se(k):E!==0&&(g=Se(E));if(g===0)return 0;if(a!==0&&a!==g&&(a&w)===0&&(w=g&-g,E=a&-a,w>=E||w===16&&(E&4194240)!==0))return a;if((g&4)!==0&&(g|=h&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=g;0<a;)h=31-Ze(a),w=1<<h,g|=i[h],a&=~w;return g}function xi(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qr(i,a){for(var h=i.suspendedLanes,g=i.pingedLanes,w=i.expirationTimes,E=i.pendingLanes;0<E;){var k=31-Ze(E),W=1<<k,Q=w[k];Q===-1?((W&h)===0||(W&g)!==0)&&(w[k]=xi(W,a)):Q<=a&&(i.expiredLanes|=W),E&=~W}}function vn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Za(){var i=In;return In<<=1,(In&4194240)===0&&(In=64),i}function Ji(i){for(var a=[],h=0;31>h;h++)a.push(i);return a}function Xn(i,a,h){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-Ze(a),i[a]=h}function Vt(i,a){var h=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<h;){var w=31-Ze(h),E=1<<w;a[w]=0,g[w]=-1,i[w]=-1,h&=~E}}function Rr(i,a){var h=i.entangledLanes|=a;for(i=i.entanglements;h;){var g=31-Ze(h),w=1<<g;w&a|i[g]&a&&(i[g]|=a),h&=~w}}var nt=0;function Dn(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Ds,Yr,Vs,js,es,pr=!1,ts=[],Jn=null,kr=null,Zt=null,Fs=new Map,Ue=new Map,jt=[],_t="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pi(i,a){switch(i){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Zt=null;break;case"pointerover":case"pointerout":Fs.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ue.delete(a.pointerId)}}function er(i,a,h,g,w,E){return i===null||i.nativeEvent!==E?(i={blockedOn:a,domEventName:h,eventSystemFlags:g,nativeEvent:E,targetContainers:[w]},a!==null&&(a=Zs(a),a!==null&&Yr(a)),i):(i.eventSystemFlags|=g,a=i.targetContainers,w!==null&&a.indexOf(w)===-1&&a.push(w),i)}function Co(i,a,h,g,w){switch(a){case"focusin":return Jn=er(Jn,i,a,h,g,w),!0;case"dragenter":return kr=er(kr,i,a,h,g,w),!0;case"mouseover":return Zt=er(Zt,i,a,h,g,w),!0;case"pointerover":var E=w.pointerId;return Fs.set(E,er(Fs.get(E)||null,i,a,h,g,w)),!0;case"gotpointercapture":return E=w.pointerId,Ue.set(E,er(Ue.get(E)||null,i,a,h,g,w)),!0}return!1}function ns(i){var a=Ks(i.target);if(a!==null){var h=hr(a);if(h!==null){if(a=h.tag,a===13){if(a=Gr(h),a!==null){i.blockedOn=a,es(i.priority,function(){Vs(h)});return}}else if(a===3&&h.stateNode.current.memoizedState.isDehydrated){i.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ut(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var h=zs(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(h===null){h=i.nativeEvent;var g=new h.constructor(h.type,h);qi=g,h.target.dispatchEvent(g),qi=null}else return a=Zs(h),a!==null&&Yr(a),i.blockedOn=h,!1;a.shift()}return!0}function Io(i,a,h){ut(i)&&h.delete(a)}function Bs(){pr=!1,Jn!==null&&ut(Jn)&&(Jn=null),kr!==null&&ut(kr)&&(kr=null),Zt!==null&&ut(Zt)&&(Zt=null),Fs.forEach(Io),Ue.forEach(Io)}function It(i,a){i.blockedOn===a&&(i.blockedOn=null,pr||(pr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Bs)))}function Vn(i){function a(w){return It(w,i)}if(0<ts.length){It(ts[0],i);for(var h=1;h<ts.length;h++){var g=ts[h];g.blockedOn===i&&(g.blockedOn=null)}}for(Jn!==null&&It(Jn,i),kr!==null&&It(kr,i),Zt!==null&&It(Zt,i),Fs.forEach(a),Ue.forEach(a),h=0;h<jt.length;h++)g=jt[h],g.blockedOn===i&&(g.blockedOn=null);for(;0<jt.length&&(h=jt[0],h.blockedOn===null);)ns(h),h.blockedOn===null&&jt.shift()}var Xr=J.ReactCurrentBatchConfig,Jr=!0;function ei(i,a,h,g){var w=nt,E=Xr.transition;Xr.transition=null;try{nt=1,Us(i,a,h,g)}finally{nt=w,Xr.transition=E}}function Qa(i,a,h,g){var w=nt,E=Xr.transition;Xr.transition=null;try{nt=4,Us(i,a,h,g)}finally{nt=w,Xr.transition=E}}function Us(i,a,h,g){if(Jr){var w=zs(i,a,h,g);if(w===null)o(i,a,g,ti,h),Pi(i,g);else if(Co(w,i,a,h,g))g.stopPropagation();else if(Pi(i,g),a&4&&-1<_t.indexOf(i)){for(;w!==null;){var E=Zs(w);if(E!==null&&Ds(E),E=zs(i,a,h,g),E===null&&o(i,a,g,ti,h),E===w)break;w=E}w!==null&&g.stopPropagation()}else o(i,a,g,null,h)}}var ti=null;function zs(i,a,h,g){if(ti=null,i=xo(g),i=Ks(i),i!==null)if(a=hr(i),a===null)i=null;else if(h=a.tag,h===13){if(i=Gr(a),i!==null)return i;i=null}else if(h===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return ti=i,null}function rt(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vc()){case So:return 1;case Ka:return 4;case Ms:case Os:return 16;case Kr:return 536870912;default:return 16}default:return 16}}var tr=null,_n=null,nr=null;function Ya(){if(nr)return nr;var i,a=_n,h=a.length,g,w="value"in tr?tr.value:tr.textContent,E=w.length;for(i=0;i<h&&a[i]===w[i];i++);var k=h-i;for(g=1;g<=k&&a[h-g]===w[E-g];g++);return nr=w.slice(i,1<g?1-g:void 0)}function Hs(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function mr(){return!0}function Xa(){return!1}function hn(i){function a(h,g,w,E,k){this._reactName=h,this._targetInst=w,this.type=g,this.nativeEvent=E,this.target=k,this.currentTarget=null;for(var W in i)i.hasOwnProperty(W)&&(h=i[W],this[W]=h?h(E):E[W]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?mr:Xa,this.isPropagationStopped=Xa,this}return ae(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=mr)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=mr)},persist:function(){},isPersistent:mr}),a}var ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=hn(ni),ri=ae({},ni,{view:0,detail:0}),bo=hn(ri),bn,Ao,jn,Fn=ae({},ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:We,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==jn&&(jn&&i.type==="mousemove"?(bn=i.screenX-jn.screenX,Ao=i.screenY-jn.screenY):Ao=bn=0,jn=i),bn)},movementY:function(i){return"movementY"in i?i.movementY:Ao}}),Ro=hn(Fn),Ja=ae({},Fn,{dataTransfer:0}),ko=hn(Ja),No=ae({},ri,{relatedTarget:0}),tn=hn(No),el=ae({},ni,{animationName:0,elapsedTime:0,pseudoElement:0}),iu=hn(el),rs=ae({},ni,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),f=hn(rs),x=ae({},ni,{data:0}),I=hn(x),D={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ie={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Te(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=ie[i])?!!a[i]:!1}function We(){return Te}var dt=ae({},ri,{key:function(i){if(i.key){var a=D[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Hs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ee[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:We,charCode:function(i){return i.type==="keypress"?Hs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Hs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),mt=hn(dt),zt=ae({},Fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rr=hn(zt),Nr=ae({},ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:We}),gr=hn(Nr),ii=ae({},ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lo=hn(ii),Mo=ae({},Fn,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Gp=hn(Mo),Lr=[9,13,27,32],is=d&&"CompositionEvent"in window,tl=null;d&&"documentMode"in document&&(tl=document.documentMode);var Si=d&&"TextEvent"in window&&!tl,td=d&&(!is||tl&&8<tl&&11>=tl),$s=" ",nd=!1;function Oo(i,a){switch(i){case"keyup":return Lr.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _c(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ci=!1;function Kp(i,a){switch(i){case"compositionend":return _c(a);case"keypress":return a.which!==32?null:(nd=!0,$s);case"textInput":return i=a.data,i===$s&&nd?null:i;default:return null}}function ss(i,a){if(Ci)return i==="compositionend"||!is&&Oo(i,a)?(i=Ya(),nr=_n=tr=null,Ci=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return td&&a.locale!=="ko"?null:a.data;default:return null}}var su={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rd(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!su[i.type]:a==="textarea"}function ou(i,a,h,g){Gi(g),a=m(a,"onChange"),0<a.length&&(h=new Ws("onChange","change",null,h,g),i.push({event:h,listeners:a}))}var nl=null,ir=null;function Zp(i){bc(i,0)}function Ii(i){var a=Qs(i);if(Ur(a))return i}function Qp(i,a){if(i==="change")return a}var si=!1;if(d){var Do;if(d){var au="oninput"in document;if(!au){var lu=document.createElement("div");lu.setAttribute("oninput","return;"),au=typeof lu.oninput=="function"}Do=au}else Do=!1;si=Do&&(!document.documentMode||9<document.documentMode)}function rl(){nl&&(nl.detachEvent("onpropertychange",uu),ir=nl=null)}function uu(i){if(i.propertyName==="value"&&Ii(ir)){var a=[];ou(a,ir,i,xo(i)),Po(Zp,a)}}function cu(i,a,h){i==="focusin"?(rl(),nl=a,ir=h,nl.attachEvent("onpropertychange",uu)):i==="focusout"&&rl()}function Vo(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ii(ir)}function hu(i,a){if(i==="click")return Ii(a)}function wc(i,a){if(i==="input"||i==="change")return Ii(a)}function id(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Mr=typeof Object.is=="function"?Object.is:id;function os(i,a){if(Mr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var h=Object.keys(i),g=Object.keys(a);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var w=h[g];if(!p.call(a,w)||!Mr(i[w],a[w]))return!1}return!0}function sd(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Tc(i,a){var h=sd(i);i=0;for(var g;h;){if(h.nodeType===3){if(g=i+h.textContent.length,i<=a&&g>=a)return{node:h,offset:a-i};i=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=sd(h)}}function od(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?od(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Ec(){for(var i=window,a=zr();a instanceof i.HTMLIFrameElement;){try{var h=typeof a.contentWindow.location.href=="string"}catch{h=!1}if(h)i=a.contentWindow;else break;a=zr(i.document)}return a}function xc(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function oi(i){var a=Ec(),h=i.focusedElem,g=i.selectionRange;if(a!==h&&h&&h.ownerDocument&&od(h.ownerDocument.documentElement,h)){if(g!==null&&xc(h)){if(a=g.start,i=g.end,i===void 0&&(i=a),"selectionStart"in h)h.selectionStart=a,h.selectionEnd=Math.min(i,h.value.length);else if(i=(a=h.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var w=h.textContent.length,E=Math.min(g.start,w);g=g.end===void 0?E:Math.min(g.end,w),!i.extend&&E>g&&(w=g,g=E,E=w),w=Tc(h,E);var k=Tc(h,g);w&&k&&(i.rangeCount!==1||i.anchorNode!==w.node||i.anchorOffset!==w.offset||i.focusNode!==k.node||i.focusOffset!==k.offset)&&(a=a.createRange(),a.setStart(w.node,w.offset),i.removeAllRanges(),E>g?(i.addRange(a),i.extend(k.node,k.offset)):(a.setEnd(k.node,k.offset),i.addRange(a)))}}for(a=[],i=h;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<a.length;h++)i=a[h],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var du=d&&"documentMode"in document&&11>=document.documentMode,jo=null,Fo=null,il=null,fu=!1;function ad(i,a,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;fu||jo==null||jo!==zr(g)||(g=jo,"selectionStart"in g&&xc(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),il&&os(il,g)||(il=g,g=m(Fo,"onSelect"),0<g.length&&(a=new Ws("onSelect","select",null,a,h),i.push({event:a,listeners:g}),a.target=jo)))}function as(i,a){var h={};return h[i.toLowerCase()]=a.toLowerCase(),h["Webkit"+i]="webkit"+a,h["Moz"+i]="moz"+a,h}var Bo={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionend:as("Transition","TransitionEnd")},ls={},Pc={};d&&(Pc=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function sl(i){if(ls[i])return ls[i];if(!Bo[i])return i;var a=Bo[i],h;for(h in a)if(a.hasOwnProperty(h)&&h in Pc)return ls[i]=a[h];return i}var ld=sl("animationend"),ai=sl("animationiteration"),Sc=sl("animationstart"),Cc=sl("transitionend"),Uo=new Map,ud="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(i,a){Uo.set(i,a),l(a,[i])}for(var qs=0;qs<ud.length;qs++){var pu=ud[qs],cd=pu.toLowerCase(),Yp=pu[0].toUpperCase()+pu.slice(1);Or(cd,"on"+Yp)}Or(ld,"onAnimationEnd"),Or(ai,"onAnimationIteration"),Or(Sc,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Cc,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hd=new Set("cancel close invalid load scroll toggle".split(" ").concat(zo));function Ic(i,a,h){var g=i.type||"unknown-event";i.currentTarget=h,Rs(g,a,void 0,i),i.currentTarget=null}function bc(i,a){a=(a&4)!==0;for(var h=0;h<i.length;h++){var g=i[h],w=g.event;g=g.listeners;e:{var E=void 0;if(a)for(var k=g.length-1;0<=k;k--){var W=g[k],Q=W.instance,oe=W.currentTarget;if(W=W.listener,Q!==E&&w.isPropagationStopped())break e;Ic(w,W,oe),E=Q}else for(k=0;k<g.length;k++){if(W=g[k],Q=W.instance,oe=W.currentTarget,W=W.listener,Q!==E&&w.isPropagationStopped())break e;Ic(w,W,oe),E=Q}}}if(As)throw i=Yn,As=!1,Yn=null,i}function xt(i,a){var h=a[qo];h===void 0&&(h=a[qo]=new Set);var g=i+"__bubble";h.has(g)||(dd(a,i,2,!1),h.add(g))}function Ac(i,a,h){var g=0;a&&(g|=4),dd(h,i,g,a)}var ol="_reactListening"+Math.random().toString(36).slice(2);function Ho(i){if(!i[ol]){i[ol]=!0,r.forEach(function(h){h!=="selectionchange"&&(hd.has(h)||Ac(h,!1,i),Ac(h,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[ol]||(a[ol]=!0,Ac("selectionchange",!1,a))}}function dd(i,a,h,g){switch(rt(a)){case 1:var w=ei;break;case 4:w=Qa;break;default:w=Us}h=w.bind(null,a,h,i),w=void 0,!Zi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(w=!0),g?w!==void 0?i.addEventListener(a,h,{capture:!0,passive:w}):i.addEventListener(a,h,!0):w!==void 0?i.addEventListener(a,h,{passive:w}):i.addEventListener(a,h,!1)}function o(i,a,h,g,w){var E=g;if((a&1)===0&&(a&2)===0&&g!==null)e:for(;;){if(g===null)return;var k=g.tag;if(k===3||k===4){var W=g.stateNode.containerInfo;if(W===w||W.nodeType===8&&W.parentNode===w)break;if(k===4)for(k=g.return;k!==null;){var Q=k.tag;if((Q===3||Q===4)&&(Q=k.stateNode.containerInfo,Q===w||Q.nodeType===8&&Q.parentNode===w))return;k=k.return}for(;W!==null;){if(k=Ks(W),k===null)return;if(Q=k.tag,Q===5||Q===6){g=E=k;continue e}W=W.parentNode}}g=g.return}Po(function(){var oe=E,ye=xo(h),_e=[];e:{var ge=Uo.get(i);if(ge!==void 0){var Ce=Ws,Me=i;switch(i){case"keypress":if(Hs(h)===0)break e;case"keydown":case"keyup":Ce=mt;break;case"focusin":Me="focus",Ce=tn;break;case"focusout":Me="blur",Ce=tn;break;case"beforeblur":case"afterblur":Ce=tn;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=ko;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=gr;break;case ld:case ai:case Sc:Ce=iu;break;case Cc:Ce=Lo;break;case"scroll":Ce=bo;break;case"wheel":Ce=Gp;break;case"copy":case"cut":case"paste":Ce=f;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=rr}var Oe=(a&4)!==0,Qt=!Oe&&i==="scroll",ne=Oe?ge!==null?ge+"Capture":null:ge;Oe=[];for(var Y=oe,re;Y!==null;){re=Y;var we=re.stateNode;if(re.tag===5&&we!==null&&(re=we,ne!==null&&(we=bs(Y,ne),we!=null&&Oe.push(c(Y,we,re)))),Qt)break;Y=Y.return}0<Oe.length&&(ge=new Ce(ge,Me,null,h,ye),_e.push({event:ge,listeners:Oe}))}}if((a&7)===0){e:{if(ge=i==="mouseover"||i==="pointerover",Ce=i==="mouseout"||i==="pointerout",ge&&h!==qi&&(Me=h.relatedTarget||h.fromElement)&&(Ks(Me)||Me[Tt]))break e;if((Ce||ge)&&(ge=ye.window===ye?ye:(ge=ye.ownerDocument)?ge.defaultView||ge.parentWindow:window,Ce?(Me=h.relatedTarget||h.toElement,Ce=oe,Me=Me?Ks(Me):null,Me!==null&&(Qt=hr(Me),Me!==Qt||Me.tag!==5&&Me.tag!==6)&&(Me=null)):(Ce=null,Me=oe),Ce!==Me)){if(Oe=Ro,we="onMouseLeave",ne="onMouseEnter",Y="mouse",(i==="pointerout"||i==="pointerover")&&(Oe=rr,we="onPointerLeave",ne="onPointerEnter",Y="pointer"),Qt=Ce==null?ge:Qs(Ce),re=Me==null?ge:Qs(Me),ge=new Oe(we,Y+"leave",Ce,h,ye),ge.target=Qt,ge.relatedTarget=re,we=null,Ks(ye)===oe&&(Oe=new Oe(ne,Y+"enter",Me,h,ye),Oe.target=re,Oe.relatedTarget=Qt,we=Oe),Qt=we,Ce&&Me)t:{for(Oe=Ce,ne=Me,Y=0,re=Oe;re;re=_(re))Y++;for(re=0,we=ne;we;we=_(we))re++;for(;0<Y-re;)Oe=_(Oe),Y--;for(;0<re-Y;)ne=_(ne),re--;for(;Y--;){if(Oe===ne||ne!==null&&Oe===ne.alternate)break t;Oe=_(Oe),ne=_(ne)}Oe=null}else Oe=null;Ce!==null&&C(_e,ge,Ce,Oe,!1),Me!==null&&Qt!==null&&C(_e,Qt,Me,Oe,!0)}}e:{if(ge=oe?Qs(oe):window,Ce=ge.nodeName&&ge.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&ge.type==="file")var De=Qp;else if(rd(ge))if(si)De=wc;else{De=Vo;var ze=cu}else(Ce=ge.nodeName)&&Ce.toLowerCase()==="input"&&(ge.type==="checkbox"||ge.type==="radio")&&(De=hu);if(De&&(De=De(i,oe))){ou(_e,De,h,ye);break e}ze&&ze(i,ge,oe),i==="focusout"&&(ze=ge._wrapperState)&&ze.controlled&&ge.type==="number"&&Gt(ge,"number",ge.value)}switch(ze=oe?Qs(oe):window,i){case"focusin":(rd(ze)||ze.contentEditable==="true")&&(jo=ze,Fo=oe,il=null);break;case"focusout":il=Fo=jo=null;break;case"mousedown":fu=!0;break;case"contextmenu":case"mouseup":case"dragend":fu=!1,ad(_e,h,ye);break;case"selectionchange":if(du)break;case"keydown":case"keyup":ad(_e,h,ye)}var He;if(is)e:{switch(i){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else Ci?Oo(i,h)&&(Ke="onCompositionEnd"):i==="keydown"&&h.keyCode===229&&(Ke="onCompositionStart");Ke&&(td&&h.locale!=="ko"&&(Ci||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&Ci&&(He=Ya()):(tr=ye,_n="value"in tr?tr.value:tr.textContent,Ci=!0)),ze=m(oe,Ke),0<ze.length&&(Ke=new I(Ke,i,null,h,ye),_e.push({event:Ke,listeners:ze}),He?Ke.data=He:(He=_c(h),He!==null&&(Ke.data=He)))),(He=Si?Kp(i,h):ss(i,h))&&(oe=m(oe,"onBeforeInput"),0<oe.length&&(ye=new I("onBeforeInput","beforeinput",null,h,ye),_e.push({event:ye,listeners:oe}),ye.data=He))}bc(_e,a)})}function c(i,a,h){return{instance:i,listener:a,currentTarget:h}}function m(i,a){for(var h=a+"Capture",g=[];i!==null;){var w=i,E=w.stateNode;w.tag===5&&E!==null&&(w=E,E=bs(i,h),E!=null&&g.unshift(c(i,E,w)),E=bs(i,a),E!=null&&g.push(c(i,E,w))),i=i.return}return g}function _(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function C(i,a,h,g,w){for(var E=a._reactName,k=[];h!==null&&h!==g;){var W=h,Q=W.alternate,oe=W.stateNode;if(Q!==null&&Q===g)break;W.tag===5&&oe!==null&&(W=oe,w?(Q=bs(h,E),Q!=null&&k.unshift(c(h,Q,W))):w||(Q=bs(h,E),Q!=null&&k.push(c(h,Q,W)))),h=h.return}k.length!==0&&i.push({event:a,listeners:k})}var N=/\r\n?/g,K=/\u0000|\uFFFD/g;function te(i){return(typeof i=="string"?i:""+i).replace(N,`
`).replace(K,"")}function se(i,a,h){if(a=te(a),te(i)!==a&&h)throw Error(t(425))}function pe(){}var Pe=null,Be=null;function tt(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var dn=typeof setTimeout=="function"?setTimeout:void 0,nn=typeof clearTimeout=="function"?clearTimeout:void 0,sr=typeof Promise=="function"?Promise:void 0,Bn=typeof queueMicrotask=="function"?queueMicrotask:typeof sr<"u"?function(i){return sr.resolve(null).then(i).catch(Wo)}:dn;function Wo(i){setTimeout(function(){throw i})}function Rc(i,a){var h=a,g=0;do{var w=h.nextSibling;if(i.removeChild(h),w&&w.nodeType===8)if(h=w.data,h==="/$"){if(g===0){i.removeChild(w),Vn(a);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=w}while(h);Vn(a)}function us(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function fd(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var h=i.data;if(h==="$"||h==="$!"||h==="$?"){if(a===0)return i;a--}else h==="/$"&&a++}i=i.previousSibling}return null}var Gs=Math.random().toString(36).slice(2),li="__reactFiber$"+Gs,$o="__reactProps$"+Gs,Tt="__reactContainer$"+Gs,qo="__reactEvents$"+Gs,Xp="__reactListeners$"+Gs,Jp="__reactHandles$"+Gs;function Ks(i){var a=i[li];if(a)return a;for(var h=i.parentNode;h;){if(a=h[Tt]||h[li]){if(h=a.alternate,a.child!==null||h!==null&&h.child!==null)for(i=fd(i);i!==null;){if(h=i[li])return h;i=fd(i)}return a}i=h,h=i.parentNode}return null}function Zs(i){return i=i[li]||i[Tt],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Qs(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function mu(i){return i[$o]||null}var em=[],gu=-1;function Go(i){return{current:i}}function Nt(i){0>gu||(i.current=em[gu],em[gu]=null,gu--)}function bt(i,a){gu++,em[gu]=i.current,i.current=a}var Ko={},Un=Go(Ko),yr=Go(!1),al=Ko;function yu(i,a){var h=i.type.contextTypes;if(!h)return Ko;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===a)return g.__reactInternalMemoizedMaskedChildContext;var w={},E;for(E in h)w[E]=a[E];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=w),w}function vr(i){return i=i.childContextTypes,i!=null}function pd(){Nt(yr),Nt(Un)}function O_(i,a,h){if(Un.current!==Ko)throw Error(t(168));bt(Un,a),bt(yr,h)}function D_(i,a,h){var g=i.stateNode;if(a=a.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var w in g)if(!(w in a))throw Error(t(108,Je(i)||"Unknown",w));return ae({},h,g)}function md(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ko,al=Un.current,bt(Un,i),bt(yr,yr.current),!0}function V_(i,a,h){var g=i.stateNode;if(!g)throw Error(t(169));h?(i=D_(i,a,al),g.__reactInternalMemoizedMergedChildContext=i,Nt(yr),Nt(Un),bt(Un,i)):Nt(yr),bt(yr,h)}var Ys=null,gd=!1,tm=!1;function j_(i){Ys===null?Ys=[i]:Ys.push(i)}function Pb(i){gd=!0,j_(i)}function Zo(){if(!tm&&Ys!==null){tm=!0;var i=0,a=nt;try{var h=Ys;for(nt=1;i<h.length;i++){var g=h[i];do g=g(!0);while(g!==null)}Ys=null,gd=!1}catch(w){throw Ys!==null&&(Ys=Ys.slice(i+1)),Ga(So,Zo),w}finally{nt=a,tm=!1}}return null}var vu=[],_u=0,yd=null,vd=0,ui=[],ci=0,ll=null,Xs=1,Js="";function ul(i,a){vu[_u++]=vd,vu[_u++]=yd,yd=i,vd=a}function F_(i,a,h){ui[ci++]=Xs,ui[ci++]=Js,ui[ci++]=ll,ll=i;var g=Xs;i=Js;var w=32-Ze(g)-1;g&=~(1<<w),h+=1;var E=32-Ze(a)+w;if(30<E){var k=w-w%5;E=(g&(1<<k)-1).toString(32),g>>=k,w-=k,Xs=1<<32-Ze(a)+w|h<<w|g,Js=E+i}else Xs=1<<E|h<<w|g,Js=i}function nm(i){i.return!==null&&(ul(i,1),F_(i,1,0))}function rm(i){for(;i===yd;)yd=vu[--_u],vu[_u]=null,vd=vu[--_u],vu[_u]=null;for(;i===ll;)ll=ui[--ci],ui[ci]=null,Js=ui[--ci],ui[ci]=null,Xs=ui[--ci],ui[ci]=null}var Dr=null,Vr=null,Ft=!1,bi=null;function B_(i,a){var h=pi(5,null,null,0);h.elementType="DELETED",h.stateNode=a,h.return=i,a=i.deletions,a===null?(i.deletions=[h],i.flags|=16):a.push(h)}function U_(i,a){switch(i.tag){case 5:var h=i.type;return a=a.nodeType!==1||h.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,Dr=i,Vr=us(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,Dr=i,Vr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(h=ll!==null?{id:Xs,overflow:Js}:null,i.memoizedState={dehydrated:a,treeContext:h,retryLane:1073741824},h=pi(18,null,null,0),h.stateNode=a,h.return=i,i.child=h,Dr=i,Vr=null,!0):!1;default:return!1}}function im(i){return(i.mode&1)!==0&&(i.flags&128)===0}function sm(i){if(Ft){var a=Vr;if(a){var h=a;if(!U_(i,a)){if(im(i))throw Error(t(418));a=us(h.nextSibling);var g=Dr;a&&U_(i,a)?B_(g,h):(i.flags=i.flags&-4097|2,Ft=!1,Dr=i)}}else{if(im(i))throw Error(t(418));i.flags=i.flags&-4097|2,Ft=!1,Dr=i}}}function z_(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Dr=i}function _d(i){if(i!==Dr)return!1;if(!Ft)return z_(i),Ft=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!tt(i.type,i.memoizedProps)),a&&(a=Vr)){if(im(i))throw H_(),Error(t(418));for(;a;)B_(i,a),a=us(a.nextSibling)}if(z_(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var h=i.data;if(h==="/$"){if(a===0){Vr=us(i.nextSibling);break e}a--}else h!=="$"&&h!=="$!"&&h!=="$?"||a++}i=i.nextSibling}Vr=null}}else Vr=Dr?us(i.stateNode.nextSibling):null;return!0}function H_(){for(var i=Vr;i;)i=us(i.nextSibling)}function wu(){Vr=Dr=null,Ft=!1}function om(i){bi===null?bi=[i]:bi.push(i)}var Sb=J.ReactCurrentBatchConfig;function kc(i,a,h){if(i=h.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var g=h.stateNode}if(!g)throw Error(t(147,i));var w=g,E=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===E?a.ref:(a=function(k){var W=w.refs;k===null?delete W[E]:W[E]=k},a._stringRef=E,a)}if(typeof i!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,i))}return i}function wd(i,a){throw i=Object.prototype.toString.call(a),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function W_(i){var a=i._init;return a(i._payload)}function $_(i){function a(ne,Y){if(i){var re=ne.deletions;re===null?(ne.deletions=[Y],ne.flags|=16):re.push(Y)}}function h(ne,Y){if(!i)return null;for(;Y!==null;)a(ne,Y),Y=Y.sibling;return null}function g(ne,Y){for(ne=new Map;Y!==null;)Y.key!==null?ne.set(Y.key,Y):ne.set(Y.index,Y),Y=Y.sibling;return ne}function w(ne,Y){return ne=ra(ne,Y),ne.index=0,ne.sibling=null,ne}function E(ne,Y,re){return ne.index=re,i?(re=ne.alternate,re!==null?(re=re.index,re<Y?(ne.flags|=2,Y):re):(ne.flags|=2,Y)):(ne.flags|=1048576,Y)}function k(ne){return i&&ne.alternate===null&&(ne.flags|=2),ne}function W(ne,Y,re,we){return Y===null||Y.tag!==6?(Y=Ym(re,ne.mode,we),Y.return=ne,Y):(Y=w(Y,re),Y.return=ne,Y)}function Q(ne,Y,re,we){var De=re.type;return De===F?ye(ne,Y,re.props.children,we,re.key):Y!==null&&(Y.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===Ie&&W_(De)===Y.type)?(we=w(Y,re.props),we.ref=kc(ne,Y,re),we.return=ne,we):(we=Wd(re.type,re.key,re.props,null,ne.mode,we),we.ref=kc(ne,Y,re),we.return=ne,we)}function oe(ne,Y,re,we){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==re.containerInfo||Y.stateNode.implementation!==re.implementation?(Y=Xm(re,ne.mode,we),Y.return=ne,Y):(Y=w(Y,re.children||[]),Y.return=ne,Y)}function ye(ne,Y,re,we,De){return Y===null||Y.tag!==7?(Y=yl(re,ne.mode,we,De),Y.return=ne,Y):(Y=w(Y,re),Y.return=ne,Y)}function _e(ne,Y,re){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=Ym(""+Y,ne.mode,re),Y.return=ne,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case le:return re=Wd(Y.type,Y.key,Y.props,null,ne.mode,re),re.ref=kc(ne,null,Y),re.return=ne,re;case ce:return Y=Xm(Y,ne.mode,re),Y.return=ne,Y;case Ie:var we=Y._init;return _e(ne,we(Y._payload),re)}if(Dt(Y)||me(Y))return Y=yl(Y,ne.mode,re,null),Y.return=ne,Y;wd(ne,Y)}return null}function ge(ne,Y,re,we){var De=Y!==null?Y.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return De!==null?null:W(ne,Y,""+re,we);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case le:return re.key===De?Q(ne,Y,re,we):null;case ce:return re.key===De?oe(ne,Y,re,we):null;case Ie:return De=re._init,ge(ne,Y,De(re._payload),we)}if(Dt(re)||me(re))return De!==null?null:ye(ne,Y,re,we,null);wd(ne,re)}return null}function Ce(ne,Y,re,we,De){if(typeof we=="string"&&we!==""||typeof we=="number")return ne=ne.get(re)||null,W(Y,ne,""+we,De);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case le:return ne=ne.get(we.key===null?re:we.key)||null,Q(Y,ne,we,De);case ce:return ne=ne.get(we.key===null?re:we.key)||null,oe(Y,ne,we,De);case Ie:var ze=we._init;return Ce(ne,Y,re,ze(we._payload),De)}if(Dt(we)||me(we))return ne=ne.get(re)||null,ye(Y,ne,we,De,null);wd(Y,we)}return null}function Me(ne,Y,re,we){for(var De=null,ze=null,He=Y,Ke=Y=0,En=null;He!==null&&Ke<re.length;Ke++){He.index>Ke?(En=He,He=null):En=He.sibling;var gt=ge(ne,He,re[Ke],we);if(gt===null){He===null&&(He=En);break}i&&He&&gt.alternate===null&&a(ne,He),Y=E(gt,Y,Ke),ze===null?De=gt:ze.sibling=gt,ze=gt,He=En}if(Ke===re.length)return h(ne,He),Ft&&ul(ne,Ke),De;if(He===null){for(;Ke<re.length;Ke++)He=_e(ne,re[Ke],we),He!==null&&(Y=E(He,Y,Ke),ze===null?De=He:ze.sibling=He,ze=He);return Ft&&ul(ne,Ke),De}for(He=g(ne,He);Ke<re.length;Ke++)En=Ce(He,ne,Ke,re[Ke],we),En!==null&&(i&&En.alternate!==null&&He.delete(En.key===null?Ke:En.key),Y=E(En,Y,Ke),ze===null?De=En:ze.sibling=En,ze=En);return i&&He.forEach(function(ia){return a(ne,ia)}),Ft&&ul(ne,Ke),De}function Oe(ne,Y,re,we){var De=me(re);if(typeof De!="function")throw Error(t(150));if(re=De.call(re),re==null)throw Error(t(151));for(var ze=De=null,He=Y,Ke=Y=0,En=null,gt=re.next();He!==null&&!gt.done;Ke++,gt=re.next()){He.index>Ke?(En=He,He=null):En=He.sibling;var ia=ge(ne,He,gt.value,we);if(ia===null){He===null&&(He=En);break}i&&He&&ia.alternate===null&&a(ne,He),Y=E(ia,Y,Ke),ze===null?De=ia:ze.sibling=ia,ze=ia,He=En}if(gt.done)return h(ne,He),Ft&&ul(ne,Ke),De;if(He===null){for(;!gt.done;Ke++,gt=re.next())gt=_e(ne,gt.value,we),gt!==null&&(Y=E(gt,Y,Ke),ze===null?De=gt:ze.sibling=gt,ze=gt);return Ft&&ul(ne,Ke),De}for(He=g(ne,He);!gt.done;Ke++,gt=re.next())gt=Ce(He,ne,Ke,gt.value,we),gt!==null&&(i&&gt.alternate!==null&&He.delete(gt.key===null?Ke:gt.key),Y=E(gt,Y,Ke),ze===null?De=gt:ze.sibling=gt,ze=gt);return i&&He.forEach(function(iA){return a(ne,iA)}),Ft&&ul(ne,Ke),De}function Qt(ne,Y,re,we){if(typeof re=="object"&&re!==null&&re.type===F&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case le:e:{for(var De=re.key,ze=Y;ze!==null;){if(ze.key===De){if(De=re.type,De===F){if(ze.tag===7){h(ne,ze.sibling),Y=w(ze,re.props.children),Y.return=ne,ne=Y;break e}}else if(ze.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===Ie&&W_(De)===ze.type){h(ne,ze.sibling),Y=w(ze,re.props),Y.ref=kc(ne,ze,re),Y.return=ne,ne=Y;break e}h(ne,ze);break}else a(ne,ze);ze=ze.sibling}re.type===F?(Y=yl(re.props.children,ne.mode,we,re.key),Y.return=ne,ne=Y):(we=Wd(re.type,re.key,re.props,null,ne.mode,we),we.ref=kc(ne,Y,re),we.return=ne,ne=we)}return k(ne);case ce:e:{for(ze=re.key;Y!==null;){if(Y.key===ze)if(Y.tag===4&&Y.stateNode.containerInfo===re.containerInfo&&Y.stateNode.implementation===re.implementation){h(ne,Y.sibling),Y=w(Y,re.children||[]),Y.return=ne,ne=Y;break e}else{h(ne,Y);break}else a(ne,Y);Y=Y.sibling}Y=Xm(re,ne.mode,we),Y.return=ne,ne=Y}return k(ne);case Ie:return ze=re._init,Qt(ne,Y,ze(re._payload),we)}if(Dt(re))return Me(ne,Y,re,we);if(me(re))return Oe(ne,Y,re,we);wd(ne,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,Y!==null&&Y.tag===6?(h(ne,Y.sibling),Y=w(Y,re),Y.return=ne,ne=Y):(h(ne,Y),Y=Ym(re,ne.mode,we),Y.return=ne,ne=Y),k(ne)):h(ne,Y)}return Qt}var Tu=$_(!0),q_=$_(!1),Td=Go(null),Ed=null,Eu=null,am=null;function lm(){am=Eu=Ed=null}function um(i){var a=Td.current;Nt(Td),i._currentValue=a}function cm(i,a,h){for(;i!==null;){var g=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),i===h)break;i=i.return}}function xu(i,a){Ed=i,am=Eu=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(_r=!0),i.firstContext=null)}function hi(i){var a=i._currentValue;if(am!==i)if(i={context:i,memoizedValue:a,next:null},Eu===null){if(Ed===null)throw Error(t(308));Eu=i,Ed.dependencies={lanes:0,firstContext:i}}else Eu=Eu.next=i;return a}var cl=null;function hm(i){cl===null?cl=[i]:cl.push(i)}function G_(i,a,h,g){var w=a.interleaved;return w===null?(h.next=h,hm(a)):(h.next=w.next,w.next=h),a.interleaved=h,eo(i,g)}function eo(i,a){i.lanes|=a;var h=i.alternate;for(h!==null&&(h.lanes|=a),h=i,i=i.return;i!==null;)i.childLanes|=a,h=i.alternate,h!==null&&(h.childLanes|=a),h=i,i=i.return;return h.tag===3?h.stateNode:null}var Qo=!1;function dm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function K_(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function to(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function Yo(i,a,h){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(pt&2)!==0){var w=g.pending;return w===null?a.next=a:(a.next=w.next,w.next=a),g.pending=a,eo(i,h)}return w=g.interleaved,w===null?(a.next=a,hm(g)):(a.next=w.next,w.next=a),g.interleaved=a,eo(i,h)}function xd(i,a,h){if(a=a.updateQueue,a!==null&&(a=a.shared,(h&4194240)!==0)){var g=a.lanes;g&=i.pendingLanes,h|=g,a.lanes=h,Rr(i,h)}}function Z_(i,a){var h=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var w=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var k={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};E===null?w=E=k:E=E.next=k,h=h.next}while(h!==null);E===null?w=E=a:E=E.next=a}else w=E=a;h={baseState:g.baseState,firstBaseUpdate:w,lastBaseUpdate:E,shared:g.shared,effects:g.effects},i.updateQueue=h;return}i=h.lastBaseUpdate,i===null?h.firstBaseUpdate=a:i.next=a,h.lastBaseUpdate=a}function Pd(i,a,h,g){var w=i.updateQueue;Qo=!1;var E=w.firstBaseUpdate,k=w.lastBaseUpdate,W=w.shared.pending;if(W!==null){w.shared.pending=null;var Q=W,oe=Q.next;Q.next=null,k===null?E=oe:k.next=oe,k=Q;var ye=i.alternate;ye!==null&&(ye=ye.updateQueue,W=ye.lastBaseUpdate,W!==k&&(W===null?ye.firstBaseUpdate=oe:W.next=oe,ye.lastBaseUpdate=Q))}if(E!==null){var _e=w.baseState;k=0,ye=oe=Q=null,W=E;do{var ge=W.lane,Ce=W.eventTime;if((g&ge)===ge){ye!==null&&(ye=ye.next={eventTime:Ce,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var Me=i,Oe=W;switch(ge=a,Ce=h,Oe.tag){case 1:if(Me=Oe.payload,typeof Me=="function"){_e=Me.call(Ce,_e,ge);break e}_e=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Oe.payload,ge=typeof Me=="function"?Me.call(Ce,_e,ge):Me,ge==null)break e;_e=ae({},_e,ge);break e;case 2:Qo=!0}}W.callback!==null&&W.lane!==0&&(i.flags|=64,ge=w.effects,ge===null?w.effects=[W]:ge.push(W))}else Ce={eventTime:Ce,lane:ge,tag:W.tag,payload:W.payload,callback:W.callback,next:null},ye===null?(oe=ye=Ce,Q=_e):ye=ye.next=Ce,k|=ge;if(W=W.next,W===null){if(W=w.shared.pending,W===null)break;ge=W,W=ge.next,ge.next=null,w.lastBaseUpdate=ge,w.shared.pending=null}}while(!0);if(ye===null&&(Q=_e),w.baseState=Q,w.firstBaseUpdate=oe,w.lastBaseUpdate=ye,a=w.shared.interleaved,a!==null){w=a;do k|=w.lane,w=w.next;while(w!==a)}else E===null&&(w.shared.lanes=0);fl|=k,i.lanes=k,i.memoizedState=_e}}function Q_(i,a,h){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var g=i[a],w=g.callback;if(w!==null){if(g.callback=null,g=h,typeof w!="function")throw Error(t(191,w));w.call(g)}}}var Nc={},cs=Go(Nc),Lc=Go(Nc),Mc=Go(Nc);function hl(i){if(i===Nc)throw Error(t(174));return i}function fm(i,a){switch(bt(Mc,a),bt(Lc,i),bt(cs,Nc),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Is(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=Is(a,i)}Nt(cs),bt(cs,a)}function Pu(){Nt(cs),Nt(Lc),Nt(Mc)}function Y_(i){hl(Mc.current);var a=hl(cs.current),h=Is(a,i.type);a!==h&&(bt(Lc,i),bt(cs,h))}function pm(i){Lc.current===i&&(Nt(cs),Nt(Lc))}var Ht=Go(0);function Sd(i){for(var a=i;a!==null;){if(a.tag===13){var h=a.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var mm=[];function gm(){for(var i=0;i<mm.length;i++)mm[i]._workInProgressVersionPrimary=null;mm.length=0}var Cd=J.ReactCurrentDispatcher,ym=J.ReactCurrentBatchConfig,dl=0,Wt=null,fn=null,wn=null,Id=!1,Oc=!1,Dc=0,Cb=0;function zn(){throw Error(t(321))}function vm(i,a){if(a===null)return!1;for(var h=0;h<a.length&&h<i.length;h++)if(!Mr(i[h],a[h]))return!1;return!0}function _m(i,a,h,g,w,E){if(dl=E,Wt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Cd.current=i===null||i.memoizedState===null?Rb:kb,i=h(g,w),Oc){E=0;do{if(Oc=!1,Dc=0,25<=E)throw Error(t(301));E+=1,wn=fn=null,a.updateQueue=null,Cd.current=Nb,i=h(g,w)}while(Oc)}if(Cd.current=Rd,a=fn!==null&&fn.next!==null,dl=0,wn=fn=Wt=null,Id=!1,a)throw Error(t(300));return i}function wm(){var i=Dc!==0;return Dc=0,i}function hs(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Wt.memoizedState=wn=i:wn=wn.next=i,wn}function di(){if(fn===null){var i=Wt.alternate;i=i!==null?i.memoizedState:null}else i=fn.next;var a=wn===null?Wt.memoizedState:wn.next;if(a!==null)wn=a,fn=i;else{if(i===null)throw Error(t(310));fn=i,i={memoizedState:fn.memoizedState,baseState:fn.baseState,baseQueue:fn.baseQueue,queue:fn.queue,next:null},wn===null?Wt.memoizedState=wn=i:wn=wn.next=i}return wn}function Vc(i,a){return typeof a=="function"?a(i):a}function Tm(i){var a=di(),h=a.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=i;var g=fn,w=g.baseQueue,E=h.pending;if(E!==null){if(w!==null){var k=w.next;w.next=E.next,E.next=k}g.baseQueue=w=E,h.pending=null}if(w!==null){E=w.next,g=g.baseState;var W=k=null,Q=null,oe=E;do{var ye=oe.lane;if((dl&ye)===ye)Q!==null&&(Q=Q.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),g=oe.hasEagerState?oe.eagerState:i(g,oe.action);else{var _e={lane:ye,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};Q===null?(W=Q=_e,k=g):Q=Q.next=_e,Wt.lanes|=ye,fl|=ye}oe=oe.next}while(oe!==null&&oe!==E);Q===null?k=g:Q.next=W,Mr(g,a.memoizedState)||(_r=!0),a.memoizedState=g,a.baseState=k,a.baseQueue=Q,h.lastRenderedState=g}if(i=h.interleaved,i!==null){w=i;do E=w.lane,Wt.lanes|=E,fl|=E,w=w.next;while(w!==i)}else w===null&&(h.lanes=0);return[a.memoizedState,h.dispatch]}function Em(i){var a=di(),h=a.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=i;var g=h.dispatch,w=h.pending,E=a.memoizedState;if(w!==null){h.pending=null;var k=w=w.next;do E=i(E,k.action),k=k.next;while(k!==w);Mr(E,a.memoizedState)||(_r=!0),a.memoizedState=E,a.baseQueue===null&&(a.baseState=E),h.lastRenderedState=E}return[E,g]}function X_(){}function J_(i,a){var h=Wt,g=di(),w=a(),E=!Mr(g.memoizedState,w);if(E&&(g.memoizedState=w,_r=!0),g=g.queue,xm(n0.bind(null,h,g,i),[i]),g.getSnapshot!==a||E||wn!==null&&wn.memoizedState.tag&1){if(h.flags|=2048,jc(9,t0.bind(null,h,g,w,a),void 0,null),Tn===null)throw Error(t(349));(dl&30)!==0||e0(h,a,w)}return w}function e0(i,a,h){i.flags|=16384,i={getSnapshot:a,value:h},a=Wt.updateQueue,a===null?(a={lastEffect:null,stores:null},Wt.updateQueue=a,a.stores=[i]):(h=a.stores,h===null?a.stores=[i]:h.push(i))}function t0(i,a,h,g){a.value=h,a.getSnapshot=g,r0(a)&&i0(i)}function n0(i,a,h){return h(function(){r0(a)&&i0(i)})}function r0(i){var a=i.getSnapshot;i=i.value;try{var h=a();return!Mr(i,h)}catch{return!0}}function i0(i){var a=eo(i,1);a!==null&&Ni(a,i,1,-1)}function s0(i){var a=hs();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vc,lastRenderedState:i},a.queue=i,i=i.dispatch=Ab.bind(null,Wt,i),[a.memoizedState,i]}function jc(i,a,h,g){return i={tag:i,create:a,destroy:h,deps:g,next:null},a=Wt.updateQueue,a===null?(a={lastEffect:null,stores:null},Wt.updateQueue=a,a.lastEffect=i.next=i):(h=a.lastEffect,h===null?a.lastEffect=i.next=i:(g=h.next,h.next=i,i.next=g,a.lastEffect=i)),i}function o0(){return di().memoizedState}function bd(i,a,h,g){var w=hs();Wt.flags|=i,w.memoizedState=jc(1|a,h,void 0,g===void 0?null:g)}function Ad(i,a,h,g){var w=di();g=g===void 0?null:g;var E=void 0;if(fn!==null){var k=fn.memoizedState;if(E=k.destroy,g!==null&&vm(g,k.deps)){w.memoizedState=jc(a,h,E,g);return}}Wt.flags|=i,w.memoizedState=jc(1|a,h,E,g)}function a0(i,a){return bd(8390656,8,i,a)}function xm(i,a){return Ad(2048,8,i,a)}function l0(i,a){return Ad(4,2,i,a)}function u0(i,a){return Ad(4,4,i,a)}function c0(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function h0(i,a,h){return h=h!=null?h.concat([i]):null,Ad(4,4,c0.bind(null,a,i),h)}function Pm(){}function d0(i,a){var h=di();a=a===void 0?null:a;var g=h.memoizedState;return g!==null&&a!==null&&vm(a,g[1])?g[0]:(h.memoizedState=[i,a],i)}function f0(i,a){var h=di();a=a===void 0?null:a;var g=h.memoizedState;return g!==null&&a!==null&&vm(a,g[1])?g[0]:(i=i(),h.memoizedState=[i,a],i)}function p0(i,a,h){return(dl&21)===0?(i.baseState&&(i.baseState=!1,_r=!0),i.memoizedState=h):(Mr(h,a)||(h=Za(),Wt.lanes|=h,fl|=h,i.baseState=!0),a)}function Ib(i,a){var h=nt;nt=h!==0&&4>h?h:4,i(!0);var g=ym.transition;ym.transition={};try{i(!1),a()}finally{nt=h,ym.transition=g}}function m0(){return di().memoizedState}function bb(i,a,h){var g=ta(i);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},g0(i))y0(a,h);else if(h=G_(i,a,h,g),h!==null){var w=ar();Ni(h,i,g,w),v0(h,a,g)}}function Ab(i,a,h){var g=ta(i),w={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(g0(i))y0(a,w);else{var E=i.alternate;if(i.lanes===0&&(E===null||E.lanes===0)&&(E=a.lastRenderedReducer,E!==null))try{var k=a.lastRenderedState,W=E(k,h);if(w.hasEagerState=!0,w.eagerState=W,Mr(W,k)){var Q=a.interleaved;Q===null?(w.next=w,hm(a)):(w.next=Q.next,Q.next=w),a.interleaved=w;return}}catch{}finally{}h=G_(i,a,w,g),h!==null&&(w=ar(),Ni(h,i,g,w),v0(h,a,g))}}function g0(i){var a=i.alternate;return i===Wt||a!==null&&a===Wt}function y0(i,a){Oc=Id=!0;var h=i.pending;h===null?a.next=a:(a.next=h.next,h.next=a),i.pending=a}function v0(i,a,h){if((h&4194240)!==0){var g=a.lanes;g&=i.pendingLanes,h|=g,a.lanes=h,Rr(i,h)}}var Rd={readContext:hi,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useInsertionEffect:zn,useLayoutEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useMutableSource:zn,useSyncExternalStore:zn,useId:zn,unstable_isNewReconciler:!1},Rb={readContext:hi,useCallback:function(i,a){return hs().memoizedState=[i,a===void 0?null:a],i},useContext:hi,useEffect:a0,useImperativeHandle:function(i,a,h){return h=h!=null?h.concat([i]):null,bd(4194308,4,c0.bind(null,a,i),h)},useLayoutEffect:function(i,a){return bd(4194308,4,i,a)},useInsertionEffect:function(i,a){return bd(4,2,i,a)},useMemo:function(i,a){var h=hs();return a=a===void 0?null:a,i=i(),h.memoizedState=[i,a],i},useReducer:function(i,a,h){var g=hs();return a=h!==void 0?h(a):a,g.memoizedState=g.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},g.queue=i,i=i.dispatch=bb.bind(null,Wt,i),[g.memoizedState,i]},useRef:function(i){var a=hs();return i={current:i},a.memoizedState=i},useState:s0,useDebugValue:Pm,useDeferredValue:function(i){return hs().memoizedState=i},useTransition:function(){var i=s0(!1),a=i[0];return i=Ib.bind(null,i[1]),hs().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,h){var g=Wt,w=hs();if(Ft){if(h===void 0)throw Error(t(407));h=h()}else{if(h=a(),Tn===null)throw Error(t(349));(dl&30)!==0||e0(g,a,h)}w.memoizedState=h;var E={value:h,getSnapshot:a};return w.queue=E,a0(n0.bind(null,g,E,i),[i]),g.flags|=2048,jc(9,t0.bind(null,g,E,h,a),void 0,null),h},useId:function(){var i=hs(),a=Tn.identifierPrefix;if(Ft){var h=Js,g=Xs;h=(g&~(1<<32-Ze(g)-1)).toString(32)+h,a=":"+a+"R"+h,h=Dc++,0<h&&(a+="H"+h.toString(32)),a+=":"}else h=Cb++,a=":"+a+"r"+h.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},kb={readContext:hi,useCallback:d0,useContext:hi,useEffect:xm,useImperativeHandle:h0,useInsertionEffect:l0,useLayoutEffect:u0,useMemo:f0,useReducer:Tm,useRef:o0,useState:function(){return Tm(Vc)},useDebugValue:Pm,useDeferredValue:function(i){var a=di();return p0(a,fn.memoizedState,i)},useTransition:function(){var i=Tm(Vc)[0],a=di().memoizedState;return[i,a]},useMutableSource:X_,useSyncExternalStore:J_,useId:m0,unstable_isNewReconciler:!1},Nb={readContext:hi,useCallback:d0,useContext:hi,useEffect:xm,useImperativeHandle:h0,useInsertionEffect:l0,useLayoutEffect:u0,useMemo:f0,useReducer:Em,useRef:o0,useState:function(){return Em(Vc)},useDebugValue:Pm,useDeferredValue:function(i){var a=di();return fn===null?a.memoizedState=i:p0(a,fn.memoizedState,i)},useTransition:function(){var i=Em(Vc)[0],a=di().memoizedState;return[i,a]},useMutableSource:X_,useSyncExternalStore:J_,useId:m0,unstable_isNewReconciler:!1};function Ai(i,a){if(i&&i.defaultProps){a=ae({},a),i=i.defaultProps;for(var h in i)a[h]===void 0&&(a[h]=i[h]);return a}return a}function Sm(i,a,h,g){a=i.memoizedState,h=h(g,a),h=h==null?a:ae({},a,h),i.memoizedState=h,i.lanes===0&&(i.updateQueue.baseState=h)}var kd={isMounted:function(i){return(i=i._reactInternals)?hr(i)===i:!1},enqueueSetState:function(i,a,h){i=i._reactInternals;var g=ar(),w=ta(i),E=to(g,w);E.payload=a,h!=null&&(E.callback=h),a=Yo(i,E,w),a!==null&&(Ni(a,i,w,g),xd(a,i,w))},enqueueReplaceState:function(i,a,h){i=i._reactInternals;var g=ar(),w=ta(i),E=to(g,w);E.tag=1,E.payload=a,h!=null&&(E.callback=h),a=Yo(i,E,w),a!==null&&(Ni(a,i,w,g),xd(a,i,w))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var h=ar(),g=ta(i),w=to(h,g);w.tag=2,a!=null&&(w.callback=a),a=Yo(i,w,g),a!==null&&(Ni(a,i,g,h),xd(a,i,g))}};function _0(i,a,h,g,w,E,k){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,E,k):a.prototype&&a.prototype.isPureReactComponent?!os(h,g)||!os(w,E):!0}function w0(i,a,h){var g=!1,w=Ko,E=a.contextType;return typeof E=="object"&&E!==null?E=hi(E):(w=vr(a)?al:Un.current,g=a.contextTypes,E=(g=g!=null)?yu(i,w):Ko),a=new a(h,E),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=kd,i.stateNode=a,a._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=w,i.__reactInternalMemoizedMaskedChildContext=E),a}function T0(i,a,h,g){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(h,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(h,g),a.state!==i&&kd.enqueueReplaceState(a,a.state,null)}function Cm(i,a,h,g){var w=i.stateNode;w.props=h,w.state=i.memoizedState,w.refs={},dm(i);var E=a.contextType;typeof E=="object"&&E!==null?w.context=hi(E):(E=vr(a)?al:Un.current,w.context=yu(i,E)),w.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Sm(i,a,E,h),w.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(a=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),a!==w.state&&kd.enqueueReplaceState(w,w.state,null),Pd(i,h,w,g),w.state=i.memoizedState),typeof w.componentDidMount=="function"&&(i.flags|=4194308)}function Su(i,a){try{var h="",g=a;do h+=Re(g),g=g.return;while(g);var w=h}catch(E){w=`
Error generating stack: `+E.message+`
`+E.stack}return{value:i,source:a,stack:w,digest:null}}function Im(i,a,h){return{value:i,source:null,stack:h??null,digest:a??null}}function bm(i,a){try{console.error(a.value)}catch(h){setTimeout(function(){throw h})}}var Lb=typeof WeakMap=="function"?WeakMap:Map;function E0(i,a,h){h=to(-1,h),h.tag=3,h.payload={element:null};var g=a.value;return h.callback=function(){jd||(jd=!0,Hm=g),bm(i,a)},h}function x0(i,a,h){h=to(-1,h),h.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var w=a.value;h.payload=function(){return g(w)},h.callback=function(){bm(i,a)}}var E=i.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(h.callback=function(){bm(i,a),typeof g!="function"&&(Jo===null?Jo=new Set([this]):Jo.add(this));var k=a.stack;this.componentDidCatch(a.value,{componentStack:k!==null?k:""})}),h}function P0(i,a,h){var g=i.pingCache;if(g===null){g=i.pingCache=new Lb;var w=new Set;g.set(a,w)}else w=g.get(a),w===void 0&&(w=new Set,g.set(a,w));w.has(h)||(w.add(h),i=Gb.bind(null,i,a,h),a.then(i,i))}function S0(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function C0(i,a,h,g,w){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(a=to(-1,1),a.tag=2,Yo(h,a,1))),h.lanes|=1),i):(i.flags|=65536,i.lanes=w,i)}var Mb=J.ReactCurrentOwner,_r=!1;function or(i,a,h,g){a.child=i===null?q_(a,null,h,g):Tu(a,i.child,h,g)}function I0(i,a,h,g,w){h=h.render;var E=a.ref;return xu(a,w),g=_m(i,a,h,g,E,w),h=wm(),i!==null&&!_r?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~w,no(i,a,w)):(Ft&&h&&nm(a),a.flags|=1,or(i,a,g,w),a.child)}function b0(i,a,h,g,w){if(i===null){var E=h.type;return typeof E=="function"&&!Qm(E)&&E.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(a.tag=15,a.type=E,A0(i,a,E,g,w)):(i=Wd(h.type,null,g,a,a.mode,w),i.ref=a.ref,i.return=a,a.child=i)}if(E=i.child,(i.lanes&w)===0){var k=E.memoizedProps;if(h=h.compare,h=h!==null?h:os,h(k,g)&&i.ref===a.ref)return no(i,a,w)}return a.flags|=1,i=ra(E,g),i.ref=a.ref,i.return=a,a.child=i}function A0(i,a,h,g,w){if(i!==null){var E=i.memoizedProps;if(os(E,g)&&i.ref===a.ref)if(_r=!1,a.pendingProps=g=E,(i.lanes&w)!==0)(i.flags&131072)!==0&&(_r=!0);else return a.lanes=i.lanes,no(i,a,w)}return Am(i,a,h,g,w)}function R0(i,a,h){var g=a.pendingProps,w=g.children,E=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(Iu,jr),jr|=h;else{if((h&1073741824)===0)return i=E!==null?E.baseLanes|h:h,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,bt(Iu,jr),jr|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=E!==null?E.baseLanes:h,bt(Iu,jr),jr|=g}else E!==null?(g=E.baseLanes|h,a.memoizedState=null):g=h,bt(Iu,jr),jr|=g;return or(i,a,w,h),a.child}function k0(i,a){var h=a.ref;(i===null&&h!==null||i!==null&&i.ref!==h)&&(a.flags|=512,a.flags|=2097152)}function Am(i,a,h,g,w){var E=vr(h)?al:Un.current;return E=yu(a,E),xu(a,w),h=_m(i,a,h,g,E,w),g=wm(),i!==null&&!_r?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~w,no(i,a,w)):(Ft&&g&&nm(a),a.flags|=1,or(i,a,h,w),a.child)}function N0(i,a,h,g,w){if(vr(h)){var E=!0;md(a)}else E=!1;if(xu(a,w),a.stateNode===null)Ld(i,a),w0(a,h,g),Cm(a,h,g,w),g=!0;else if(i===null){var k=a.stateNode,W=a.memoizedProps;k.props=W;var Q=k.context,oe=h.contextType;typeof oe=="object"&&oe!==null?oe=hi(oe):(oe=vr(h)?al:Un.current,oe=yu(a,oe));var ye=h.getDerivedStateFromProps,_e=typeof ye=="function"||typeof k.getSnapshotBeforeUpdate=="function";_e||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(W!==g||Q!==oe)&&T0(a,k,g,oe),Qo=!1;var ge=a.memoizedState;k.state=ge,Pd(a,g,k,w),Q=a.memoizedState,W!==g||ge!==Q||yr.current||Qo?(typeof ye=="function"&&(Sm(a,h,ye,g),Q=a.memoizedState),(W=Qo||_0(a,h,W,g,ge,Q,oe))?(_e||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(a.flags|=4194308)):(typeof k.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=Q),k.props=g,k.state=Q,k.context=oe,g=W):(typeof k.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{k=a.stateNode,K_(i,a),W=a.memoizedProps,oe=a.type===a.elementType?W:Ai(a.type,W),k.props=oe,_e=a.pendingProps,ge=k.context,Q=h.contextType,typeof Q=="object"&&Q!==null?Q=hi(Q):(Q=vr(h)?al:Un.current,Q=yu(a,Q));var Ce=h.getDerivedStateFromProps;(ye=typeof Ce=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(W!==_e||ge!==Q)&&T0(a,k,g,Q),Qo=!1,ge=a.memoizedState,k.state=ge,Pd(a,g,k,w);var Me=a.memoizedState;W!==_e||ge!==Me||yr.current||Qo?(typeof Ce=="function"&&(Sm(a,h,Ce,g),Me=a.memoizedState),(oe=Qo||_0(a,h,oe,g,ge,Me,Q)||!1)?(ye||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(g,Me,Q),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(g,Me,Q)),typeof k.componentDidUpdate=="function"&&(a.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof k.componentDidUpdate!="function"||W===i.memoizedProps&&ge===i.memoizedState||(a.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||W===i.memoizedProps&&ge===i.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=Me),k.props=g,k.state=Me,k.context=Q,g=oe):(typeof k.componentDidUpdate!="function"||W===i.memoizedProps&&ge===i.memoizedState||(a.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||W===i.memoizedProps&&ge===i.memoizedState||(a.flags|=1024),g=!1)}return Rm(i,a,h,g,E,w)}function Rm(i,a,h,g,w,E){k0(i,a);var k=(a.flags&128)!==0;if(!g&&!k)return w&&V_(a,h,!1),no(i,a,E);g=a.stateNode,Mb.current=a;var W=k&&typeof h.getDerivedStateFromError!="function"?null:g.render();return a.flags|=1,i!==null&&k?(a.child=Tu(a,i.child,null,E),a.child=Tu(a,null,W,E)):or(i,a,W,E),a.memoizedState=g.state,w&&V_(a,h,!0),a.child}function L0(i){var a=i.stateNode;a.pendingContext?O_(i,a.pendingContext,a.pendingContext!==a.context):a.context&&O_(i,a.context,!1),fm(i,a.containerInfo)}function M0(i,a,h,g,w){return wu(),om(w),a.flags|=256,or(i,a,h,g),a.child}var km={dehydrated:null,treeContext:null,retryLane:0};function Nm(i){return{baseLanes:i,cachePool:null,transitions:null}}function O0(i,a,h){var g=a.pendingProps,w=Ht.current,E=!1,k=(a.flags&128)!==0,W;if((W=k)||(W=i!==null&&i.memoizedState===null?!1:(w&2)!==0),W?(E=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(w|=1),bt(Ht,w&1),i===null)return sm(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(k=g.children,i=g.fallback,E?(g=a.mode,E=a.child,k={mode:"hidden",children:k},(g&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=k):E=$d(k,g,0,null),i=yl(i,g,h,null),E.return=a,i.return=a,E.sibling=i,a.child=E,a.child.memoizedState=Nm(h),a.memoizedState=km,i):Lm(a,k));if(w=i.memoizedState,w!==null&&(W=w.dehydrated,W!==null))return Ob(i,a,k,g,W,w,h);if(E){E=g.fallback,k=a.mode,w=i.child,W=w.sibling;var Q={mode:"hidden",children:g.children};return(k&1)===0&&a.child!==w?(g=a.child,g.childLanes=0,g.pendingProps=Q,a.deletions=null):(g=ra(w,Q),g.subtreeFlags=w.subtreeFlags&14680064),W!==null?E=ra(W,E):(E=yl(E,k,h,null),E.flags|=2),E.return=a,g.return=a,g.sibling=E,a.child=g,g=E,E=a.child,k=i.child.memoizedState,k=k===null?Nm(h):{baseLanes:k.baseLanes|h,cachePool:null,transitions:k.transitions},E.memoizedState=k,E.childLanes=i.childLanes&~h,a.memoizedState=km,g}return E=i.child,i=E.sibling,g=ra(E,{mode:"visible",children:g.children}),(a.mode&1)===0&&(g.lanes=h),g.return=a,g.sibling=null,i!==null&&(h=a.deletions,h===null?(a.deletions=[i],a.flags|=16):h.push(i)),a.child=g,a.memoizedState=null,g}function Lm(i,a){return a=$d({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function Nd(i,a,h,g){return g!==null&&om(g),Tu(a,i.child,null,h),i=Lm(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function Ob(i,a,h,g,w,E,k){if(h)return a.flags&256?(a.flags&=-257,g=Im(Error(t(422))),Nd(i,a,k,g)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(E=g.fallback,w=a.mode,g=$d({mode:"visible",children:g.children},w,0,null),E=yl(E,w,k,null),E.flags|=2,g.return=a,E.return=a,g.sibling=E,a.child=g,(a.mode&1)!==0&&Tu(a,i.child,null,k),a.child.memoizedState=Nm(k),a.memoizedState=km,E);if((a.mode&1)===0)return Nd(i,a,k,null);if(w.data==="$!"){if(g=w.nextSibling&&w.nextSibling.dataset,g)var W=g.dgst;return g=W,E=Error(t(419)),g=Im(E,g,void 0),Nd(i,a,k,g)}if(W=(k&i.childLanes)!==0,_r||W){if(g=Tn,g!==null){switch(k&-k){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(g.suspendedLanes|k))!==0?0:w,w!==0&&w!==E.retryLane&&(E.retryLane=w,eo(i,w),Ni(g,i,w,-1))}return Zm(),g=Im(Error(t(421))),Nd(i,a,k,g)}return w.data==="$?"?(a.flags|=128,a.child=i.child,a=Kb.bind(null,i),w._reactRetry=a,null):(i=E.treeContext,Vr=us(w.nextSibling),Dr=a,Ft=!0,bi=null,i!==null&&(ui[ci++]=Xs,ui[ci++]=Js,ui[ci++]=ll,Xs=i.id,Js=i.overflow,ll=a),a=Lm(a,g.children),a.flags|=4096,a)}function D0(i,a,h){i.lanes|=a;var g=i.alternate;g!==null&&(g.lanes|=a),cm(i.return,a,h)}function Mm(i,a,h,g,w){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:w}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=g,E.tail=h,E.tailMode=w)}function V0(i,a,h){var g=a.pendingProps,w=g.revealOrder,E=g.tail;if(or(i,a,g.children,h),g=Ht.current,(g&2)!==0)g=g&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&D0(i,h,a);else if(i.tag===19)D0(i,h,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(bt(Ht,g),(a.mode&1)===0)a.memoizedState=null;else switch(w){case"forwards":for(h=a.child,w=null;h!==null;)i=h.alternate,i!==null&&Sd(i)===null&&(w=h),h=h.sibling;h=w,h===null?(w=a.child,a.child=null):(w=h.sibling,h.sibling=null),Mm(a,!1,w,h,E);break;case"backwards":for(h=null,w=a.child,a.child=null;w!==null;){if(i=w.alternate,i!==null&&Sd(i)===null){a.child=w;break}i=w.sibling,w.sibling=h,h=w,w=i}Mm(a,!0,h,null,E);break;case"together":Mm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ld(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function no(i,a,h){if(i!==null&&(a.dependencies=i.dependencies),fl|=a.lanes,(h&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(t(153));if(a.child!==null){for(i=a.child,h=ra(i,i.pendingProps),a.child=h,h.return=a;i.sibling!==null;)i=i.sibling,h=h.sibling=ra(i,i.pendingProps),h.return=a;h.sibling=null}return a.child}function Db(i,a,h){switch(a.tag){case 3:L0(a),wu();break;case 5:Y_(a);break;case 1:vr(a.type)&&md(a);break;case 4:fm(a,a.stateNode.containerInfo);break;case 10:var g=a.type._context,w=a.memoizedProps.value;bt(Td,g._currentValue),g._currentValue=w;break;case 13:if(g=a.memoizedState,g!==null)return g.dehydrated!==null?(bt(Ht,Ht.current&1),a.flags|=128,null):(h&a.child.childLanes)!==0?O0(i,a,h):(bt(Ht,Ht.current&1),i=no(i,a,h),i!==null?i.sibling:null);bt(Ht,Ht.current&1);break;case 19:if(g=(h&a.childLanes)!==0,(i.flags&128)!==0){if(g)return V0(i,a,h);a.flags|=128}if(w=a.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),bt(Ht,Ht.current),g)break;return null;case 22:case 23:return a.lanes=0,R0(i,a,h)}return no(i,a,h)}var j0,Om,F0,B0;j0=function(i,a){for(var h=a.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break;for(;h.sibling===null;){if(h.return===null||h.return===a)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Om=function(){},F0=function(i,a,h,g){var w=i.memoizedProps;if(w!==g){i=a.stateNode,hl(cs.current);var E=null;switch(h){case"input":w=_o(i,w),g=_o(i,g),E=[];break;case"select":w=ae({},w,{value:void 0}),g=ae({},g,{value:void 0}),E=[];break;case"textarea":w=wo(i,w),g=wo(i,g),E=[];break;default:typeof w.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=pe)}Ar(h,g);var k;h=null;for(oe in w)if(!g.hasOwnProperty(oe)&&w.hasOwnProperty(oe)&&w[oe]!=null)if(oe==="style"){var W=w[oe];for(k in W)W.hasOwnProperty(k)&&(h||(h={}),h[k]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(s.hasOwnProperty(oe)?E||(E=[]):(E=E||[]).push(oe,null));for(oe in g){var Q=g[oe];if(W=w?.[oe],g.hasOwnProperty(oe)&&Q!==W&&(Q!=null||W!=null))if(oe==="style")if(W){for(k in W)!W.hasOwnProperty(k)||Q&&Q.hasOwnProperty(k)||(h||(h={}),h[k]="");for(k in Q)Q.hasOwnProperty(k)&&W[k]!==Q[k]&&(h||(h={}),h[k]=Q[k])}else h||(E||(E=[]),E.push(oe,h)),h=Q;else oe==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,W=W?W.__html:void 0,Q!=null&&W!==Q&&(E=E||[]).push(oe,Q)):oe==="children"?typeof Q!="string"&&typeof Q!="number"||(E=E||[]).push(oe,""+Q):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(s.hasOwnProperty(oe)?(Q!=null&&oe==="onScroll"&&xt("scroll",i),E||W===Q||(E=[])):(E=E||[]).push(oe,Q))}h&&(E=E||[]).push("style",h);var oe=E;(a.updateQueue=oe)&&(a.flags|=4)}},B0=function(i,a,h,g){h!==g&&(a.flags|=4)};function Fc(i,a){if(!Ft)switch(i.tailMode){case"hidden":a=i.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?i.tail=null:h.sibling=null;break;case"collapsed":h=i.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function Hn(i){var a=i.alternate!==null&&i.alternate.child===i.child,h=0,g=0;if(a)for(var w=i.child;w!==null;)h|=w.lanes|w.childLanes,g|=w.subtreeFlags&14680064,g|=w.flags&14680064,w.return=i,w=w.sibling;else for(w=i.child;w!==null;)h|=w.lanes|w.childLanes,g|=w.subtreeFlags,g|=w.flags,w.return=i,w=w.sibling;return i.subtreeFlags|=g,i.childLanes=h,a}function Vb(i,a,h){var g=a.pendingProps;switch(rm(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hn(a),null;case 1:return vr(a.type)&&pd(),Hn(a),null;case 3:return g=a.stateNode,Pu(),Nt(yr),Nt(Un),gm(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(_d(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,bi!==null&&(qm(bi),bi=null))),Om(i,a),Hn(a),null;case 5:pm(a);var w=hl(Mc.current);if(h=a.type,i!==null&&a.stateNode!=null)F0(i,a,h,g,w),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!g){if(a.stateNode===null)throw Error(t(166));return Hn(a),null}if(i=hl(cs.current),_d(a)){g=a.stateNode,h=a.type;var E=a.memoizedProps;switch(g[li]=a,g[$o]=E,i=(a.mode&1)!==0,h){case"dialog":xt("cancel",g),xt("close",g);break;case"iframe":case"object":case"embed":xt("load",g);break;case"video":case"audio":for(w=0;w<zo.length;w++)xt(zo[w],g);break;case"source":xt("error",g);break;case"img":case"image":case"link":xt("error",g),xt("load",g);break;case"details":xt("toggle",g);break;case"input":za(g,E),xt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!E.multiple},xt("invalid",g);break;case"textarea":To(g,E),xt("invalid",g)}Ar(h,E),w=null;for(var k in E)if(E.hasOwnProperty(k)){var W=E[k];k==="children"?typeof W=="string"?g.textContent!==W&&(E.suppressHydrationWarning!==!0&&se(g.textContent,W,i),w=["children",W]):typeof W=="number"&&g.textContent!==""+W&&(E.suppressHydrationWarning!==!0&&se(g.textContent,W,i),w=["children",""+W]):s.hasOwnProperty(k)&&W!=null&&k==="onScroll"&&xt("scroll",g)}switch(h){case"input":yn(g),zi(g,E,!0);break;case"textarea":yn(g),Hi(g);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(g.onclick=pe)}g=w,a.updateQueue=g,g!==null&&(a.flags|=4)}else{k=w.nodeType===9?w:w.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Cs(h)),i==="http://www.w3.org/1999/xhtml"?h==="script"?(i=k.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=k.createElement(h,{is:g.is}):(i=k.createElement(h),h==="select"&&(k=i,g.multiple?k.multiple=!0:g.size&&(k.size=g.size))):i=k.createElementNS(i,h),i[li]=a,i[$o]=g,j0(i,a,!1,!1),a.stateNode=i;e:{switch(k=Hr(h,g),h){case"dialog":xt("cancel",i),xt("close",i),w=g;break;case"iframe":case"object":case"embed":xt("load",i),w=g;break;case"video":case"audio":for(w=0;w<zo.length;w++)xt(zo[w],i);w=g;break;case"source":xt("error",i),w=g;break;case"img":case"image":case"link":xt("error",i),xt("load",i),w=g;break;case"details":xt("toggle",i),w=g;break;case"input":za(i,g),w=_o(i,g),xt("invalid",i);break;case"option":w=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},w=ae({},g,{value:void 0}),xt("invalid",i);break;case"textarea":To(i,g),w=wo(i,g),xt("invalid",i);break;default:w=g}Ar(h,w),W=w;for(E in W)if(W.hasOwnProperty(E)){var Q=W[E];E==="style"?$i(i,Q):E==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,Q!=null&&Yl(i,Q)):E==="children"?typeof Q=="string"?(h!=="textarea"||Q!=="")&&Wi(i,Q):typeof Q=="number"&&Wi(i,""+Q):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(s.hasOwnProperty(E)?Q!=null&&E==="onScroll"&&xt("scroll",i):Q!=null&&H(i,E,Q,k))}switch(h){case"input":yn(i),zi(i,g,!1);break;case"textarea":yn(i),Hi(i);break;case"option":g.value!=null&&i.setAttribute("value",""+Ye(g.value));break;case"select":i.multiple=!!g.multiple,E=g.value,E!=null?Qn(i,!!g.multiple,E,!1):g.defaultValue!=null&&Qn(i,!!g.multiple,g.defaultValue,!0);break;default:typeof w.onClick=="function"&&(i.onclick=pe)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Hn(a),null;case 6:if(i&&a.stateNode!=null)B0(i,a,i.memoizedProps,g);else{if(typeof g!="string"&&a.stateNode===null)throw Error(t(166));if(h=hl(Mc.current),hl(cs.current),_d(a)){if(g=a.stateNode,h=a.memoizedProps,g[li]=a,(E=g.nodeValue!==h)&&(i=Dr,i!==null))switch(i.tag){case 3:se(g.nodeValue,h,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&se(g.nodeValue,h,(i.mode&1)!==0)}E&&(a.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[li]=a,a.stateNode=g}return Hn(a),null;case 13:if(Nt(Ht),g=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ft&&Vr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)H_(),wu(),a.flags|=98560,E=!1;else if(E=_d(a),g!==null&&g.dehydrated!==null){if(i===null){if(!E)throw Error(t(318));if(E=a.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(t(317));E[li]=a}else wu(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Hn(a),E=!1}else bi!==null&&(qm(bi),bi=null),E=!0;if(!E)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=h,a):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(Ht.current&1)!==0?pn===0&&(pn=3):Zm())),a.updateQueue!==null&&(a.flags|=4),Hn(a),null);case 4:return Pu(),Om(i,a),i===null&&Ho(a.stateNode.containerInfo),Hn(a),null;case 10:return um(a.type._context),Hn(a),null;case 17:return vr(a.type)&&pd(),Hn(a),null;case 19:if(Nt(Ht),E=a.memoizedState,E===null)return Hn(a),null;if(g=(a.flags&128)!==0,k=E.rendering,k===null)if(g)Fc(E,!1);else{if(pn!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(k=Sd(i),k!==null){for(a.flags|=128,Fc(E,!1),g=k.updateQueue,g!==null&&(a.updateQueue=g,a.flags|=4),a.subtreeFlags=0,g=h,h=a.child;h!==null;)E=h,i=g,E.flags&=14680066,k=E.alternate,k===null?(E.childLanes=0,E.lanes=i,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=k.childLanes,E.lanes=k.lanes,E.child=k.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=k.memoizedProps,E.memoizedState=k.memoizedState,E.updateQueue=k.updateQueue,E.type=k.type,i=k.dependencies,E.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),h=h.sibling;return bt(Ht,Ht.current&1|2),a.child}i=i.sibling}E.tail!==null&&St()>bu&&(a.flags|=128,g=!0,Fc(E,!1),a.lanes=4194304)}else{if(!g)if(i=Sd(k),i!==null){if(a.flags|=128,g=!0,h=i.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),Fc(E,!0),E.tail===null&&E.tailMode==="hidden"&&!k.alternate&&!Ft)return Hn(a),null}else 2*St()-E.renderingStartTime>bu&&h!==1073741824&&(a.flags|=128,g=!0,Fc(E,!1),a.lanes=4194304);E.isBackwards?(k.sibling=a.child,a.child=k):(h=E.last,h!==null?h.sibling=k:a.child=k,E.last=k)}return E.tail!==null?(a=E.tail,E.rendering=a,E.tail=a.sibling,E.renderingStartTime=St(),a.sibling=null,h=Ht.current,bt(Ht,g?h&1|2:h&1),a):(Hn(a),null);case 22:case 23:return Km(),g=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(a.flags|=8192),g&&(a.mode&1)!==0?(jr&1073741824)!==0&&(Hn(a),a.subtreeFlags&6&&(a.flags|=8192)):Hn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function jb(i,a){switch(rm(a),a.tag){case 1:return vr(a.type)&&pd(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Pu(),Nt(yr),Nt(Un),gm(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return pm(a),null;case 13:if(Nt(Ht),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(t(340));wu()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return Nt(Ht),null;case 4:return Pu(),null;case 10:return um(a.type._context),null;case 22:case 23:return Km(),null;case 24:return null;default:return null}}var Md=!1,Wn=!1,Fb=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Cu(i,a){var h=i.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){Kt(i,a,g)}else h.current=null}function Dm(i,a,h){try{h()}catch(g){Kt(i,a,g)}}var U0=!1;function Bb(i,a){if(Pe=Jr,i=Ec(),xc(i)){if("selectionStart"in i)var h={start:i.selectionStart,end:i.selectionEnd};else e:{h=(h=i.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var w=g.anchorOffset,E=g.focusNode;g=g.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var k=0,W=-1,Q=-1,oe=0,ye=0,_e=i,ge=null;t:for(;;){for(var Ce;_e!==h||w!==0&&_e.nodeType!==3||(W=k+w),_e!==E||g!==0&&_e.nodeType!==3||(Q=k+g),_e.nodeType===3&&(k+=_e.nodeValue.length),(Ce=_e.firstChild)!==null;)ge=_e,_e=Ce;for(;;){if(_e===i)break t;if(ge===h&&++oe===w&&(W=k),ge===E&&++ye===g&&(Q=k),(Ce=_e.nextSibling)!==null)break;_e=ge,ge=_e.parentNode}_e=Ce}h=W===-1||Q===-1?null:{start:W,end:Q}}else h=null}h=h||{start:0,end:0}}else h=null;for(Be={focusedElem:i,selectionRange:h},Jr=!1,Le=a;Le!==null;)if(a=Le,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Le=i;else for(;Le!==null;){a=Le;try{var Me=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Me!==null){var Oe=Me.memoizedProps,Qt=Me.memoizedState,ne=a.stateNode,Y=ne.getSnapshotBeforeUpdate(a.elementType===a.type?Oe:Ai(a.type,Oe),Qt);ne.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var re=a.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(we){Kt(a,a.return,we)}if(i=a.sibling,i!==null){i.return=a.return,Le=i;break}Le=a.return}return Me=U0,U0=!1,Me}function Bc(i,a,h){var g=a.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var w=g=g.next;do{if((w.tag&i)===i){var E=w.destroy;w.destroy=void 0,E!==void 0&&Dm(a,h,E)}w=w.next}while(w!==g)}}function Od(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var h=a=a.next;do{if((h.tag&i)===i){var g=h.create;h.destroy=g()}h=h.next}while(h!==a)}}function Vm(i){var a=i.ref;if(a!==null){var h=i.stateNode;switch(i.tag){case 5:i=h;break;default:i=h}typeof a=="function"?a(i):a.current=i}}function z0(i){var a=i.alternate;a!==null&&(i.alternate=null,z0(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[li],delete a[$o],delete a[qo],delete a[Xp],delete a[Jp])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function H0(i){return i.tag===5||i.tag===3||i.tag===4}function W0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||H0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function jm(i,a,h){var g=i.tag;if(g===5||g===6)i=i.stateNode,a?h.nodeType===8?h.parentNode.insertBefore(i,a):h.insertBefore(i,a):(h.nodeType===8?(a=h.parentNode,a.insertBefore(i,h)):(a=h,a.appendChild(i)),h=h._reactRootContainer,h!=null||a.onclick!==null||(a.onclick=pe));else if(g!==4&&(i=i.child,i!==null))for(jm(i,a,h),i=i.sibling;i!==null;)jm(i,a,h),i=i.sibling}function Fm(i,a,h){var g=i.tag;if(g===5||g===6)i=i.stateNode,a?h.insertBefore(i,a):h.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(Fm(i,a,h),i=i.sibling;i!==null;)Fm(i,a,h),i=i.sibling}var An=null,Ri=!1;function Xo(i,a,h){for(h=h.child;h!==null;)$0(i,a,h),h=h.sibling}function $0(i,a,h){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(Yi,h)}catch{}switch(h.tag){case 5:Wn||Cu(h,a);case 6:var g=An,w=Ri;An=null,Xo(i,a,h),An=g,Ri=w,An!==null&&(Ri?(i=An,h=h.stateNode,i.nodeType===8?i.parentNode.removeChild(h):i.removeChild(h)):An.removeChild(h.stateNode));break;case 18:An!==null&&(Ri?(i=An,h=h.stateNode,i.nodeType===8?Rc(i.parentNode,h):i.nodeType===1&&Rc(i,h),Vn(i)):Rc(An,h.stateNode));break;case 4:g=An,w=Ri,An=h.stateNode.containerInfo,Ri=!0,Xo(i,a,h),An=g,Ri=w;break;case 0:case 11:case 14:case 15:if(!Wn&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){w=g=g.next;do{var E=w,k=E.destroy;E=E.tag,k!==void 0&&((E&2)!==0||(E&4)!==0)&&Dm(h,a,k),w=w.next}while(w!==g)}Xo(i,a,h);break;case 1:if(!Wn&&(Cu(h,a),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(W){Kt(h,a,W)}Xo(i,a,h);break;case 21:Xo(i,a,h);break;case 22:h.mode&1?(Wn=(g=Wn)||h.memoizedState!==null,Xo(i,a,h),Wn=g):Xo(i,a,h);break;default:Xo(i,a,h)}}function q0(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var h=i.stateNode;h===null&&(h=i.stateNode=new Fb),a.forEach(function(g){var w=Zb.bind(null,i,g);h.has(g)||(h.add(g),g.then(w,w))})}}function ki(i,a){var h=a.deletions;if(h!==null)for(var g=0;g<h.length;g++){var w=h[g];try{var E=i,k=a,W=k;e:for(;W!==null;){switch(W.tag){case 5:An=W.stateNode,Ri=!1;break e;case 3:An=W.stateNode.containerInfo,Ri=!0;break e;case 4:An=W.stateNode.containerInfo,Ri=!0;break e}W=W.return}if(An===null)throw Error(t(160));$0(E,k,w),An=null,Ri=!1;var Q=w.alternate;Q!==null&&(Q.return=null),w.return=null}catch(oe){Kt(w,a,oe)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)G0(a,i),a=a.sibling}function G0(i,a){var h=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ki(a,i),ds(i),g&4){try{Bc(3,i,i.return),Od(3,i)}catch(Oe){Kt(i,i.return,Oe)}try{Bc(5,i,i.return)}catch(Oe){Kt(i,i.return,Oe)}}break;case 1:ki(a,i),ds(i),g&512&&h!==null&&Cu(h,h.return);break;case 5:if(ki(a,i),ds(i),g&512&&h!==null&&Cu(h,h.return),i.flags&32){var w=i.stateNode;try{Wi(w,"")}catch(Oe){Kt(i,i.return,Oe)}}if(g&4&&(w=i.stateNode,w!=null)){var E=i.memoizedProps,k=h!==null?h.memoizedProps:E,W=i.type,Q=i.updateQueue;if(i.updateQueue=null,Q!==null)try{W==="input"&&E.type==="radio"&&E.name!=null&&Ss(w,E),Hr(W,k);var oe=Hr(W,E);for(k=0;k<Q.length;k+=2){var ye=Q[k],_e=Q[k+1];ye==="style"?$i(w,_e):ye==="dangerouslySetInnerHTML"?Yl(w,_e):ye==="children"?Wi(w,_e):H(w,ye,_e,oe)}switch(W){case"input":_i(w,E);break;case"textarea":Ql(w,E);break;case"select":var ge=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!E.multiple;var Ce=E.value;Ce!=null?Qn(w,!!E.multiple,Ce,!1):ge!==!!E.multiple&&(E.defaultValue!=null?Qn(w,!!E.multiple,E.defaultValue,!0):Qn(w,!!E.multiple,E.multiple?[]:"",!1))}w[$o]=E}catch(Oe){Kt(i,i.return,Oe)}}break;case 6:if(ki(a,i),ds(i),g&4){if(i.stateNode===null)throw Error(t(162));w=i.stateNode,E=i.memoizedProps;try{w.nodeValue=E}catch(Oe){Kt(i,i.return,Oe)}}break;case 3:if(ki(a,i),ds(i),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Vn(a.containerInfo)}catch(Oe){Kt(i,i.return,Oe)}break;case 4:ki(a,i),ds(i);break;case 13:ki(a,i),ds(i),w=i.child,w.flags&8192&&(E=w.memoizedState!==null,w.stateNode.isHidden=E,!E||w.alternate!==null&&w.alternate.memoizedState!==null||(zm=St())),g&4&&q0(i);break;case 22:if(ye=h!==null&&h.memoizedState!==null,i.mode&1?(Wn=(oe=Wn)||ye,ki(a,i),Wn=oe):ki(a,i),ds(i),g&8192){if(oe=i.memoizedState!==null,(i.stateNode.isHidden=oe)&&!ye&&(i.mode&1)!==0)for(Le=i,ye=i.child;ye!==null;){for(_e=Le=ye;Le!==null;){switch(ge=Le,Ce=ge.child,ge.tag){case 0:case 11:case 14:case 15:Bc(4,ge,ge.return);break;case 1:Cu(ge,ge.return);var Me=ge.stateNode;if(typeof Me.componentWillUnmount=="function"){g=ge,h=ge.return;try{a=g,Me.props=a.memoizedProps,Me.state=a.memoizedState,Me.componentWillUnmount()}catch(Oe){Kt(g,h,Oe)}}break;case 5:Cu(ge,ge.return);break;case 22:if(ge.memoizedState!==null){Q0(_e);continue}}Ce!==null?(Ce.return=ge,Le=Ce):Q0(_e)}ye=ye.sibling}e:for(ye=null,_e=i;;){if(_e.tag===5){if(ye===null){ye=_e;try{w=_e.stateNode,oe?(E=w.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(W=_e.stateNode,Q=_e.memoizedProps.style,k=Q!=null&&Q.hasOwnProperty("display")?Q.display:null,W.style.display=Ei("display",k))}catch(Oe){Kt(i,i.return,Oe)}}}else if(_e.tag===6){if(ye===null)try{_e.stateNode.nodeValue=oe?"":_e.memoizedProps}catch(Oe){Kt(i,i.return,Oe)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===i)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===i)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===i)break e;ye===_e&&(ye=null),_e=_e.return}ye===_e&&(ye=null),_e.sibling.return=_e.return,_e=_e.sibling}}break;case 19:ki(a,i),ds(i),g&4&&q0(i);break;case 21:break;default:ki(a,i),ds(i)}}function ds(i){var a=i.flags;if(a&2){try{e:{for(var h=i.return;h!==null;){if(H0(h)){var g=h;break e}h=h.return}throw Error(t(160))}switch(g.tag){case 5:var w=g.stateNode;g.flags&32&&(Wi(w,""),g.flags&=-33);var E=W0(i);Fm(i,E,w);break;case 3:case 4:var k=g.stateNode.containerInfo,W=W0(i);jm(i,W,k);break;default:throw Error(t(161))}}catch(Q){Kt(i,i.return,Q)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function Ub(i,a,h){Le=i,K0(i)}function K0(i,a,h){for(var g=(i.mode&1)!==0;Le!==null;){var w=Le,E=w.child;if(w.tag===22&&g){var k=w.memoizedState!==null||Md;if(!k){var W=w.alternate,Q=W!==null&&W.memoizedState!==null||Wn;W=Md;var oe=Wn;if(Md=k,(Wn=Q)&&!oe)for(Le=w;Le!==null;)k=Le,Q=k.child,k.tag===22&&k.memoizedState!==null?Y0(w):Q!==null?(Q.return=k,Le=Q):Y0(w);for(;E!==null;)Le=E,K0(E),E=E.sibling;Le=w,Md=W,Wn=oe}Z0(i)}else(w.subtreeFlags&8772)!==0&&E!==null?(E.return=w,Le=E):Z0(i)}}function Z0(i){for(;Le!==null;){var a=Le;if((a.flags&8772)!==0){var h=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Wn||Od(5,a);break;case 1:var g=a.stateNode;if(a.flags&4&&!Wn)if(h===null)g.componentDidMount();else{var w=a.elementType===a.type?h.memoizedProps:Ai(a.type,h.memoizedProps);g.componentDidUpdate(w,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var E=a.updateQueue;E!==null&&Q_(a,E,g);break;case 3:var k=a.updateQueue;if(k!==null){if(h=null,a.child!==null)switch(a.child.tag){case 5:h=a.child.stateNode;break;case 1:h=a.child.stateNode}Q_(a,k,h)}break;case 5:var W=a.stateNode;if(h===null&&a.flags&4){h=W;var Q=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":Q.autoFocus&&h.focus();break;case"img":Q.src&&(h.src=Q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var oe=a.alternate;if(oe!==null){var ye=oe.memoizedState;if(ye!==null){var _e=ye.dehydrated;_e!==null&&Vn(_e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Wn||a.flags&512&&Vm(a)}catch(ge){Kt(a,a.return,ge)}}if(a===i){Le=null;break}if(h=a.sibling,h!==null){h.return=a.return,Le=h;break}Le=a.return}}function Q0(i){for(;Le!==null;){var a=Le;if(a===i){Le=null;break}var h=a.sibling;if(h!==null){h.return=a.return,Le=h;break}Le=a.return}}function Y0(i){for(;Le!==null;){var a=Le;try{switch(a.tag){case 0:case 11:case 15:var h=a.return;try{Od(4,a)}catch(Q){Kt(a,h,Q)}break;case 1:var g=a.stateNode;if(typeof g.componentDidMount=="function"){var w=a.return;try{g.componentDidMount()}catch(Q){Kt(a,w,Q)}}var E=a.return;try{Vm(a)}catch(Q){Kt(a,E,Q)}break;case 5:var k=a.return;try{Vm(a)}catch(Q){Kt(a,k,Q)}}}catch(Q){Kt(a,a.return,Q)}if(a===i){Le=null;break}var W=a.sibling;if(W!==null){W.return=a.return,Le=W;break}Le=a.return}}var zb=Math.ceil,Dd=J.ReactCurrentDispatcher,Bm=J.ReactCurrentOwner,fi=J.ReactCurrentBatchConfig,pt=0,Tn=null,rn=null,Rn=0,jr=0,Iu=Go(0),pn=0,Uc=null,fl=0,Vd=0,Um=0,zc=null,wr=null,zm=0,bu=1/0,ro=null,jd=!1,Hm=null,Jo=null,Fd=!1,ea=null,Bd=0,Hc=0,Wm=null,Ud=-1,zd=0;function ar(){return(pt&6)!==0?St():Ud!==-1?Ud:Ud=St()}function ta(i){return(i.mode&1)===0?1:(pt&2)!==0&&Rn!==0?Rn&-Rn:Sb.transition!==null?(zd===0&&(zd=Za()),zd):(i=nt,i!==0||(i=window.event,i=i===void 0?16:rt(i.type)),i)}function Ni(i,a,h,g){if(50<Hc)throw Hc=0,Wm=null,Error(t(185));Xn(i,h,g),((pt&2)===0||i!==Tn)&&(i===Tn&&((pt&2)===0&&(Vd|=h),pn===4&&na(i,Rn)),Tr(i,g),h===1&&pt===0&&(a.mode&1)===0&&(bu=St()+500,gd&&Zo()))}function Tr(i,a){var h=i.callbackNode;Qr(i,a);var g=vt(i,i===Tn?Rn:0);if(g===0)h!==null&&Ns(h),i.callbackNode=null,i.callbackPriority=0;else if(a=g&-g,i.callbackPriority!==a){if(h!=null&&Ns(h),a===1)i.tag===0?Pb(J0.bind(null,i)):j_(J0.bind(null,i)),Bn(function(){(pt&6)===0&&Zo()}),h=null;else{switch(Dn(g)){case 1:h=So;break;case 4:h=Ka;break;case 16:h=Ms;break;case 536870912:h=Kr;break;default:h=Ms}h=aw(h,X0.bind(null,i))}i.callbackPriority=a,i.callbackNode=h}}function X0(i,a){if(Ud=-1,zd=0,(pt&6)!==0)throw Error(t(327));var h=i.callbackNode;if(Au()&&i.callbackNode!==h)return null;var g=vt(i,i===Tn?Rn:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||a)a=Hd(i,g);else{a=g;var w=pt;pt|=2;var E=tw();(Tn!==i||Rn!==a)&&(ro=null,bu=St()+500,ml(i,a));do try{$b();break}catch(W){ew(i,W)}while(!0);lm(),Dd.current=E,pt=w,rn!==null?a=0:(Tn=null,Rn=0,a=pn)}if(a!==0){if(a===2&&(w=vn(i),w!==0&&(g=w,a=$m(i,w))),a===1)throw h=Uc,ml(i,0),na(i,g),Tr(i,St()),h;if(a===6)na(i,g);else{if(w=i.current.alternate,(g&30)===0&&!Hb(w)&&(a=Hd(i,g),a===2&&(E=vn(i),E!==0&&(g=E,a=$m(i,E))),a===1))throw h=Uc,ml(i,0),na(i,g),Tr(i,St()),h;switch(i.finishedWork=w,i.finishedLanes=g,a){case 0:case 1:throw Error(t(345));case 2:gl(i,wr,ro);break;case 3:if(na(i,g),(g&130023424)===g&&(a=zm+500-St(),10<a)){if(vt(i,0)!==0)break;if(w=i.suspendedLanes,(w&g)!==g){ar(),i.pingedLanes|=i.suspendedLanes&w;break}i.timeoutHandle=dn(gl.bind(null,i,wr,ro),a);break}gl(i,wr,ro);break;case 4:if(na(i,g),(g&4194240)===g)break;for(a=i.eventTimes,w=-1;0<g;){var k=31-Ze(g);E=1<<k,k=a[k],k>w&&(w=k),g&=~E}if(g=w,g=St()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*zb(g/1960))-g,10<g){i.timeoutHandle=dn(gl.bind(null,i,wr,ro),g);break}gl(i,wr,ro);break;case 5:gl(i,wr,ro);break;default:throw Error(t(329))}}}return Tr(i,St()),i.callbackNode===h?X0.bind(null,i):null}function $m(i,a){var h=zc;return i.current.memoizedState.isDehydrated&&(ml(i,a).flags|=256),i=Hd(i,a),i!==2&&(a=wr,wr=h,a!==null&&qm(a)),i}function qm(i){wr===null?wr=i:wr.push.apply(wr,i)}function Hb(i){for(var a=i;;){if(a.flags&16384){var h=a.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var w=h[g],E=w.getSnapshot;w=w.value;try{if(!Mr(E(),w))return!1}catch{return!1}}}if(h=a.child,a.subtreeFlags&16384&&h!==null)h.return=a,a=h;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function na(i,a){for(a&=~Um,a&=~Vd,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var h=31-Ze(a),g=1<<h;i[h]=-1,a&=~g}}function J0(i){if((pt&6)!==0)throw Error(t(327));Au();var a=vt(i,0);if((a&1)===0)return Tr(i,St()),null;var h=Hd(i,a);if(i.tag!==0&&h===2){var g=vn(i);g!==0&&(a=g,h=$m(i,g))}if(h===1)throw h=Uc,ml(i,0),na(i,a),Tr(i,St()),h;if(h===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,gl(i,wr,ro),Tr(i,St()),null}function Gm(i,a){var h=pt;pt|=1;try{return i(a)}finally{pt=h,pt===0&&(bu=St()+500,gd&&Zo())}}function pl(i){ea!==null&&ea.tag===0&&(pt&6)===0&&Au();var a=pt;pt|=1;var h=fi.transition,g=nt;try{if(fi.transition=null,nt=1,i)return i()}finally{nt=g,fi.transition=h,pt=a,(pt&6)===0&&Zo()}}function Km(){jr=Iu.current,Nt(Iu)}function ml(i,a){i.finishedWork=null,i.finishedLanes=0;var h=i.timeoutHandle;if(h!==-1&&(i.timeoutHandle=-1,nn(h)),rn!==null)for(h=rn.return;h!==null;){var g=h;switch(rm(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&pd();break;case 3:Pu(),Nt(yr),Nt(Un),gm();break;case 5:pm(g);break;case 4:Pu();break;case 13:Nt(Ht);break;case 19:Nt(Ht);break;case 10:um(g.type._context);break;case 22:case 23:Km()}h=h.return}if(Tn=i,rn=i=ra(i.current,null),Rn=jr=a,pn=0,Uc=null,Um=Vd=fl=0,wr=zc=null,cl!==null){for(a=0;a<cl.length;a++)if(h=cl[a],g=h.interleaved,g!==null){h.interleaved=null;var w=g.next,E=h.pending;if(E!==null){var k=E.next;E.next=w,g.next=k}h.pending=g}cl=null}return i}function ew(i,a){do{var h=rn;try{if(lm(),Cd.current=Rd,Id){for(var g=Wt.memoizedState;g!==null;){var w=g.queue;w!==null&&(w.pending=null),g=g.next}Id=!1}if(dl=0,wn=fn=Wt=null,Oc=!1,Dc=0,Bm.current=null,h===null||h.return===null){pn=1,Uc=a,rn=null;break}e:{var E=i,k=h.return,W=h,Q=a;if(a=Rn,W.flags|=32768,Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var oe=Q,ye=W,_e=ye.tag;if((ye.mode&1)===0&&(_e===0||_e===11||_e===15)){var ge=ye.alternate;ge?(ye.updateQueue=ge.updateQueue,ye.memoizedState=ge.memoizedState,ye.lanes=ge.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Ce=S0(k);if(Ce!==null){Ce.flags&=-257,C0(Ce,k,W,E,a),Ce.mode&1&&P0(E,oe,a),a=Ce,Q=oe;var Me=a.updateQueue;if(Me===null){var Oe=new Set;Oe.add(Q),a.updateQueue=Oe}else Me.add(Q);break e}else{if((a&1)===0){P0(E,oe,a),Zm();break e}Q=Error(t(426))}}else if(Ft&&W.mode&1){var Qt=S0(k);if(Qt!==null){(Qt.flags&65536)===0&&(Qt.flags|=256),C0(Qt,k,W,E,a),om(Su(Q,W));break e}}E=Q=Su(Q,W),pn!==4&&(pn=2),zc===null?zc=[E]:zc.push(E),E=k;do{switch(E.tag){case 3:E.flags|=65536,a&=-a,E.lanes|=a;var ne=E0(E,Q,a);Z_(E,ne);break e;case 1:W=Q;var Y=E.type,re=E.stateNode;if((E.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(Jo===null||!Jo.has(re)))){E.flags|=65536,a&=-a,E.lanes|=a;var we=x0(E,W,a);Z_(E,we);break e}}E=E.return}while(E!==null)}rw(h)}catch(De){a=De,rn===h&&h!==null&&(rn=h=h.return);continue}break}while(!0)}function tw(){var i=Dd.current;return Dd.current=Rd,i===null?Rd:i}function Zm(){(pn===0||pn===3||pn===2)&&(pn=4),Tn===null||(fl&268435455)===0&&(Vd&268435455)===0||na(Tn,Rn)}function Hd(i,a){var h=pt;pt|=2;var g=tw();(Tn!==i||Rn!==a)&&(ro=null,ml(i,a));do try{Wb();break}catch(w){ew(i,w)}while(!0);if(lm(),pt=h,Dd.current=g,rn!==null)throw Error(t(261));return Tn=null,Rn=0,pn}function Wb(){for(;rn!==null;)nw(rn)}function $b(){for(;rn!==null&&!Ls();)nw(rn)}function nw(i){var a=ow(i.alternate,i,jr);i.memoizedProps=i.pendingProps,a===null?rw(i):rn=a,Bm.current=null}function rw(i){var a=i;do{var h=a.alternate;if(i=a.return,(a.flags&32768)===0){if(h=Vb(h,a,jr),h!==null){rn=h;return}}else{if(h=jb(h,a),h!==null){h.flags&=32767,rn=h;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{pn=6,rn=null;return}}if(a=a.sibling,a!==null){rn=a;return}rn=a=i}while(a!==null);pn===0&&(pn=5)}function gl(i,a,h){var g=nt,w=fi.transition;try{fi.transition=null,nt=1,qb(i,a,h,g)}finally{fi.transition=w,nt=g}return null}function qb(i,a,h,g){do Au();while(ea!==null);if((pt&6)!==0)throw Error(t(327));h=i.finishedWork;var w=i.finishedLanes;if(h===null)return null;if(i.finishedWork=null,i.finishedLanes=0,h===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var E=h.lanes|h.childLanes;if(Vt(i,E),i===Tn&&(rn=Tn=null,Rn=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Fd||(Fd=!0,aw(Ms,function(){return Au(),null})),E=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||E){E=fi.transition,fi.transition=null;var k=nt;nt=1;var W=pt;pt|=4,Bm.current=null,Bb(i,h),G0(h,i),oi(Be),Jr=!!Pe,Be=Pe=null,i.current=h,Ub(h),dr(),pt=W,nt=k,fi.transition=E}else i.current=h;if(Fd&&(Fd=!1,ea=i,Bd=w),E=i.pendingLanes,E===0&&(Jo=null),Xi(h.stateNode),Tr(i,St()),a!==null)for(g=i.onRecoverableError,h=0;h<a.length;h++)w=a[h],g(w.value,{componentStack:w.stack,digest:w.digest});if(jd)throw jd=!1,i=Hm,Hm=null,i;return(Bd&1)!==0&&i.tag!==0&&Au(),E=i.pendingLanes,(E&1)!==0?i===Wm?Hc++:(Hc=0,Wm=i):Hc=0,Zo(),null}function Au(){if(ea!==null){var i=Dn(Bd),a=fi.transition,h=nt;try{if(fi.transition=null,nt=16>i?16:i,ea===null)var g=!1;else{if(i=ea,ea=null,Bd=0,(pt&6)!==0)throw Error(t(331));var w=pt;for(pt|=4,Le=i.current;Le!==null;){var E=Le,k=E.child;if((Le.flags&16)!==0){var W=E.deletions;if(W!==null){for(var Q=0;Q<W.length;Q++){var oe=W[Q];for(Le=oe;Le!==null;){var ye=Le;switch(ye.tag){case 0:case 11:case 15:Bc(8,ye,E)}var _e=ye.child;if(_e!==null)_e.return=ye,Le=_e;else for(;Le!==null;){ye=Le;var ge=ye.sibling,Ce=ye.return;if(z0(ye),ye===oe){Le=null;break}if(ge!==null){ge.return=Ce,Le=ge;break}Le=Ce}}}var Me=E.alternate;if(Me!==null){var Oe=Me.child;if(Oe!==null){Me.child=null;do{var Qt=Oe.sibling;Oe.sibling=null,Oe=Qt}while(Oe!==null)}}Le=E}}if((E.subtreeFlags&2064)!==0&&k!==null)k.return=E,Le=k;else e:for(;Le!==null;){if(E=Le,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:Bc(9,E,E.return)}var ne=E.sibling;if(ne!==null){ne.return=E.return,Le=ne;break e}Le=E.return}}var Y=i.current;for(Le=Y;Le!==null;){k=Le;var re=k.child;if((k.subtreeFlags&2064)!==0&&re!==null)re.return=k,Le=re;else e:for(k=Y;Le!==null;){if(W=Le,(W.flags&2048)!==0)try{switch(W.tag){case 0:case 11:case 15:Od(9,W)}}catch(De){Kt(W,W.return,De)}if(W===k){Le=null;break e}var we=W.sibling;if(we!==null){we.return=W.return,Le=we;break e}Le=W.return}}if(pt=w,Zo(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(Yi,i)}catch{}g=!0}return g}finally{nt=h,fi.transition=a}}return!1}function iw(i,a,h){a=Su(h,a),a=E0(i,a,1),i=Yo(i,a,1),a=ar(),i!==null&&(Xn(i,1,a),Tr(i,a))}function Kt(i,a,h){if(i.tag===3)iw(i,i,h);else for(;a!==null;){if(a.tag===3){iw(a,i,h);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Jo===null||!Jo.has(g))){i=Su(h,i),i=x0(a,i,1),a=Yo(a,i,1),i=ar(),a!==null&&(Xn(a,1,i),Tr(a,i));break}}a=a.return}}function Gb(i,a,h){var g=i.pingCache;g!==null&&g.delete(a),a=ar(),i.pingedLanes|=i.suspendedLanes&h,Tn===i&&(Rn&h)===h&&(pn===4||pn===3&&(Rn&130023424)===Rn&&500>St()-zm?ml(i,0):Um|=h),Tr(i,a)}function sw(i,a){a===0&&((i.mode&1)===0?a=1:(a=Zr,Zr<<=1,(Zr&130023424)===0&&(Zr=4194304)));var h=ar();i=eo(i,a),i!==null&&(Xn(i,a,h),Tr(i,h))}function Kb(i){var a=i.memoizedState,h=0;a!==null&&(h=a.retryLane),sw(i,h)}function Zb(i,a){var h=0;switch(i.tag){case 13:var g=i.stateNode,w=i.memoizedState;w!==null&&(h=w.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(t(314))}g!==null&&g.delete(a),sw(i,h)}var ow;ow=function(i,a,h){if(i!==null)if(i.memoizedProps!==a.pendingProps||yr.current)_r=!0;else{if((i.lanes&h)===0&&(a.flags&128)===0)return _r=!1,Db(i,a,h);_r=(i.flags&131072)!==0}else _r=!1,Ft&&(a.flags&1048576)!==0&&F_(a,vd,a.index);switch(a.lanes=0,a.tag){case 2:var g=a.type;Ld(i,a),i=a.pendingProps;var w=yu(a,Un.current);xu(a,h),w=_m(null,a,g,i,w,h);var E=wm();return a.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,vr(g)?(E=!0,md(a)):E=!1,a.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,dm(a),w.updater=kd,a.stateNode=w,w._reactInternals=a,Cm(a,g,i,h),a=Rm(null,a,g,!0,E,h)):(a.tag=0,Ft&&E&&nm(a),or(null,a,w,h),a=a.child),a;case 16:g=a.elementType;e:{switch(Ld(i,a),i=a.pendingProps,w=g._init,g=w(g._payload),a.type=g,w=a.tag=Yb(g),i=Ai(g,i),w){case 0:a=Am(null,a,g,i,h);break e;case 1:a=N0(null,a,g,i,h);break e;case 11:a=I0(null,a,g,i,h);break e;case 14:a=b0(null,a,g,Ai(g.type,i),h);break e}throw Error(t(306,g,""))}return a;case 0:return g=a.type,w=a.pendingProps,w=a.elementType===g?w:Ai(g,w),Am(i,a,g,w,h);case 1:return g=a.type,w=a.pendingProps,w=a.elementType===g?w:Ai(g,w),N0(i,a,g,w,h);case 3:e:{if(L0(a),i===null)throw Error(t(387));g=a.pendingProps,E=a.memoizedState,w=E.element,K_(i,a),Pd(a,g,null,h);var k=a.memoizedState;if(g=k.element,E.isDehydrated)if(E={element:g,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},a.updateQueue.baseState=E,a.memoizedState=E,a.flags&256){w=Su(Error(t(423)),a),a=M0(i,a,g,h,w);break e}else if(g!==w){w=Su(Error(t(424)),a),a=M0(i,a,g,h,w);break e}else for(Vr=us(a.stateNode.containerInfo.firstChild),Dr=a,Ft=!0,bi=null,h=q_(a,null,g,h),a.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(wu(),g===w){a=no(i,a,h);break e}or(i,a,g,h)}a=a.child}return a;case 5:return Y_(a),i===null&&sm(a),g=a.type,w=a.pendingProps,E=i!==null?i.memoizedProps:null,k=w.children,tt(g,w)?k=null:E!==null&&tt(g,E)&&(a.flags|=32),k0(i,a),or(i,a,k,h),a.child;case 6:return i===null&&sm(a),null;case 13:return O0(i,a,h);case 4:return fm(a,a.stateNode.containerInfo),g=a.pendingProps,i===null?a.child=Tu(a,null,g,h):or(i,a,g,h),a.child;case 11:return g=a.type,w=a.pendingProps,w=a.elementType===g?w:Ai(g,w),I0(i,a,g,w,h);case 7:return or(i,a,a.pendingProps,h),a.child;case 8:return or(i,a,a.pendingProps.children,h),a.child;case 12:return or(i,a,a.pendingProps.children,h),a.child;case 10:e:{if(g=a.type._context,w=a.pendingProps,E=a.memoizedProps,k=w.value,bt(Td,g._currentValue),g._currentValue=k,E!==null)if(Mr(E.value,k)){if(E.children===w.children&&!yr.current){a=no(i,a,h);break e}}else for(E=a.child,E!==null&&(E.return=a);E!==null;){var W=E.dependencies;if(W!==null){k=E.child;for(var Q=W.firstContext;Q!==null;){if(Q.context===g){if(E.tag===1){Q=to(-1,h&-h),Q.tag=2;var oe=E.updateQueue;if(oe!==null){oe=oe.shared;var ye=oe.pending;ye===null?Q.next=Q:(Q.next=ye.next,ye.next=Q),oe.pending=Q}}E.lanes|=h,Q=E.alternate,Q!==null&&(Q.lanes|=h),cm(E.return,h,a),W.lanes|=h;break}Q=Q.next}}else if(E.tag===10)k=E.type===a.type?null:E.child;else if(E.tag===18){if(k=E.return,k===null)throw Error(t(341));k.lanes|=h,W=k.alternate,W!==null&&(W.lanes|=h),cm(k,h,a),k=E.sibling}else k=E.child;if(k!==null)k.return=E;else for(k=E;k!==null;){if(k===a){k=null;break}if(E=k.sibling,E!==null){E.return=k.return,k=E;break}k=k.return}E=k}or(i,a,w.children,h),a=a.child}return a;case 9:return w=a.type,g=a.pendingProps.children,xu(a,h),w=hi(w),g=g(w),a.flags|=1,or(i,a,g,h),a.child;case 14:return g=a.type,w=Ai(g,a.pendingProps),w=Ai(g.type,w),b0(i,a,g,w,h);case 15:return A0(i,a,a.type,a.pendingProps,h);case 17:return g=a.type,w=a.pendingProps,w=a.elementType===g?w:Ai(g,w),Ld(i,a),a.tag=1,vr(g)?(i=!0,md(a)):i=!1,xu(a,h),w0(a,g,w),Cm(a,g,w,h),Rm(null,a,g,!0,i,h);case 19:return V0(i,a,h);case 22:return R0(i,a,h)}throw Error(t(156,a.tag))};function aw(i,a){return Ga(i,a)}function Qb(i,a,h,g){this.tag=i,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(i,a,h,g){return new Qb(i,a,h,g)}function Qm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Yb(i){if(typeof i=="function")return Qm(i)?1:0;if(i!=null){if(i=i.$$typeof,i===U)return 11;if(i===Ve)return 14}return 2}function ra(i,a){var h=i.alternate;return h===null?(h=pi(i.tag,a,i.key,i.mode),h.elementType=i.elementType,h.type=i.type,h.stateNode=i.stateNode,h.alternate=i,i.alternate=h):(h.pendingProps=a,h.type=i.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=i.flags&14680064,h.childLanes=i.childLanes,h.lanes=i.lanes,h.child=i.child,h.memoizedProps=i.memoizedProps,h.memoizedState=i.memoizedState,h.updateQueue=i.updateQueue,a=i.dependencies,h.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},h.sibling=i.sibling,h.index=i.index,h.ref=i.ref,h}function Wd(i,a,h,g,w,E){var k=2;if(g=i,typeof i=="function")Qm(i)&&(k=1);else if(typeof i=="string")k=5;else e:switch(i){case F:return yl(h.children,w,E,a);case O:k=8,w|=8;break;case j:return i=pi(12,h,a,w|2),i.elementType=j,i.lanes=E,i;case B:return i=pi(13,h,a,w),i.elementType=B,i.lanes=E,i;case fe:return i=pi(19,h,a,w),i.elementType=fe,i.lanes=E,i;case ve:return $d(h,w,E,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case G:k=10;break e;case q:k=9;break e;case U:k=11;break e;case Ve:k=14;break e;case Ie:k=16,g=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return a=pi(k,h,a,w),a.elementType=i,a.type=g,a.lanes=E,a}function yl(i,a,h,g){return i=pi(7,i,g,a),i.lanes=h,i}function $d(i,a,h,g){return i=pi(22,i,g,a),i.elementType=ve,i.lanes=h,i.stateNode={isHidden:!1},i}function Ym(i,a,h){return i=pi(6,i,null,a),i.lanes=h,i}function Xm(i,a,h){return a=pi(4,i.children!==null?i.children:[],i.key,a),a.lanes=h,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function Xb(i,a,h,g,w){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ji(0),this.expirationTimes=Ji(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ji(0),this.identifierPrefix=g,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function Jm(i,a,h,g,w,E,k,W,Q){return i=new Xb(i,a,h,W,Q),a===1?(a=1,E===!0&&(a|=8)):a=0,E=pi(3,null,null,a),i.current=E,E.stateNode=i,E.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},dm(E),i}function Jb(i,a,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:g==null?null:""+g,children:i,containerInfo:a,implementation:h}}function lw(i){if(!i)return Ko;i=i._reactInternals;e:{if(hr(i)!==i||i.tag!==1)throw Error(t(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(vr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(i.tag===1){var h=i.type;if(vr(h))return D_(i,h,a)}return a}function uw(i,a,h,g,w,E,k,W,Q){return i=Jm(h,g,!0,i,w,E,k,W,Q),i.context=lw(null),h=i.current,g=ar(),w=ta(h),E=to(g,w),E.callback=a??null,Yo(h,E,w),i.current.lanes=w,Xn(i,w,g),Tr(i,g),i}function qd(i,a,h,g){var w=a.current,E=ar(),k=ta(w);return h=lw(h),a.context===null?a.context=h:a.pendingContext=h,a=to(E,k),a.payload={element:i},g=g===void 0?null:g,g!==null&&(a.callback=g),i=Yo(w,a,k),i!==null&&(Ni(i,w,k,E),xd(i,w,k)),k}function Gd(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function cw(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var h=i.retryLane;i.retryLane=h!==0&&h<a?h:a}}function eg(i,a){cw(i,a),(i=i.alternate)&&cw(i,a)}function eA(){return null}var hw=typeof reportError=="function"?reportError:function(i){console.error(i)};function tg(i){this._internalRoot=i}Kd.prototype.render=tg.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(t(409));qd(i,a,null,null)},Kd.prototype.unmount=tg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;pl(function(){qd(null,i,null,null)}),a[Tt]=null}};function Kd(i){this._internalRoot=i}Kd.prototype.unstable_scheduleHydration=function(i){if(i){var a=js();i={blockedOn:null,target:i,priority:a};for(var h=0;h<jt.length&&a!==0&&a<jt[h].priority;h++);jt.splice(h,0,i),h===0&&ns(i)}};function ng(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Zd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function dw(){}function tA(i,a,h,g,w){if(w){if(typeof g=="function"){var E=g;g=function(){var oe=Gd(k);E.call(oe)}}var k=uw(a,g,i,0,null,!1,!1,"",dw);return i._reactRootContainer=k,i[Tt]=k.current,Ho(i.nodeType===8?i.parentNode:i),pl(),k}for(;w=i.lastChild;)i.removeChild(w);if(typeof g=="function"){var W=g;g=function(){var oe=Gd(Q);W.call(oe)}}var Q=Jm(i,0,!1,null,null,!1,!1,"",dw);return i._reactRootContainer=Q,i[Tt]=Q.current,Ho(i.nodeType===8?i.parentNode:i),pl(function(){qd(a,Q,h,g)}),Q}function Qd(i,a,h,g,w){var E=h._reactRootContainer;if(E){var k=E;if(typeof w=="function"){var W=w;w=function(){var Q=Gd(k);W.call(Q)}}qd(a,k,i,w)}else k=tA(h,a,i,w,g);return Gd(k)}Ds=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var h=Se(a.pendingLanes);h!==0&&(Rr(a,h|1),Tr(a,St()),(pt&6)===0&&(bu=St()+500,Zo()))}break;case 13:pl(function(){var g=eo(i,1);if(g!==null){var w=ar();Ni(g,i,1,w)}}),eg(i,1)}},Yr=function(i){if(i.tag===13){var a=eo(i,134217728);if(a!==null){var h=ar();Ni(a,i,134217728,h)}eg(i,134217728)}},Vs=function(i){if(i.tag===13){var a=ta(i),h=eo(i,a);if(h!==null){var g=ar();Ni(h,i,a,g)}eg(i,a)}},js=function(){return nt},es=function(i,a){var h=nt;try{return nt=i,a()}finally{nt=h}},Wr=function(i,a,h){switch(a){case"input":if(_i(i,h),a=h.name,h.type==="radio"&&a!=null){for(h=i;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<h.length;a++){var g=h[a];if(g!==i&&g.form===i.form){var w=mu(g);if(!w)throw Error(t(90));Ur(g),_i(g,w)}}}break;case"textarea":Ql(i,h);break;case"select":a=h.value,a!=null&&Qn(i,!!h.multiple,a,!1)}},Jl=Gm,eu=pl;var nA={usingClientEntryPoint:!1,Events:[Zs,Qs,mu,Gi,Ki,Gm]},Wc={findFiberByHostInstance:Ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rA={bundleType:Wc.bundleType,version:Wc.version,rendererPackageName:Wc.rendererPackageName,rendererConfig:Wc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ru(i),i===null?null:i.stateNode},findFiberByHostInstance:Wc.findFiberByHostInstance||eA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yd.isDisabled&&Yd.supportsFiber)try{Yi=Yd.inject(rA),On=Yd}catch{}}return Er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nA,Er.createPortal=function(i,a){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ng(a))throw Error(t(200));return Jb(i,a,null,h)},Er.createRoot=function(i,a){if(!ng(i))throw Error(t(299));var h=!1,g="",w=hw;return a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),a=Jm(i,1,!1,null,null,h,!1,g,w),i[Tt]=a.current,Ho(i.nodeType===8?i.parentNode:i),new tg(a)},Er.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=ru(a),i=i===null?null:i.stateNode,i},Er.flushSync=function(i){return pl(i)},Er.hydrate=function(i,a,h){if(!Zd(a))throw Error(t(200));return Qd(null,i,a,!0,h)},Er.hydrateRoot=function(i,a,h){if(!ng(i))throw Error(t(405));var g=h!=null&&h.hydratedSources||null,w=!1,E="",k=hw;if(h!=null&&(h.unstable_strictMode===!0&&(w=!0),h.identifierPrefix!==void 0&&(E=h.identifierPrefix),h.onRecoverableError!==void 0&&(k=h.onRecoverableError)),a=uw(a,null,i,1,h??null,w,!1,E,k),i[Tt]=a.current,Ho(i),g)for(i=0;i<g.length;i++)h=g[i],w=h._getVersion,w=w(h._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[h,w]:a.mutableSourceEagerHydrationData.push(h,w);return new Kd(a)},Er.render=function(i,a,h){if(!Zd(a))throw Error(t(200));return Qd(null,i,a,!1,h)},Er.unmountComponentAtNode=function(i){if(!Zd(i))throw Error(t(40));return i._reactRootContainer?(pl(function(){Qd(null,null,i,!1,function(){i._reactRootContainer=null,i[Tt]=null})}),!0):!1},Er.unstable_batchedUpdates=Gm,Er.unstable_renderSubtreeIntoContainer=function(i,a,h,g){if(!Zd(h))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Qd(i,a,h,!1,g)},Er.version="18.3.1-next-f1338f8080-20240426",Er}var ww;function Bx(){if(ww)return sg.exports;ww=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),sg.exports=hA(),sg.exports}var Tw;function dA(){if(Tw)return Xd;Tw=1;var n=Bx();return Xd.createRoot=n.createRoot,Xd.hydrateRoot=n.hydrateRoot,Xd}var fA=dA();const pA=La(fA);var dp=Bx();const mA=La(dp);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gh(){return gh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},gh.apply(this,arguments)}var pa;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(pa||(pa={}));const Ew="popstate";function gA(n){n===void 0&&(n={});function e(r,s){let{pathname:l,search:u,hash:d}=r.location;return Yg("",{pathname:l,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:zx(s)}return vA(e,t,null,n)}function cn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ux(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yA(){return Math.random().toString(36).substr(2,8)}function xw(n,e){return{usr:n.state,key:n.key,idx:e}}function Yg(n,e,t,r){return t===void 0&&(t=null),gh({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?cc(e):e,{state:t,key:e&&e.key||r||yA()})}function zx(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function cc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function vA(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:l=!1}=r,u=s.history,d=pa.Pop,p=null,y=v();y==null&&(y=0,u.replaceState(gh({},u.state,{idx:y}),""));function v(){return(u.state||{idx:null}).idx}function T(){d=pa.Pop;let M=v(),Z=M==null?null:M-y;y=M,p&&p({action:d,location:R.location,delta:Z})}function S(M,Z){d=pa.Push;let z=Yg(R.location,M,Z);y=v()+1;let H=xw(z,y),J=R.createHref(z);try{u.pushState(H,"",J)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;s.location.assign(J)}l&&p&&p({action:d,location:R.location,delta:1})}function b(M,Z){d=pa.Replace;let z=Yg(R.location,M,Z);y=v();let H=xw(z,y),J=R.createHref(z);u.replaceState(H,"",J),l&&p&&p({action:d,location:R.location,delta:0})}function V(M){let Z=s.location.origin!=="null"?s.location.origin:s.location.href,z=typeof M=="string"?M:zx(M);return z=z.replace(/ $/,"%20"),cn(Z,"No window.location.(origin|href) available to create URL for href: "+z),new URL(z,Z)}let R={get action(){return d},get location(){return n(s,u)},listen(M){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(Ew,T),p=M,()=>{s.removeEventListener(Ew,T),p=null}},createHref(M){return e(s,M)},createURL:V,encodeLocation(M){let Z=V(M);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:S,replace:b,go(M){return u.go(M)}};return R}var Pw;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Pw||(Pw={}));function _A(n,e,t){return t===void 0&&(t="/"),wA(n,e,t)}function wA(n,e,t,r){let s=typeof e=="string"?cc(e):e,l=$x(s.pathname||"/",t);if(l==null)return null;let u=Hx(n);TA(u);let d=null;for(let p=0;d==null&&p<u.length;++p){let y=LA(l);d=RA(u[p],y)}return d}function Hx(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(l,u,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};p.relativePath.startsWith("/")&&(cn(p.relativePath.startsWith(r),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(r.length));let y=Cl([r,p.relativePath]),v=t.concat(p);l.children&&l.children.length>0&&(cn(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),Hx(l.children,e,v,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:bA(y,l.index),routesMeta:v})};return n.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))s(l,u);else for(let p of Wx(l.path))s(l,u,p)}),e}function Wx(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return s?[l,""]:[l];let u=Wx(r.join("/")),d=[];return d.push(...u.map(p=>p===""?l:[l,p].join("/"))),s&&d.push(...u),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function TA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:AA(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const EA=/^:[\w-]+$/,xA=3,PA=2,SA=1,CA=10,IA=-2,Sw=n=>n==="*";function bA(n,e){let t=n.split("/"),r=t.length;return t.some(Sw)&&(r+=IA),e&&(r+=PA),t.filter(s=>!Sw(s)).reduce((s,l)=>s+(EA.test(l)?xA:l===""?SA:CA),r)}function AA(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function RA(n,e,t){let{routesMeta:r}=n,s={},l="/",u=[];for(let d=0;d<r.length;++d){let p=r[d],y=d===r.length-1,v=l==="/"?e:e.slice(l.length)||"/",T=kA({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},v),S=p.route;if(!T)return null;Object.assign(s,T.params),u.push({params:s,pathname:Cl([l,T.pathname]),pathnameBase:VA(Cl([l,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(l=Cl([l,T.pathnameBase]))}return u}function kA(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=NA(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],u=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((y,v,T)=>{let{paramName:S,isOptional:b}=v;if(S==="*"){let R=d[T]||"";u=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const V=d[T];return b&&!V?y[S]=void 0:y[S]=(V||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:u,pattern:n}}function NA(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Ux(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,p)=>(r.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function LA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ux(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function $x(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function MA(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?cc(n):n;return{pathname:t?t.startsWith("/")?t:OA(t,e):e,search:jA(r),hash:FA(s)}}function OA(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function lg(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function DA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function qx(n,e){let t=DA(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Gx(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=cc(n):(s=gh({},n),cn(!s.pathname||!s.pathname.includes("?"),lg("?","pathname","search",s)),cn(!s.pathname||!s.pathname.includes("#"),lg("#","pathname","hash",s)),cn(!s.search||!s.search.includes("#"),lg("#","search","hash",s)));let l=n===""||s.pathname==="",u=l?"/":s.pathname,d;if(u==null)d=t;else{let T=e.length-1;if(!r&&u.startsWith("..")){let S=u.split("/");for(;S[0]==="..";)S.shift(),T-=1;s.pathname=S.join("/")}d=T>=0?e[T]:"/"}let p=MA(s,d),y=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||v)&&(p.pathname+="/"),p}const Cl=n=>n.join("/").replace(/\/\/+/g,"/"),VA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),jA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,FA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function BA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Kx=["post","put","patch","delete"];new Set(Kx);const UA=["get",...Kx];new Set(UA);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yh(){return yh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},yh.apply(this,arguments)}const ev=A.createContext(null),zA=A.createContext(null),Lh=A.createContext(null),fp=A.createContext(null),Ul=A.createContext({outlet:null,matches:[],isDataRoute:!1}),Zx=A.createContext(null);function Mh(){return A.useContext(fp)!=null}function tv(){return Mh()||cn(!1),A.useContext(fp).location}function Qx(n){A.useContext(Lh).static||A.useLayoutEffect(n)}function nv(){let{isDataRoute:n}=A.useContext(Ul);return n?tR():HA()}function HA(){Mh()||cn(!1);let n=A.useContext(ev),{basename:e,future:t,navigator:r}=A.useContext(Lh),{matches:s}=A.useContext(Ul),{pathname:l}=tv(),u=JSON.stringify(qx(s,t.v7_relativeSplatPath)),d=A.useRef(!1);return Qx(()=>{d.current=!0}),A.useCallback(function(y,v){if(v===void 0&&(v={}),!d.current)return;if(typeof y=="number"){r.go(y);return}let T=Gx(y,JSON.parse(u),l,v.relative==="path");n==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Cl([e,T.pathname])),(v.replace?r.replace:r.push)(T,v.state,v)},[e,r,u,l,n])}function WA(n,e){return $A(n,e)}function $A(n,e,t,r){Mh()||cn(!1);let{navigator:s}=A.useContext(Lh),{matches:l}=A.useContext(Ul),u=l[l.length-1],d=u?u.params:{};u&&u.pathname;let p=u?u.pathnameBase:"/";u&&u.route;let y=tv(),v;if(e){var T;let M=typeof e=="string"?cc(e):e;p==="/"||(T=M.pathname)!=null&&T.startsWith(p)||cn(!1),v=M}else v=y;let S=v.pathname||"/",b=S;if(p!=="/"){let M=p.replace(/^\//,"").split("/");b="/"+S.replace(/^\//,"").split("/").slice(M.length).join("/")}let V=_A(n,{pathname:b}),R=QA(V&&V.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:Cl([p,s.encodeLocation?s.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?p:Cl([p,s.encodeLocation?s.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),l,t,r);return e&&R?A.createElement(fp.Provider,{value:{location:yh({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:pa.Pop}},R):R}function qA(){let n=eR(),e=BA(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),t?A.createElement("pre",{style:s},t):null,null)}const GA=A.createElement(qA,null);class KA extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?A.createElement(Ul.Provider,{value:this.props.routeContext},A.createElement(Zx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ZA(n){let{routeContext:e,match:t,children:r}=n,s=A.useContext(ev);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),A.createElement(Ul.Provider,{value:e},r)}function QA(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var l;if(!t)return null;if(t.errors)n=t.matches;else if((l=r)!=null&&l.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,d=(s=t)==null?void 0:s.errors;if(d!=null){let v=u.findIndex(T=>T.route.id&&d?.[T.route.id]!==void 0);v>=0||cn(!1),u=u.slice(0,Math.min(u.length,v+1))}let p=!1,y=-1;if(t&&r&&r.v7_partialHydration)for(let v=0;v<u.length;v++){let T=u[v];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(y=v),T.route.id){let{loaderData:S,errors:b}=t,V=T.route.loader&&S[T.route.id]===void 0&&(!b||b[T.route.id]===void 0);if(T.route.lazy||V){p=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}return u.reduceRight((v,T,S)=>{let b,V=!1,R=null,M=null;t&&(b=d&&T.route.id?d[T.route.id]:void 0,R=T.route.errorElement||GA,p&&(y<0&&S===0?(nR("route-fallback"),V=!0,M=null):y===S&&(V=!0,M=T.route.hydrateFallbackElement||null)));let Z=e.concat(u.slice(0,S+1)),z=()=>{let H;return b?H=R:V?H=M:T.route.Component?H=A.createElement(T.route.Component,null):T.route.element?H=T.route.element:H=v,A.createElement(ZA,{match:T,routeContext:{outlet:v,matches:Z,isDataRoute:t!=null},children:H})};return t&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?A.createElement(KA,{location:t.location,revalidation:t.revalidation,component:R,error:b,children:z(),routeContext:{outlet:null,matches:Z,isDataRoute:!0}}):z()},null)}var Yx=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(Yx||{}),Xx=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(Xx||{});function YA(n){let e=A.useContext(ev);return e||cn(!1),e}function XA(n){let e=A.useContext(zA);return e||cn(!1),e}function JA(n){let e=A.useContext(Ul);return e||cn(!1),e}function Jx(n){let e=JA(),t=e.matches[e.matches.length-1];return t.route.id||cn(!1),t.route.id}function eR(){var n;let e=A.useContext(Zx),t=XA(),r=Jx();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function tR(){let{router:n}=YA(Yx.UseNavigateStable),e=Jx(Xx.UseNavigateStable),t=A.useRef(!1);return Qx(()=>{t.current=!0}),A.useCallback(function(s,l){l===void 0&&(l={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,yh({fromRouteId:e},l)))},[n,e])}const Cw={};function nR(n,e,t){Cw[n]||(Cw[n]=!0)}function rR(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function Jd(n){let{to:e,replace:t,state:r,relative:s}=n;Mh()||cn(!1);let{future:l,static:u}=A.useContext(Lh),{matches:d}=A.useContext(Ul),{pathname:p}=tv(),y=nv(),v=Gx(e,qx(d,l.v7_relativeSplatPath),p,s==="path"),T=JSON.stringify(v);return A.useEffect(()=>y(JSON.parse(T),{replace:t,state:r,relative:s}),[y,T,s,t,r]),null}function Mi(n){cn(!1)}function iR(n){let{basename:e="/",children:t=null,location:r,navigationType:s=pa.Pop,navigator:l,static:u=!1,future:d}=n;Mh()&&cn(!1);let p=e.replace(/^\/*/,"/"),y=A.useMemo(()=>({basename:p,navigator:l,static:u,future:yh({v7_relativeSplatPath:!1},d)}),[p,d,l,u]);typeof r=="string"&&(r=cc(r));let{pathname:v="/",search:T="",hash:S="",state:b=null,key:V="default"}=r,R=A.useMemo(()=>{let M=$x(v,p);return M==null?null:{location:{pathname:M,search:T,hash:S,state:b,key:V},navigationType:s}},[p,v,T,S,b,V,s]);return R==null?null:A.createElement(Lh.Provider,{value:y},A.createElement(fp.Provider,{children:t,value:R}))}function sR(n){let{children:e,location:t}=n;return WA(Xg(e),t)}new Promise(()=>{});function Xg(n,e){e===void 0&&(e=[]);let t=[];return A.Children.forEach(n,(r,s)=>{if(!A.isValidElement(r))return;let l=[...e,s];if(r.type===A.Fragment){t.push.apply(t,Xg(r.props.children,l));return}r.type!==Mi&&cn(!1),!r.props.index||!r.props.children||cn(!1);let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Xg(r.props.children,l)),t.push(u)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const oR="6";try{window.__reactRouterVersion=oR}catch{}const aR="startTransition",Iw=Jy[aR];function lR(n){let{basename:e,children:t,future:r,window:s}=n,l=A.useRef();l.current==null&&(l.current=gA({window:s,v5Compat:!0}));let u=l.current,[d,p]=A.useState({action:u.action,location:u.location}),{v7_startTransition:y}=r||{},v=A.useCallback(T=>{y&&Iw?Iw(()=>p(T)):p(T)},[p,y]);return A.useLayoutEffect(()=>u.listen(v),[u,v]),A.useEffect(()=>rR(r),[r]),A.createElement(iR,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:u,future:r})}var bw;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(bw||(bw={}));var Aw;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Aw||(Aw={}));var ug={exports:{}},cg,Rw;function uR(){if(Rw)return cg;Rw=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return cg=n,cg}var hg,kw;function cR(){if(kw)return hg;kw=1;var n=uR();function e(){}function t(){}return t.resetWarningCache=e,hg=function(){function r(u,d,p,y,v,T){if(T!==n){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}r.isRequired=r;function s(){return r}var l={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},hg}var Nw;function hR(){return Nw||(Nw=1,ug.exports=cR()()),ug.exports}var dR=hR();const Bt=La(dR);var dg,Lw;function fR(){if(Lw)return dg;Lw=1;function n(d){return d&&typeof d=="object"&&"default"in d?d.default:d}var e=hp(),t=n(e);function r(d,p,y){return p in d?Object.defineProperty(d,p,{value:y,enumerable:!0,configurable:!0,writable:!0}):d[p]=y,d}function s(d,p){d.prototype=Object.create(p.prototype),d.prototype.constructor=d,d.__proto__=p}var l=!!(typeof window<"u"&&window.document&&window.document.createElement);function u(d,p,y){if(typeof d!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof p!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof y<"u"&&typeof y!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function v(T){return T.displayName||T.name||"Component"}return function(S){if(typeof S!="function")throw new Error("Expected WrappedComponent to be a React component.");var b=[],V;function R(){V=d(b.map(function(Z){return Z.props})),M.canUseDOM?p(V):y&&(V=y(V))}var M=(function(Z){s(z,Z);function z(){return Z.apply(this,arguments)||this}z.peek=function(){return V},z.rewind=function(){if(z.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var le=V;return V=void 0,b=[],le};var H=z.prototype;return H.UNSAFE_componentWillMount=function(){b.push(this),R()},H.componentDidUpdate=function(){R()},H.componentWillUnmount=function(){var le=b.indexOf(this);b.splice(le,1),R()},H.render=function(){return t.createElement(S,this.props)},z})(e.PureComponent);return r(M,"displayName","SideEffect("+v(S)+")"),r(M,"canUseDOM",l),M}}return dg=u,dg}var pR=fR();const mR=La(pR);var fg,Mw;function gR(){if(Mw)return fg;Mw=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(l,u){if(l===u)return!0;if(l&&u&&typeof l=="object"&&typeof u=="object"){if(l.constructor!==u.constructor)return!1;var d,p,y;if(Array.isArray(l)){if(d=l.length,d!=u.length)return!1;for(p=d;p--!==0;)if(!s(l[p],u[p]))return!1;return!0}var v;if(e&&l instanceof Map&&u instanceof Map){if(l.size!==u.size)return!1;for(v=l.entries();!(p=v.next()).done;)if(!u.has(p.value[0]))return!1;for(v=l.entries();!(p=v.next()).done;)if(!s(p.value[1],u.get(p.value[0])))return!1;return!0}if(t&&l instanceof Set&&u instanceof Set){if(l.size!==u.size)return!1;for(v=l.entries();!(p=v.next()).done;)if(!u.has(p.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(l)&&ArrayBuffer.isView(u)){if(d=l.length,d!=u.length)return!1;for(p=d;p--!==0;)if(l[p]!==u[p])return!1;return!0}if(l.constructor===RegExp)return l.source===u.source&&l.flags===u.flags;if(l.valueOf!==Object.prototype.valueOf&&typeof l.valueOf=="function"&&typeof u.valueOf=="function")return l.valueOf()===u.valueOf();if(l.toString!==Object.prototype.toString&&typeof l.toString=="function"&&typeof u.toString=="function")return l.toString()===u.toString();if(y=Object.keys(l),d=y.length,d!==Object.keys(u).length)return!1;for(p=d;p--!==0;)if(!Object.prototype.hasOwnProperty.call(u,y[p]))return!1;if(n&&l instanceof Element)return!1;for(p=d;p--!==0;)if(!((y[p]==="_owner"||y[p]==="__v"||y[p]==="__o")&&l.$$typeof)&&!s(l[y[p]],u[y[p]]))return!1;return!0}return l!==l&&u!==u}return fg=function(u,d){try{return s(u,d)}catch(p){if((p.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw p}},fg}var yR=gR();const vR=La(yR);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var pg,Ow;function _R(){if(Ow)return pg;Ow=1;var n=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function r(l){if(l==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(l)}function s(){try{if(!Object.assign)return!1;var l=new String("abc");if(l[5]="de",Object.getOwnPropertyNames(l)[0]==="5")return!1;for(var u={},d=0;d<10;d++)u["_"+String.fromCharCode(d)]=d;var p=Object.getOwnPropertyNames(u).map(function(v){return u[v]});if(p.join("")!=="0123456789")return!1;var y={};return"abcdefghijklmnopqrst".split("").forEach(function(v){y[v]=v}),Object.keys(Object.assign({},y)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return pg=s()?Object.assign:function(l,u){for(var d,p=r(l),y,v=1;v<arguments.length;v++){d=Object(arguments[v]);for(var T in d)e.call(d,T)&&(p[T]=d[T]);if(n){y=n(d);for(var S=0;S<y.length;S++)t.call(d,y[S])&&(p[y[S]]=d[y[S]])}}return p},pg}var wR=_R();const TR=La(wR);var Il={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},et={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(et).map(function(n){return et[n]});var Ut={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Lf={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},vh={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},ER=Object.keys(Lf).reduce(function(n,e){return n[Lf[e]]=e,n},{}),xR=[et.NOSCRIPT,et.SCRIPT,et.STYLE],Oi="data-react-helmet",PR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},SR=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")},CR=(function(){function n(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}})(),xr=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},IR=function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)},Dw=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},bR=function(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n},Jg=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},AR=function(e){var t=Hu(e,et.TITLE),r=Hu(e,vh.TITLE_TEMPLATE);if(r&&t)return r.replace(/%s/g,function(){return Array.isArray(t)?t.join(""):t});var s=Hu(e,vh.DEFAULT_TITLE);return t||s||void 0},RR=function(e){return Hu(e,vh.ON_CHANGE_CLIENT_STATE)||function(){}},mg=function(e,t){return t.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,s){return xr({},r,s)},{})},kR=function(e,t){return t.filter(function(r){return typeof r[et.BASE]<"u"}).map(function(r){return r[et.BASE]}).reverse().reduce(function(r,s){if(!r.length)for(var l=Object.keys(s),u=0;u<l.length;u++){var d=l[u],p=d.toLowerCase();if(e.indexOf(p)!==-1&&s[p])return r.concat(s)}return r},[])},qc=function(e,t,r){var s={};return r.filter(function(l){return Array.isArray(l[e])?!0:(typeof l[e]<"u"&&OR("Helmet: "+e+' should be of type "Array". Instead found type "'+PR(l[e])+'"'),!1)}).map(function(l){return l[e]}).reverse().reduce(function(l,u){var d={};u.filter(function(S){for(var b=void 0,V=Object.keys(S),R=0;R<V.length;R++){var M=V[R],Z=M.toLowerCase();t.indexOf(Z)!==-1&&!(b===Ut.REL&&S[b].toLowerCase()==="canonical")&&!(Z===Ut.REL&&S[Z].toLowerCase()==="stylesheet")&&(b=Z),t.indexOf(M)!==-1&&(M===Ut.INNER_HTML||M===Ut.CSS_TEXT||M===Ut.ITEM_PROP)&&(b=M)}if(!b||!S[b])return!1;var z=S[b].toLowerCase();return s[b]||(s[b]={}),d[b]||(d[b]={}),s[b][z]?!1:(d[b][z]=!0,!0)}).reverse().forEach(function(S){return l.push(S)});for(var p=Object.keys(d),y=0;y<p.length;y++){var v=p[y],T=TR({},s[v],d[v]);s[v]=T}return l},[]).reverse()},Hu=function(e,t){for(var r=e.length-1;r>=0;r--){var s=e[r];if(s.hasOwnProperty(t))return s[t]}return null},NR=function(e){return{baseTag:kR([Ut.HREF,Ut.TARGET],e),bodyAttributes:mg(Il.BODY,e),defer:Hu(e,vh.DEFER),encode:Hu(e,vh.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:mg(Il.HTML,e),linkTags:qc(et.LINK,[Ut.REL,Ut.HREF],e),metaTags:qc(et.META,[Ut.NAME,Ut.CHARSET,Ut.HTTPEQUIV,Ut.PROPERTY,Ut.ITEM_PROP],e),noscriptTags:qc(et.NOSCRIPT,[Ut.INNER_HTML],e),onChangeClientState:RR(e),scriptTags:qc(et.SCRIPT,[Ut.SRC,Ut.INNER_HTML],e),styleTags:qc(et.STYLE,[Ut.CSS_TEXT],e),title:AR(e),titleAttributes:mg(Il.TITLE,e)}},ey=(function(){var n=Date.now();return function(e){var t=Date.now();t-n>16?(n=t,e(t)):setTimeout(function(){ey(e)},0)}})(),Vw=function(e){return clearTimeout(e)},LR=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||ey:global.requestAnimationFrame||ey,MR=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||Vw:global.cancelAnimationFrame||Vw,OR=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Gc=null,DR=function(e){Gc&&MR(Gc),e.defer?Gc=LR(function(){jw(e,function(){Gc=null})}):(jw(e),Gc=null)},jw=function(e,t){var r=e.baseTag,s=e.bodyAttributes,l=e.htmlAttributes,u=e.linkTags,d=e.metaTags,p=e.noscriptTags,y=e.onChangeClientState,v=e.scriptTags,T=e.styleTags,S=e.title,b=e.titleAttributes;ty(et.BODY,s),ty(et.HTML,l),VR(S,b);var V={baseTag:Ru(et.BASE,r),linkTags:Ru(et.LINK,u),metaTags:Ru(et.META,d),noscriptTags:Ru(et.NOSCRIPT,p),scriptTags:Ru(et.SCRIPT,v),styleTags:Ru(et.STYLE,T)},R={},M={};Object.keys(V).forEach(function(Z){var z=V[Z],H=z.newTags,J=z.oldTags;H.length&&(R[Z]=H),J.length&&(M[Z]=V[Z].oldTags)}),t&&t(),y(e,R,M)},eP=function(e){return Array.isArray(e)?e.join(""):e},VR=function(e,t){typeof e<"u"&&document.title!==e&&(document.title=eP(e)),ty(et.TITLE,t)},ty=function(e,t){var r=document.getElementsByTagName(e)[0];if(r){for(var s=r.getAttribute(Oi),l=s?s.split(","):[],u=[].concat(l),d=Object.keys(t),p=0;p<d.length;p++){var y=d[p],v=t[y]||"";r.getAttribute(y)!==v&&r.setAttribute(y,v),l.indexOf(y)===-1&&l.push(y);var T=u.indexOf(y);T!==-1&&u.splice(T,1)}for(var S=u.length-1;S>=0;S--)r.removeAttribute(u[S]);l.length===u.length?r.removeAttribute(Oi):r.getAttribute(Oi)!==d.join(",")&&r.setAttribute(Oi,d.join(","))}},Ru=function(e,t){var r=document.head||document.querySelector(et.HEAD),s=r.querySelectorAll(e+"["+Oi+"]"),l=Array.prototype.slice.call(s),u=[],d=void 0;return t&&t.length&&t.forEach(function(p){var y=document.createElement(e);for(var v in p)if(p.hasOwnProperty(v))if(v===Ut.INNER_HTML)y.innerHTML=p.innerHTML;else if(v===Ut.CSS_TEXT)y.styleSheet?y.styleSheet.cssText=p.cssText:y.appendChild(document.createTextNode(p.cssText));else{var T=typeof p[v]>"u"?"":p[v];y.setAttribute(v,T)}y.setAttribute(Oi,"true"),l.some(function(S,b){return d=b,y.isEqualNode(S)})?l.splice(d,1):u.push(y)}),l.forEach(function(p){return p.parentNode.removeChild(p)}),u.forEach(function(p){return r.appendChild(p)}),{oldTags:l,newTags:u}},tP=function(e){return Object.keys(e).reduce(function(t,r){var s=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return t?t+" "+s:s},"")},jR=function(e,t,r,s){var l=tP(r),u=eP(t);return l?"<"+e+" "+Oi+'="true" '+l+">"+Jg(u,s)+"</"+e+">":"<"+e+" "+Oi+'="true">'+Jg(u,s)+"</"+e+">"},FR=function(e,t,r){return t.reduce(function(s,l){var u=Object.keys(l).filter(function(y){return!(y===Ut.INNER_HTML||y===Ut.CSS_TEXT)}).reduce(function(y,v){var T=typeof l[v]>"u"?v:v+'="'+Jg(l[v],r)+'"';return y?y+" "+T:T},""),d=l.innerHTML||l.cssText||"",p=xR.indexOf(e)===-1;return s+"<"+e+" "+Oi+'="true" '+u+(p?"/>":">"+d+"</"+e+">")},"")},nP=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[Lf[s]||s]=e[s],r},t)},BR=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[ER[s]||s]=e[s],r},t)},UR=function(e,t,r){var s,l=(s={key:t},s[Oi]=!0,s),u=nP(r,l);return[wt.createElement(et.TITLE,u,t)]},zR=function(e,t){return t.map(function(r,s){var l,u=(l={key:s},l[Oi]=!0,l);return Object.keys(r).forEach(function(d){var p=Lf[d]||d;if(p===Ut.INNER_HTML||p===Ut.CSS_TEXT){var y=r.innerHTML||r.cssText;u.dangerouslySetInnerHTML={__html:y}}else u[p]=r[d]}),wt.createElement(e,u)})},io=function(e,t,r){switch(e){case et.TITLE:return{toComponent:function(){return UR(e,t.title,t.titleAttributes)},toString:function(){return jR(e,t.title,t.titleAttributes,r)}};case Il.BODY:case Il.HTML:return{toComponent:function(){return nP(t)},toString:function(){return tP(t)}};default:return{toComponent:function(){return zR(e,t)},toString:function(){return FR(e,t,r)}}}},rP=function(e){var t=e.baseTag,r=e.bodyAttributes,s=e.encode,l=e.htmlAttributes,u=e.linkTags,d=e.metaTags,p=e.noscriptTags,y=e.scriptTags,v=e.styleTags,T=e.title,S=T===void 0?"":T,b=e.titleAttributes;return{base:io(et.BASE,t,s),bodyAttributes:io(Il.BODY,r,s),htmlAttributes:io(Il.HTML,l,s),link:io(et.LINK,u,s),meta:io(et.META,d,s),noscript:io(et.NOSCRIPT,p,s),script:io(et.SCRIPT,y,s),style:io(et.STYLE,v,s),title:io(et.TITLE,{title:S,titleAttributes:b},s)}},HR=function(e){var t,r;return r=t=(function(s){IR(l,s);function l(){return SR(this,l),bR(this,s.apply(this,arguments))}return l.prototype.shouldComponentUpdate=function(d){return!vR(this.props,d)},l.prototype.mapNestedChildrenToProps=function(d,p){if(!p)return null;switch(d.type){case et.SCRIPT:case et.NOSCRIPT:return{innerHTML:p};case et.STYLE:return{cssText:p}}throw new Error("<"+d.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},l.prototype.flattenArrayTypeChildren=function(d){var p,y=d.child,v=d.arrayTypeChildren,T=d.newChildProps,S=d.nestedChildren;return xr({},v,(p={},p[y.type]=[].concat(v[y.type]||[],[xr({},T,this.mapNestedChildrenToProps(y,S))]),p))},l.prototype.mapObjectTypeChildren=function(d){var p,y,v=d.child,T=d.newProps,S=d.newChildProps,b=d.nestedChildren;switch(v.type){case et.TITLE:return xr({},T,(p={},p[v.type]=b,p.titleAttributes=xr({},S),p));case et.BODY:return xr({},T,{bodyAttributes:xr({},S)});case et.HTML:return xr({},T,{htmlAttributes:xr({},S)})}return xr({},T,(y={},y[v.type]=xr({},S),y))},l.prototype.mapArrayTypeChildrenToProps=function(d,p){var y=xr({},p);return Object.keys(d).forEach(function(v){var T;y=xr({},y,(T={},T[v]=d[v],T))}),y},l.prototype.warnOnInvalidChildren=function(d,p){return!0},l.prototype.mapChildrenToProps=function(d,p){var y=this,v={};return wt.Children.forEach(d,function(T){if(!(!T||!T.props)){var S=T.props,b=S.children,V=Dw(S,["children"]),R=BR(V);switch(y.warnOnInvalidChildren(T,b),T.type){case et.LINK:case et.META:case et.NOSCRIPT:case et.SCRIPT:case et.STYLE:v=y.flattenArrayTypeChildren({child:T,arrayTypeChildren:v,newChildProps:R,nestedChildren:b});break;default:p=y.mapObjectTypeChildren({child:T,newProps:p,newChildProps:R,nestedChildren:b});break}}}),p=this.mapArrayTypeChildrenToProps(v,p),p},l.prototype.render=function(){var d=this.props,p=d.children,y=Dw(d,["children"]),v=xr({},y);return p&&(v=this.mapChildrenToProps(p,v)),wt.createElement(e,v)},CR(l,null,[{key:"canUseDOM",set:function(d){e.canUseDOM=d}}]),l})(wt.Component),t.propTypes={base:Bt.object,bodyAttributes:Bt.object,children:Bt.oneOfType([Bt.arrayOf(Bt.node),Bt.node]),defaultTitle:Bt.string,defer:Bt.bool,encodeSpecialCharacters:Bt.bool,htmlAttributes:Bt.object,link:Bt.arrayOf(Bt.object),meta:Bt.arrayOf(Bt.object),noscript:Bt.arrayOf(Bt.object),onChangeClientState:Bt.func,script:Bt.arrayOf(Bt.object),style:Bt.arrayOf(Bt.object),title:Bt.string,titleAttributes:Bt.object,titleTemplate:Bt.string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var s=e.rewind();return s||(s=rP({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},r},WR=function(){return null},$R=mR(NR,DR,rP)(WR),ny=HR($R);ny.renderStatic=ny.rewind;const qR=()=>{};var Fw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},GR=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[r++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],u=n[t++],d=n[t++],p=((s&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(l&63)<<6|u&63)}}return e.join("")},sP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const l=n[s],u=s+1<n.length,d=u?n[s+1]:0,p=s+2<n.length,y=p?n[s+2]:0,v=l>>2,T=(l&3)<<4|d>>4;let S=(d&15)<<2|y>>6,b=y&63;p||(b=64,u||(S=64)),r.push(t[v],t[T],t[S],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(iP(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):GR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const y=s<n.length?t[n.charAt(s)]:64;++s;const T=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||d==null||y==null||T==null)throw new KR;const S=l<<2|d>>4;if(r.push(S),y!==64){const b=d<<4&240|y>>2;if(r.push(b),T!==64){const V=y<<6&192|T;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class KR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZR=function(n){const e=iP(n);return sP.encodeByteArray(e,!0)},Mf=function(n){return ZR(n).replace(/\./g,"")},oP=function(n){try{return sP.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=()=>QR().__FIREBASE_DEFAULTS__,XR=()=>{if(typeof process>"u"||typeof Fw>"u")return;const n=Fw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},JR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&oP(n[1]);return e&&JSON.parse(e)},pp=()=>{try{return qR()||YR()||XR()||JR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},aP=n=>pp()?.emulatorHosts?.[n],ek=n=>{const e=aP(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},lP=()=>pp()?.config,uP=n=>pp()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cP(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Mf(JSON.stringify(t)),Mf(JSON.stringify(u)),""].join(".")}const oh={};function rk(){const n={prod:[],emulator:[]};for(const e of Object.keys(oh))oh[e]?n.emulator.push(e):n.prod.push(e);return n}function ik(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Bw=!1;function hP(n,e){if(typeof window>"u"||typeof document>"u"||!hc(window.location.host)||oh[n]===e||oh[n]||Bw)return;oh[n]=e;function t(S){return`__firebase__banner__${S}`}const r="__firebase__banner",l=rk().prod.length>0;function u(){const S=document.getElementById(r);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,b){S.setAttribute("width","24"),S.setAttribute("id",b),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Bw=!0,u()},S}function v(S,b){S.setAttribute("id",b),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=ik(r),b=t("text"),V=document.getElementById(b)||document.createElement("span"),R=t("learnmore"),M=document.getElementById(R)||document.createElement("a"),Z=t("preprendIcon"),z=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const H=S.element;d(H),v(M,R);const J=y();p(z,Z),H.append(z,V,M,J),document.body.appendChild(H)}l?(V.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zn())}function ok(){const n=pp()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ak(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lk(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function uk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ck(){const n=Zn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function hk(){return!ok()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dk(){try{return typeof indexedDB=="object"}catch{return!1}}function fk(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="FirebaseError";class vo extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=pk,Object.setPrototypeOf(this,vo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oh.prototype.create)}}class Oh{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],u=l?mk(l,r):"Error",d=`${this.serviceName}: ${u} (${s}).`;return new vo(s,d,r)}}function mk(n,e){return n.replace(gk,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const gk=/\{\$([^}]+)}/g;function yk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Nl(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const l=n[s],u=e[s];if(Uw(l)&&Uw(u)){if(!Nl(l,u))return!1}else if(l!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function Uw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,l]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(l)}}),e}function Jc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function vk(n,e){const t=new _k(n,e);return t.subscribe.bind(t)}class _k{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");wk(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=gg),s.error===void 0&&(s.error=gg),s.complete===void 0&&(s.complete=gg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wk(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function gg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(n){return n&&n._delegate?n._delegate:n}class Ll{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tk=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new tk;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xk(e))try{this.getOrInitializeService({instanceIdentifier:_l})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});r.resolve(l)}catch{}}}}clearInstance(e=_l){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_l){return this.instances.has(e)}getOptions(e=_l){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&u.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const l=this.instances.get(r);return l&&e(l,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ek(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_l){return this.component?this.component.multipleInstances?e:_l:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Ek(n){return n===_l?void 0:n}function xk(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Tk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ot||(ot={}));const Sk={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},Ck=ot.INFO,Ik={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},bk=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=Ik[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rv{constructor(e){this.name=e,this._logLevel=Ck,this._logHandler=bk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Sk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const Ak=(n,e)=>e.some(t=>n instanceof t);let zw,Hw;function Rk(){return zw||(zw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kk(){return Hw||(Hw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dP=new WeakMap,ry=new WeakMap,fP=new WeakMap,yg=new WeakMap,iv=new WeakMap;function Nk(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(ga(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&dP.set(t,n)}).catch(()=>{}),iv.set(e,n),e}function Lk(n){if(ry.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});ry.set(n,e)}let iy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ry.get(n);if(e==="objectStoreNames")return n.objectStoreNames||fP.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ga(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Mk(n){iy=n(iy)}function Ok(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(vg(this),e,...t);return fP.set(r,e.sort?e.sort():[e]),ga(r)}:kk().includes(n)?function(...e){return n.apply(vg(this),e),ga(dP.get(this))}:function(...e){return ga(n.apply(vg(this),e))}}function Dk(n){return typeof n=="function"?Ok(n):(n instanceof IDBTransaction&&Lk(n),Ak(n,Rk())?new Proxy(n,iy):n)}function ga(n){if(n instanceof IDBRequest)return Nk(n);if(yg.has(n))return yg.get(n);const e=Dk(n);return e!==n&&(yg.set(n,e),iv.set(e,n)),e}const vg=n=>iv.get(n);function Vk(n,e,{blocked:t,upgrade:r,blocking:s,terminated:l}={}){const u=indexedDB.open(n,e),d=ga(u);return r&&u.addEventListener("upgradeneeded",p=>{r(ga(u.result),p.oldVersion,p.newVersion,ga(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),s&&p.addEventListener("versionchange",y=>s(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const jk=["get","getKey","getAll","getAllKeys","count"],Fk=["put","add","delete","clear"],_g=new Map;function Ww(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(_g.get(e))return _g.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=Fk.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||jk.includes(t)))return;const l=async function(u,...d){const p=this.transaction(u,s?"readwrite":"readonly");let y=p.store;return r&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),s&&p.done]))[0]};return _g.set(e,l),l}Mk(n=>({...n,get:(e,t,r)=>Ww(e,t)||n.get(e,t,r),has:(e,t)=>!!Ww(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Uk(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Uk(n){return n.getComponent()?.type==="VERSION"}const sy="@firebase/app",$w="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=new rv("@firebase/app"),zk="@firebase/app-compat",Hk="@firebase/analytics-compat",Wk="@firebase/analytics",$k="@firebase/app-check-compat",qk="@firebase/app-check",Gk="@firebase/auth",Kk="@firebase/auth-compat",Zk="@firebase/database",Qk="@firebase/data-connect",Yk="@firebase/database-compat",Xk="@firebase/functions",Jk="@firebase/functions-compat",eN="@firebase/installations",tN="@firebase/installations-compat",nN="@firebase/messaging",rN="@firebase/messaging-compat",iN="@firebase/performance",sN="@firebase/performance-compat",oN="@firebase/remote-config",aN="@firebase/remote-config-compat",lN="@firebase/storage",uN="@firebase/storage-compat",cN="@firebase/firestore",hN="@firebase/ai",dN="@firebase/firestore-compat",fN="firebase",pN="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="[DEFAULT]",mN={[sy]:"fire-core",[zk]:"fire-core-compat",[Wk]:"fire-analytics",[Hk]:"fire-analytics-compat",[qk]:"fire-app-check",[$k]:"fire-app-check-compat",[Gk]:"fire-auth",[Kk]:"fire-auth-compat",[Zk]:"fire-rtdb",[Qk]:"fire-data-connect",[Yk]:"fire-rtdb-compat",[Xk]:"fire-fn",[Jk]:"fire-fn-compat",[eN]:"fire-iid",[tN]:"fire-iid-compat",[nN]:"fire-fcm",[rN]:"fire-fcm-compat",[iN]:"fire-perf",[sN]:"fire-perf-compat",[oN]:"fire-rc",[aN]:"fire-rc-compat",[lN]:"fire-gcs",[uN]:"fire-gcs-compat",[cN]:"fire-fst",[dN]:"fire-fst-compat",[hN]:"fire-vertex","fire-js":"fire-js",[fN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=new Map,gN=new Map,ay=new Map;function qw(n,e){try{n.container.addComponent(e)}catch(t){ho.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Yu(n){const e=n.name;if(ay.has(e))return ho.debug(`There were multiple attempts to register component ${e}.`),!1;ay.set(e,n);for(const t of Of.values())qw(t,n);for(const t of gN.values())qw(t,n);return!0}function sv(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function yi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ya=new Oh("app","Firebase",yN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ll("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ya.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=pN;function pP(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:oy,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw ya.create("bad-app-name",{appName:String(s)});if(t||(t=lP()),!t)throw ya.create("no-options");const l=Of.get(s);if(l){if(Nl(t,l.options)&&Nl(r,l.config))return l;throw ya.create("duplicate-app",{appName:s})}const u=new Pk(s);for(const p of ay.values())u.addComponent(p);const d=new vN(t,r,u);return Of.set(s,d),d}function mP(n=oy){const e=Of.get(n);if(!e&&n===oy&&lP())return pP();if(!e)throw ya.create("no-app",{appName:n});return e}function va(n,e,t){let r=mN[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ho.warn(u.join(" "));return}Yu(new Ll(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="firebase-heartbeat-database",wN=1,_h="firebase-heartbeat-store";let wg=null;function gP(){return wg||(wg=Vk(_N,wN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(_h)}catch(t){console.warn(t)}}}}).catch(n=>{throw ya.create("idb-open",{originalErrorMessage:n.message})})),wg}async function TN(n){try{const t=(await gP()).transaction(_h),r=await t.objectStore(_h).get(yP(n));return await t.done,r}catch(e){if(e instanceof vo)ho.warn(e.message);else{const t=ya.create("idb-get",{originalErrorMessage:e?.message});ho.warn(t.message)}}}async function Gw(n,e){try{const r=(await gP()).transaction(_h,"readwrite");await r.objectStore(_h).put(e,yP(n)),await r.done}catch(t){if(t instanceof vo)ho.warn(t.message);else{const r=ya.create("idb-set",{originalErrorMessage:t?.message});ho.warn(r.message)}}}function yP(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=1024,xN=30;class PN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new CN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Kw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>xN){const s=IN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ho.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Kw(),{heartbeatsToSend:t,unsentEntries:r}=SN(this._heartbeatsCache.heartbeats),s=Mf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return ho.warn(e),""}}}function Kw(){return new Date().toISOString().substring(0,10)}function SN(n,e=EN){const t=[];let r=n.slice();for(const s of n){const l=t.find(u=>u.agent===s.agent);if(l){if(l.dates.push(s.date),Zw(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Zw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class CN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dk()?fk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await TN(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Gw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Gw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Zw(n){return Mf(JSON.stringify({version:2,heartbeats:n})).length}function IN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(n){Yu(new Ll("platform-logger",e=>new Bk(e),"PRIVATE")),Yu(new Ll("heartbeat",e=>new PN(e),"PRIVATE")),va(sy,$w,n),va(sy,$w,"esm2020"),va("fire-js","")}bN("");var AN="firebase",RN="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */va(AN,RN,"app");function vP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kN=vP,_P=new Oh("auth","Firebase",vP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=new rv("@firebase/auth");function NN(n,...e){Df.logLevel<=ot.WARN&&Df.warn(`Auth (${dc}): ${n}`,...e)}function _f(n,...e){Df.logLevel<=ot.ERROR&&Df.error(`Auth (${dc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(n,...e){throw ov(n,...e)}function ms(n,...e){return ov(n,...e)}function wP(n,e,t){const r={...kN(),[e]:t};return new Oh("auth","Firebase",r).create(e,{appName:n.name})}function lo(n){return wP(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ov(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return _P.create(n,...e)}function qe(n,e,...t){if(!n)throw ov(e,...t)}function so(n){const e="INTERNAL ASSERTION FAILED: "+n;throw _f(e),new Error(e)}function fo(n,e){n||so(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(){return typeof self<"u"&&self.location?.href||""}function LN(){return Qw()==="http:"||Qw()==="https:"}function Qw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LN()||lk()||"connection"in navigator)?navigator.onLine:!0}function ON(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t){this.shortDelay=e,this.longDelay=t,fo(t>e,"Short delay should be less than long delay!"),this.isMobile=sk()||uk()}get(){return MN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(n,e){fo(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;so("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;so("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;so("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jN=new Vh(3e4,6e4);function Ma(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Oa(n,e,t,r,s={}){return EP(n,s,async()=>{let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});const d=Dh({key:n.config.apiKey,...u}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y={method:e,headers:p,...l};return ak()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&hc(n.emulatorConfig.host)&&(y.credentials="include"),TP.fetch()(await xP(n,n.config.apiHost,t,d),y)})}async function EP(n,e,t){n._canInitEmulator=!1;const r={...DN,...e};try{const s=new BN(n),l=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw ef(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[p,y]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ef(n,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw ef(n,"email-already-in-use",u);if(p==="USER_DISABLED")throw ef(n,"user-disabled",u);const v=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw wP(n,v,y);ji(n,v)}}catch(s){if(s instanceof vo)throw s;ji(n,"network-request-failed",{message:String(s)})}}async function jh(n,e,t,r,s={}){const l=await Oa(n,e,t,r,s);return"mfaPendingCredential"in l&&ji(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function xP(n,e,t,r){const s=`${e}${t}?${r}`,l=n,u=l.config.emulator?av(n.config,s):`${n.config.apiScheme}://${s}`;return VN.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function FN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ms(this.auth,"network-request-failed")),jN.get())})}}function ef(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=ms(n,e,r);return s.customData._tokenResponse=t,s}function Yw(n){return n!==void 0&&n.enterprise!==void 0}class UN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return FN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zN(n,e){return Oa(n,"GET","/v2/recaptchaConfig",Ma(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(n,e){return Oa(n,"POST","/v1/accounts:delete",e)}async function Vf(n,e){return Oa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WN(n,e=!1){const t=gn(n),r=await t.getIdToken(e),s=lv(r);qe(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,u=l?.sign_in_provider;return{claims:s,token:r,authTime:ah(Tg(s.auth_time)),issuedAtTime:ah(Tg(s.iat)),expirationTime:ah(Tg(s.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Tg(n){return Number(n)*1e3}function lv(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return _f("JWT malformed, contained fewer than 3 sections"),null;try{const s=oP(t);return s?JSON.parse(s):(_f("Failed to decode base64 JWT payload"),null)}catch(s){return _f("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Xw(n){const e=lv(n);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof vo&&$N(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function $N({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ah(this.lastLoginAt),this.creationTime=ah(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jf(n){const e=n.auth,t=await n.getIdToken(),r=await wh(n,Vf(e,{idToken:t}));qe(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const l=s.providerUserInfo?.length?PP(s.providerUserInfo):[],u=KN(n.providerData,l),d=n.isAnonymous,p=!(n.email&&s.passwordHash)&&!u?.length,y=d?p:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new uy(s.createdAt,s.lastLoginAt),isAnonymous:y};Object.assign(n,v)}async function GN(n){const e=gn(n);await jf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KN(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function PP(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(n,e){const t=await EP(n,{},async()=>{const r=Dh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=n.config,u=await xP(n,s,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:r};return n.emulatorConfig&&hc(n.emulatorConfig.host)&&(p.credentials="include"),TP.fetch()(u,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function QN(n,e){return Oa(n,"POST","/v2/accounts:revokeToken",Ma(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Xw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const t=Xw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:l}=await ZN(e,t);this.updateTokensAndExpiration(r,s,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:l}=t,u=new Wu;return r&&(qe(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(qe(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),l&&(qe(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wu,this.toJSON())}_performRefresh(){return so("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(n,e){qe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Di{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new qN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new uy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await wh(this,this.stsTokenManager.getToken(this.auth,e));return qe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return WN(this,e)}reload(){return GN(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Di({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await jf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yi(this.auth.app))return Promise.reject(lo(this.auth));const e=await this.getIdToken();return await wh(this,HN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,y=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:b,providerData:V,stsTokenManager:R}=t;qe(T&&R,e,"internal-error");const M=Wu.fromJSON(this.name,R);qe(typeof T=="string",e,"internal-error"),sa(r,e.name),sa(s,e.name),qe(typeof S=="boolean",e,"internal-error"),qe(typeof b=="boolean",e,"internal-error"),sa(l,e.name),sa(u,e.name),sa(d,e.name),sa(p,e.name),sa(y,e.name),sa(v,e.name);const Z=new Di({uid:T,auth:e,email:s,emailVerified:S,displayName:r,isAnonymous:b,photoURL:u,phoneNumber:l,tenantId:d,stsTokenManager:M,createdAt:y,lastLoginAt:v});return V&&Array.isArray(V)&&(Z.providerData=V.map(z=>({...z}))),p&&(Z._redirectEventId=p),Z}static async _fromIdTokenResponse(e,t,r=!1){const s=new Wu;s.updateFromServerResponse(t);const l=new Di({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await jf(l),l}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];qe(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?PP(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!l?.length,d=new Wu;d.updateFromIdToken(r);const p=new Di({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:u}),y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new uy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!l?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=new Map;function oo(n){fo(n instanceof Function,"Expected a class definition");let e=Jw.get(n);return e?(fo(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Jw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}SP.type="NONE";const eT=SP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(n,e,t){return`firebase:${n}:${e}:${t}`}class $u{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:l}=this.auth;this.fullUserKey=wf(this.userKey,s.apiKey,l),this.fullPersistenceKey=wf("persistence",s.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Vf(this.auth,{idToken:e}).catch(()=>{});return t?Di._fromGetAccountInfoResponse(this.auth,t,e):null}return Di._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new $u(oo(eT),e,r);const s=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=s[0]||oo(eT);const u=wf(r,e.config.apiKey,e.name);let d=null;for(const y of t)try{const v=await y._get(u);if(v){let T;if(typeof v=="string"){const S=await Vf(e,{idToken:v}).catch(()=>{});if(!S)break;T=await Di._fromGetAccountInfoResponse(e,S,v)}else T=Di._fromJSON(e,v);y!==l&&(d=T),l=y;break}}catch{}const p=s.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new $u(l,e,r):(l=p[0],d&&await l._set(u,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(u)}catch{}})),new $u(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kP(e))return"Blackberry";if(NP(e))return"Webos";if(IP(e))return"Safari";if((e.includes("chrome/")||bP(e))&&!e.includes("edge/"))return"Chrome";if(RP(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function CP(n=Zn()){return/firefox\//i.test(n)}function IP(n=Zn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bP(n=Zn()){return/crios\//i.test(n)}function AP(n=Zn()){return/iemobile/i.test(n)}function RP(n=Zn()){return/android/i.test(n)}function kP(n=Zn()){return/blackberry/i.test(n)}function NP(n=Zn()){return/webos/i.test(n)}function uv(n=Zn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function YN(n=Zn()){return uv(n)&&!!window.navigator?.standalone}function XN(){return ck()&&document.documentMode===10}function LP(n=Zn()){return uv(n)||RP(n)||NP(n)||kP(n)||/windows phone/i.test(n)||AP(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(n,e=[]){let t;switch(n){case"Browser":t=tT(Zn());break;case"Worker":t=`${tT(Zn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${dc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((u,d)=>{try{const p=e(l);u(p)}catch(p){d(p)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eL(n,e={}){return Oa(n,"GET","/v2/passwordPolicy",Ma(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=6;class nL{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??tL,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nT(this),this.idTokenSubscription=new nT(this),this.beforeStateQueue=new JN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_P,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=oo(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $u.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Vf(this,{idToken:e}),r=await Di._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(yi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&d?.user&&(r=d.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await jf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ON()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yi(this.app))return Promise.reject(lo(this));const t=e?gn(e):null;return t&&qe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yi(this.app)?Promise.reject(lo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yi(this.app)?Promise.reject(lo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eL(this),t=new nL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Oh("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await QN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&oo(e)||this._popupRedirectResolver;qe(t,this,"argument-error"),this.redirectPersistenceManager=await $u.create(this,[oo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,r,s);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(yi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&NN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function zl(n){return gn(n)}class nT{constructor(e){this.auth=e,this.observer=null,this.addObserver=vk(t=>this.observer=t)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iL(n){mp=n}function OP(n){return mp.loadJS(n)}function sL(){return mp.recaptchaEnterpriseScript}function oL(){return mp.gapiScript}function aL(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class lL{constructor(){this.enterprise=new uL}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class uL{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const cL="recaptcha-enterprise",DP="NO_RECAPTCHA";class hL{constructor(e){this.type=cL,this.auth=zl(e)}async verify(e="verify",t=!1){async function r(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,d)=>{zN(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const y=new UN(p);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,u(y.siteKey)}}).catch(p=>{d(p)})})}function s(l,u,d){const p=window.grecaptcha;Yw(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(y=>{u(y)}).catch(()=>{u(DP)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lL().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{r(this.auth).then(d=>{if(!t&&Yw(window.grecaptcha))s(d,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=sL();p.length!==0&&(p+=d),OP(p).then(()=>{s(d,l,u)}).catch(y=>{u(y)})}}).catch(d=>{u(d)})})}}async function rT(n,e,t,r=!1,s=!1){const l=new hL(n);let u;if(s)u=DP;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,y=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function cy(n,e,t,r,s){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await rT(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await rT(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(n,e){const t=sv(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),l=t.getOptions();if(Nl(l,e??{}))return s;ji(s,"already-initialized")}return t.initialize({options:e})}function fL(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(oo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function pL(n,e,t){const r=zl(n);qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,l=VP(e),{host:u,port:d}=mL(e),p=d===null?"":`:${d}`,y={url:`${l}//${u}${p}/`},v=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){qe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),qe(Nl(y,r.config.emulator)&&Nl(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,hc(u)?(cP(`${l}//${u}${p}`),hP("Auth",!0)):gL()}function VP(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function mL(n){const e=VP(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const l=s[1];return{host:l,port:iT(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:iT(u)}}}function iT(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function gL(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return so("not implemented")}_getIdTokenResponse(e){return so("not implemented")}_linkToIdToken(e,t){return so("not implemented")}_getReauthenticationResolver(e){return so("not implemented")}}async function yL(n,e){return Oa(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vL(n,e){return jh(n,"POST","/v1/accounts:signInWithPassword",Ma(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _L(n,e){return jh(n,"POST","/v1/accounts:signInWithEmailLink",Ma(n,e))}async function wL(n,e){return jh(n,"POST","/v1/accounts:signInWithEmailLink",Ma(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th extends cv{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Th(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Th(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cy(e,t,"signInWithPassword",vL);case"emailLink":return _L(e,{email:this._email,oobCode:this._password});default:ji(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cy(e,r,"signUpPassword",yL);case"emailLink":return wL(e,{idToken:t,email:this._email,oobCode:this._password});default:ji(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qu(n,e){return jh(n,"POST","/v1/accounts:signInWithIdp",Ma(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL="http://localhost";class Ml extends cv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ml(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ji("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...l}=t;if(!r||!s)return null;const u=new Ml(r,s);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return qu(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,qu(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qu(e,t)}buildRequest(){const e={requestUri:TL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Dh(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xL(n){const e=Xc(Jc(n)).link,t=e?Xc(Jc(e)).deep_link_id:null,r=Xc(Jc(n)).deep_link_id;return(r?Xc(Jc(r)).link:null)||r||t||e||n}class hv{constructor(e){const t=Xc(Jc(e)),r=t.apiKey??null,s=t.oobCode??null,l=EL(t.mode??null);qe(r&&s&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=xL(e);try{return new hv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(){this.providerId=fc.PROVIDER_ID}static credential(e,t){return Th._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=hv.parseLink(t);return qe(r,"argument-error"),Th._fromEmailAndCode(e,r.code,r.tenantId)}}fc.PROVIDER_ID="password";fc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends jP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca extends Fh{constructor(){super("facebook.com")}static credential(e){return Ml._fromParams({providerId:ca.PROVIDER_ID,signInMethod:ca.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ca.credentialFromTaggedObject(e)}static credentialFromError(e){return ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ca.credential(e.oauthAccessToken)}catch{return null}}}ca.FACEBOOK_SIGN_IN_METHOD="facebook.com";ca.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends Fh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ml._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ha.credential(t,r)}catch{return null}}}ha.GOOGLE_SIGN_IN_METHOD="google.com";ha.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da extends Fh{constructor(){super("github.com")}static credential(e){return Ml._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return da.credentialFromTaggedObject(e)}static credentialFromError(e){return da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return da.credential(e.oauthAccessToken)}catch{return null}}}da.GITHUB_SIGN_IN_METHOD="github.com";da.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends Fh{constructor(){super("twitter.com")}static credential(e,t){return Ml._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return fa.credential(t,r)}catch{return null}}}fa.TWITTER_SIGN_IN_METHOD="twitter.com";fa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PL(n,e){return jh(n,"POST","/v1/accounts:signUp",Ma(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const l=await Di._fromIdTokenResponse(e,r,s),u=sT(r);return new Ol({user:l,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=sT(r);return new Ol({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function sT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff extends vo{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ff.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Ff(e,t,r,s)}}function FP(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Ff._fromErrorAndOperation(n,l,e,r):l})}async function SL(n,e,t=!1){const r=await wh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ol._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CL(n,e,t=!1){const{auth:r}=n;if(yi(r.app))return Promise.reject(lo(r));const s="reauthenticate";try{const l=await wh(n,FP(r,s,e,n),t);qe(l.idToken,r,"internal-error");const u=lv(l.idToken);qe(u,r,"internal-error");const{sub:d}=u;return qe(n.uid===d,r,"user-mismatch"),Ol._forOperation(n,s,l)}catch(l){throw l?.code==="auth/user-not-found"&&ji(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BP(n,e,t=!1){if(yi(n.app))return Promise.reject(lo(n));const r="signIn",s=await FP(n,r,e),l=await Ol._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(l.user),l}async function IL(n,e){return BP(zl(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UP(n){const e=zl(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bL(n,e,t){if(yi(n.app))return Promise.reject(lo(n));const r=zl(n),u=await cy(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",PL).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&UP(n),p}),d=await Ol._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(d.user),d}function AL(n,e,t){return yi(n.app)?Promise.reject(lo(n)):IL(gn(n),fc.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&UP(n),r})}function RL(n,e,t,r){return gn(n).onIdTokenChanged(e,t,r)}function kL(n,e,t){return gn(n).beforeAuthStateChanged(e,t)}function NL(n,e,t,r){return gn(n).onAuthStateChanged(e,t,r)}function LL(n){return gn(n).signOut()}const Bf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Bf,"1"),this.storage.removeItem(Bf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=1e3,OL=10;class HP extends zP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,p)=>{this.notifyListeners(u,p)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);XN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,OL):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},ML)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}HP.type="LOCAL";const DL=HP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP extends zP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}WP.type="SESSION";const $P=WP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new gp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:l}=t.data,u=this.handlersMap[s];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(u).map(async y=>y(t.origin,l)),p=await VL(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,u;return new Promise((d,p)=>{const y=dv("",20);s.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(T){const S=T;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(){return window}function FL(n){gs().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(){return typeof gs().WorkerGlobalScope<"u"&&typeof gs().importScripts=="function"}async function BL(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UL(){return navigator?.serviceWorker?.controller||null}function zL(){return qP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP="firebaseLocalStorageDb",HL=1,Uf="firebaseLocalStorage",KP="fbase_key";class Bh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function yp(n,e){return n.transaction([Uf],e?"readwrite":"readonly").objectStore(Uf)}function WL(){const n=indexedDB.deleteDatabase(GP);return new Bh(n).toPromise()}function hy(){const n=indexedDB.open(GP,HL);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Uf,{keyPath:KP})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Uf)?e(r):(r.close(),await WL(),e(await hy()))})})}async function oT(n,e,t){const r=yp(n,!0).put({[KP]:e,value:t});return new Bh(r).toPromise()}async function $L(n,e){const t=yp(n,!1).get(e),r=await new Bh(t).toPromise();return r===void 0?null:r.value}function aT(n,e){const t=yp(n,!0).delete(e);return new Bh(t).toPromise()}const qL=800,GL=3;class ZP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>GL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gp._getInstance(zL()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await BL(),!this.activeServiceWorker)return;this.sender=new jL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hy();return await oT(e,Bf,"1"),await aT(e,Bf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>oT(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>$L(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>aT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=yp(s,!1).getAll();return new Bh(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZP.type="LOCAL";const KL=ZP;new Vh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(n,e){return e?oo(e):(qe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv extends cv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function QL(n){return BP(n.auth,new fv(n),n.bypassAuthState)}function YL(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),CL(t,new fv(n),n.bypassAuthState)}async function XL(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),SL(t,new fv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e,t,r,s,l=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QL;case"linkViaPopup":case"linkViaRedirect":return XL;case"reauthViaPopup":case"reauthViaRedirect":return YL;default:ji(this.auth,"internal-error")}}resolve(e){fo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=new Vh(2e3,1e4);class ju extends QP{constructor(e,t,r,s,l){super(e,t,s,l),this.provider=r,this.authWindow=null,this.pollId=null,ju.currentPopupAction&&ju.currentPopupAction.cancel(),ju.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){fo(this.filter.length===1,"Popup operations only handle one event");const e=dv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ms(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ms(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ju.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ms(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JL.get())};e()}}ju.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="pendingRedirect",Tf=new Map;class t2 extends QP{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Tf.get(this.auth._key());if(!e){try{const r=await n2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Tf.set(this.auth._key(),e)}return this.bypassAuthState||Tf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function n2(n,e){const t=s2(e),r=i2(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function r2(n,e){Tf.set(n._key(),e)}function i2(n){return oo(n._redirectPersistence)}function s2(n){return wf(e2,n.config.apiKey,n.name)}async function o2(n,e,t=!1){if(yi(n.app))return Promise.reject(lo(n));const r=zl(n),s=ZL(r,e),u=await new t2(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=600*1e3;class l2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!u2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!YP(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ms(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=a2&&this.cachedEventUids.clear(),this.cachedEventUids.has(lT(e))}saveEventToCache(e){this.cachedEventUids.add(lT(e)),this.lastProcessedEventTime=Date.now()}}function lT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function YP({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function u2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YP(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2(n,e={}){return Oa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d2=/^https?/;async function f2(n){if(n.config.emulator)return;const{authorizedDomains:e}=await c2(n);for(const t of e)try{if(p2(t))return}catch{}ji(n,"unauthorized-domain")}function p2(n){const e=ly(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!d2.test(t))return!1;if(h2.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=new Vh(3e4,6e4);function uT(){const n=gs().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function g2(n){return new Promise((e,t)=>{function r(){uT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uT(),t(ms(n,"network-request-failed"))},timeout:m2.get()})}if(gs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(gs().gapi?.load)r();else{const s=aL("iframefcb");return gs()[s]=()=>{gapi.load?r():t(ms(n,"network-request-failed"))},OP(`${oL()}?onload=${s}`).catch(l=>t(l))}}).catch(e=>{throw Ef=null,e})}let Ef=null;function y2(n){return Ef=Ef||g2(n),Ef}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=new Vh(5e3,15e3),_2="__/auth/iframe",w2="emulator/auth/iframe",T2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function x2(n){const e=n.config;qe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?av(e,w2):`https://${n.config.authDomain}/${_2}`,r={apiKey:e.apiKey,appName:n.name,v:dc},s=E2.get(n.config.apiHost);s&&(r.eid=s);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${Dh(r).slice(1)}`}async function P2(n){const e=await y2(n),t=gs().gapi;return qe(t,n,"internal-error"),e.open({where:document.body,url:x2(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:T2,dontclear:!0},r=>new Promise(async(s,l)=>{await r.restyle({setHideOnLeave:!1});const u=ms(n,"network-request-failed"),d=gs().setTimeout(()=>{l(u)},v2.get());function p(){gs().clearTimeout(d),s(r)}r.ping(p).then(p,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C2=500,I2=600,b2="_blank",A2="http://localhost";class cT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function R2(n,e,t,r=C2,s=I2){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const p={...S2,width:r.toString(),height:s.toString(),top:l,left:u},y=Zn().toLowerCase();t&&(d=bP(y)?b2:t),CP(y)&&(e=e||A2,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[b,V])=>`${S}${b}=${V},`,"");if(YN(y)&&d!=="_self")return k2(e||"",d),new cT(null);const T=window.open(e||"",d,v);qe(T,n,"popup-blocked");try{T.focus()}catch{}return new cT(T)}function k2(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="__/auth/handler",L2="emulator/auth/handler",M2=encodeURIComponent("fac");async function hT(n,e,t,r,s,l){qe(n.config.authDomain,n,"auth-domain-config-required"),qe(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:dc,eventId:s};if(e instanceof jP){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",yk(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))u[v]=T}if(e instanceof Fh){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),y=p?`#${M2}=${encodeURIComponent(p)}`:"";return`${O2(n)}?${Dh(d).slice(1)}${y}`}function O2({config:n}){return n.emulator?av(n,L2):`https://${n.authDomain}/${N2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="webStorageSupport";class D2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$P,this._completeRedirectFn=o2,this._overrideRedirectResult=r2}async _openPopup(e,t,r,s){fo(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await hT(e,t,r,ly(),s);return R2(e,l,dv())}async _openRedirect(e,t,r,s){await this._originValidation(e);const l=await hT(e,t,r,ly(),s);return FL(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:l}=this.eventManagers[t];return s?Promise.resolve(s):(fo(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await P2(e),r=new l2(e);return t.register("authEvent",s=>(qe(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Eg,{type:Eg},s=>{const l=s?.[0]?.[Eg];l!==void 0&&t(!!l),ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=f2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return LP()||IP()||uv()}}const V2=D2;var dT="@firebase/auth",fT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function B2(n){Yu(new Ll("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;qe(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MP(n)},y=new rL(r,s,l,p);return fL(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Yu(new Ll("auth-internal",e=>{const t=zl(e.getProvider("auth").getImmediate());return(r=>new j2(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),va(dT,fT,F2(n)),va(dT,fT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=300,z2=uP("authIdTokenMaxAge")||U2;let pT=null;const H2=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>z2)return;const s=t?.token;pT!==s&&(pT=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function W2(n=mP()){const e=sv(n,"auth");if(e.isInitialized())return e.getImmediate();const t=dL(n,{popupRedirectResolver:V2,persistence:[KL,DL,$P]}),r=uP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=H2(l.toString());kL(t,u,()=>u(t.currentUser)),RL(t,d=>u(d))}}const s=aP("auth");return s&&pL(t,`http://${s}`),t}function $2(){return document.getElementsByTagName("head")?.[0]??document}iL({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const l=ms("internal-error");l.customData=s,t(l)},r.type="text/javascript",r.charset="UTF-8",$2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});B2("Browser");var mT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _a,XP;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(F,O){function j(){}j.prototype=O.prototype,F.F=O.prototype,F.prototype=new j,F.prototype.constructor=F,F.D=function(G,q,U){for(var B=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)B[fe-2]=arguments[fe];return O.prototype[q].apply(G,B)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(F,O,j){j||(j=0);const G=Array(16);if(typeof O=="string")for(var q=0;q<16;++q)G[q]=O.charCodeAt(j++)|O.charCodeAt(j++)<<8|O.charCodeAt(j++)<<16|O.charCodeAt(j++)<<24;else for(q=0;q<16;++q)G[q]=O[j++]|O[j++]<<8|O[j++]<<16|O[j++]<<24;O=F.g[0],j=F.g[1],q=F.g[2];let U=F.g[3],B;B=O+(U^j&(q^U))+G[0]+3614090360&4294967295,O=j+(B<<7&4294967295|B>>>25),B=U+(q^O&(j^q))+G[1]+3905402710&4294967295,U=O+(B<<12&4294967295|B>>>20),B=q+(j^U&(O^j))+G[2]+606105819&4294967295,q=U+(B<<17&4294967295|B>>>15),B=j+(O^q&(U^O))+G[3]+3250441966&4294967295,j=q+(B<<22&4294967295|B>>>10),B=O+(U^j&(q^U))+G[4]+4118548399&4294967295,O=j+(B<<7&4294967295|B>>>25),B=U+(q^O&(j^q))+G[5]+1200080426&4294967295,U=O+(B<<12&4294967295|B>>>20),B=q+(j^U&(O^j))+G[6]+2821735955&4294967295,q=U+(B<<17&4294967295|B>>>15),B=j+(O^q&(U^O))+G[7]+4249261313&4294967295,j=q+(B<<22&4294967295|B>>>10),B=O+(U^j&(q^U))+G[8]+1770035416&4294967295,O=j+(B<<7&4294967295|B>>>25),B=U+(q^O&(j^q))+G[9]+2336552879&4294967295,U=O+(B<<12&4294967295|B>>>20),B=q+(j^U&(O^j))+G[10]+4294925233&4294967295,q=U+(B<<17&4294967295|B>>>15),B=j+(O^q&(U^O))+G[11]+2304563134&4294967295,j=q+(B<<22&4294967295|B>>>10),B=O+(U^j&(q^U))+G[12]+1804603682&4294967295,O=j+(B<<7&4294967295|B>>>25),B=U+(q^O&(j^q))+G[13]+4254626195&4294967295,U=O+(B<<12&4294967295|B>>>20),B=q+(j^U&(O^j))+G[14]+2792965006&4294967295,q=U+(B<<17&4294967295|B>>>15),B=j+(O^q&(U^O))+G[15]+1236535329&4294967295,j=q+(B<<22&4294967295|B>>>10),B=O+(q^U&(j^q))+G[1]+4129170786&4294967295,O=j+(B<<5&4294967295|B>>>27),B=U+(j^q&(O^j))+G[6]+3225465664&4294967295,U=O+(B<<9&4294967295|B>>>23),B=q+(O^j&(U^O))+G[11]+643717713&4294967295,q=U+(B<<14&4294967295|B>>>18),B=j+(U^O&(q^U))+G[0]+3921069994&4294967295,j=q+(B<<20&4294967295|B>>>12),B=O+(q^U&(j^q))+G[5]+3593408605&4294967295,O=j+(B<<5&4294967295|B>>>27),B=U+(j^q&(O^j))+G[10]+38016083&4294967295,U=O+(B<<9&4294967295|B>>>23),B=q+(O^j&(U^O))+G[15]+3634488961&4294967295,q=U+(B<<14&4294967295|B>>>18),B=j+(U^O&(q^U))+G[4]+3889429448&4294967295,j=q+(B<<20&4294967295|B>>>12),B=O+(q^U&(j^q))+G[9]+568446438&4294967295,O=j+(B<<5&4294967295|B>>>27),B=U+(j^q&(O^j))+G[14]+3275163606&4294967295,U=O+(B<<9&4294967295|B>>>23),B=q+(O^j&(U^O))+G[3]+4107603335&4294967295,q=U+(B<<14&4294967295|B>>>18),B=j+(U^O&(q^U))+G[8]+1163531501&4294967295,j=q+(B<<20&4294967295|B>>>12),B=O+(q^U&(j^q))+G[13]+2850285829&4294967295,O=j+(B<<5&4294967295|B>>>27),B=U+(j^q&(O^j))+G[2]+4243563512&4294967295,U=O+(B<<9&4294967295|B>>>23),B=q+(O^j&(U^O))+G[7]+1735328473&4294967295,q=U+(B<<14&4294967295|B>>>18),B=j+(U^O&(q^U))+G[12]+2368359562&4294967295,j=q+(B<<20&4294967295|B>>>12),B=O+(j^q^U)+G[5]+4294588738&4294967295,O=j+(B<<4&4294967295|B>>>28),B=U+(O^j^q)+G[8]+2272392833&4294967295,U=O+(B<<11&4294967295|B>>>21),B=q+(U^O^j)+G[11]+1839030562&4294967295,q=U+(B<<16&4294967295|B>>>16),B=j+(q^U^O)+G[14]+4259657740&4294967295,j=q+(B<<23&4294967295|B>>>9),B=O+(j^q^U)+G[1]+2763975236&4294967295,O=j+(B<<4&4294967295|B>>>28),B=U+(O^j^q)+G[4]+1272893353&4294967295,U=O+(B<<11&4294967295|B>>>21),B=q+(U^O^j)+G[7]+4139469664&4294967295,q=U+(B<<16&4294967295|B>>>16),B=j+(q^U^O)+G[10]+3200236656&4294967295,j=q+(B<<23&4294967295|B>>>9),B=O+(j^q^U)+G[13]+681279174&4294967295,O=j+(B<<4&4294967295|B>>>28),B=U+(O^j^q)+G[0]+3936430074&4294967295,U=O+(B<<11&4294967295|B>>>21),B=q+(U^O^j)+G[3]+3572445317&4294967295,q=U+(B<<16&4294967295|B>>>16),B=j+(q^U^O)+G[6]+76029189&4294967295,j=q+(B<<23&4294967295|B>>>9),B=O+(j^q^U)+G[9]+3654602809&4294967295,O=j+(B<<4&4294967295|B>>>28),B=U+(O^j^q)+G[12]+3873151461&4294967295,U=O+(B<<11&4294967295|B>>>21),B=q+(U^O^j)+G[15]+530742520&4294967295,q=U+(B<<16&4294967295|B>>>16),B=j+(q^U^O)+G[2]+3299628645&4294967295,j=q+(B<<23&4294967295|B>>>9),B=O+(q^(j|~U))+G[0]+4096336452&4294967295,O=j+(B<<6&4294967295|B>>>26),B=U+(j^(O|~q))+G[7]+1126891415&4294967295,U=O+(B<<10&4294967295|B>>>22),B=q+(O^(U|~j))+G[14]+2878612391&4294967295,q=U+(B<<15&4294967295|B>>>17),B=j+(U^(q|~O))+G[5]+4237533241&4294967295,j=q+(B<<21&4294967295|B>>>11),B=O+(q^(j|~U))+G[12]+1700485571&4294967295,O=j+(B<<6&4294967295|B>>>26),B=U+(j^(O|~q))+G[3]+2399980690&4294967295,U=O+(B<<10&4294967295|B>>>22),B=q+(O^(U|~j))+G[10]+4293915773&4294967295,q=U+(B<<15&4294967295|B>>>17),B=j+(U^(q|~O))+G[1]+2240044497&4294967295,j=q+(B<<21&4294967295|B>>>11),B=O+(q^(j|~U))+G[8]+1873313359&4294967295,O=j+(B<<6&4294967295|B>>>26),B=U+(j^(O|~q))+G[15]+4264355552&4294967295,U=O+(B<<10&4294967295|B>>>22),B=q+(O^(U|~j))+G[6]+2734768916&4294967295,q=U+(B<<15&4294967295|B>>>17),B=j+(U^(q|~O))+G[13]+1309151649&4294967295,j=q+(B<<21&4294967295|B>>>11),B=O+(q^(j|~U))+G[4]+4149444226&4294967295,O=j+(B<<6&4294967295|B>>>26),B=U+(j^(O|~q))+G[11]+3174756917&4294967295,U=O+(B<<10&4294967295|B>>>22),B=q+(O^(U|~j))+G[2]+718787259&4294967295,q=U+(B<<15&4294967295|B>>>17),B=j+(U^(q|~O))+G[9]+3951481745&4294967295,F.g[0]=F.g[0]+O&4294967295,F.g[1]=F.g[1]+(q+(B<<21&4294967295|B>>>11))&4294967295,F.g[2]=F.g[2]+q&4294967295,F.g[3]=F.g[3]+U&4294967295}r.prototype.v=function(F,O){O===void 0&&(O=F.length);const j=O-this.blockSize,G=this.C;let q=this.h,U=0;for(;U<O;){if(q==0)for(;U<=j;)s(this,F,U),U+=this.blockSize;if(typeof F=="string"){for(;U<O;)if(G[q++]=F.charCodeAt(U++),q==this.blockSize){s(this,G),q=0;break}}else for(;U<O;)if(G[q++]=F[U++],q==this.blockSize){s(this,G),q=0;break}}this.h=q,this.o+=O},r.prototype.A=function(){var F=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);F[0]=128;for(var O=1;O<F.length-8;++O)F[O]=0;O=this.o*8;for(var j=F.length-8;j<F.length;++j)F[j]=O&255,O/=256;for(this.v(F),F=Array(16),O=0,j=0;j<4;++j)for(let G=0;G<32;G+=8)F[O++]=this.g[j]>>>G&255;return F};function l(F,O){var j=d;return Object.prototype.hasOwnProperty.call(j,F)?j[F]:j[F]=O(F)}function u(F,O){this.h=O;const j=[];let G=!0;for(let q=F.length-1;q>=0;q--){const U=F[q]|0;G&&U==O||(j[q]=U,G=!1)}this.g=j}var d={};function p(F){return-128<=F&&F<128?l(F,function(O){return new u([O|0],O<0?-1:0)}):new u([F|0],F<0?-1:0)}function y(F){if(isNaN(F)||!isFinite(F))return T;if(F<0)return M(y(-F));const O=[];let j=1;for(let G=0;F>=j;G++)O[G]=F/j|0,j*=4294967296;return new u(O,0)}function v(F,O){if(F.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(F.charAt(0)=="-")return M(v(F.substring(1),O));if(F.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=y(Math.pow(O,8));let G=T;for(let U=0;U<F.length;U+=8){var q=Math.min(8,F.length-U);const B=parseInt(F.substring(U,U+q),O);q<8?(q=y(Math.pow(O,q)),G=G.j(q).add(y(B))):(G=G.j(j),G=G.add(y(B)))}return G}var T=p(0),S=p(1),b=p(16777216);n=u.prototype,n.m=function(){if(R(this))return-M(this).m();let F=0,O=1;for(let j=0;j<this.g.length;j++){const G=this.i(j);F+=(G>=0?G:4294967296+G)*O,O*=4294967296}return F},n.toString=function(F){if(F=F||10,F<2||36<F)throw Error("radix out of range: "+F);if(V(this))return"0";if(R(this))return"-"+M(this).toString(F);const O=y(Math.pow(F,6));var j=this;let G="";for(;;){const q=J(j,O).g;j=Z(j,q.j(O));let U=((j.g.length>0?j.g[0]:j.h)>>>0).toString(F);if(j=q,V(j))return U+G;for(;U.length<6;)U="0"+U;G=U+G}},n.i=function(F){return F<0?0:F<this.g.length?this.g[F]:this.h};function V(F){if(F.h!=0)return!1;for(let O=0;O<F.g.length;O++)if(F.g[O]!=0)return!1;return!0}function R(F){return F.h==-1}n.l=function(F){return F=Z(this,F),R(F)?-1:V(F)?0:1};function M(F){const O=F.g.length,j=[];for(let G=0;G<O;G++)j[G]=~F.g[G];return new u(j,~F.h).add(S)}n.abs=function(){return R(this)?M(this):this},n.add=function(F){const O=Math.max(this.g.length,F.g.length),j=[];let G=0;for(let q=0;q<=O;q++){let U=G+(this.i(q)&65535)+(F.i(q)&65535),B=(U>>>16)+(this.i(q)>>>16)+(F.i(q)>>>16);G=B>>>16,U&=65535,B&=65535,j[q]=B<<16|U}return new u(j,j[j.length-1]&-2147483648?-1:0)};function Z(F,O){return F.add(M(O))}n.j=function(F){if(V(this)||V(F))return T;if(R(this))return R(F)?M(this).j(M(F)):M(M(this).j(F));if(R(F))return M(this.j(M(F)));if(this.l(b)<0&&F.l(b)<0)return y(this.m()*F.m());const O=this.g.length+F.g.length,j=[];for(var G=0;G<2*O;G++)j[G]=0;for(G=0;G<this.g.length;G++)for(let q=0;q<F.g.length;q++){const U=this.i(G)>>>16,B=this.i(G)&65535,fe=F.i(q)>>>16,Ve=F.i(q)&65535;j[2*G+2*q]+=B*Ve,z(j,2*G+2*q),j[2*G+2*q+1]+=U*Ve,z(j,2*G+2*q+1),j[2*G+2*q+1]+=B*fe,z(j,2*G+2*q+1),j[2*G+2*q+2]+=U*fe,z(j,2*G+2*q+2)}for(F=0;F<O;F++)j[F]=j[2*F+1]<<16|j[2*F];for(F=O;F<2*O;F++)j[F]=0;return new u(j,0)};function z(F,O){for(;(F[O]&65535)!=F[O];)F[O+1]+=F[O]>>>16,F[O]&=65535,O++}function H(F,O){this.g=F,this.h=O}function J(F,O){if(V(O))throw Error("division by zero");if(V(F))return new H(T,T);if(R(F))return O=J(M(F),O),new H(M(O.g),M(O.h));if(R(O))return O=J(F,M(O)),new H(M(O.g),O.h);if(F.g.length>30){if(R(F)||R(O))throw Error("slowDivide_ only works with positive integers.");for(var j=S,G=O;G.l(F)<=0;)j=le(j),G=le(G);var q=ce(j,1),U=ce(G,1);for(G=ce(G,2),j=ce(j,2);!V(G);){var B=U.add(G);B.l(F)<=0&&(q=q.add(j),U=B),G=ce(G,1),j=ce(j,1)}return O=Z(F,q.j(O)),new H(q,O)}for(q=T;F.l(O)>=0;){for(j=Math.max(1,Math.floor(F.m()/O.m())),G=Math.ceil(Math.log(j)/Math.LN2),G=G<=48?1:Math.pow(2,G-48),U=y(j),B=U.j(O);R(B)||B.l(F)>0;)j-=G,U=y(j),B=U.j(O);V(U)&&(U=S),q=q.add(U),F=Z(F,B)}return new H(q,F)}n.B=function(F){return J(this,F).h},n.and=function(F){const O=Math.max(this.g.length,F.g.length),j=[];for(let G=0;G<O;G++)j[G]=this.i(G)&F.i(G);return new u(j,this.h&F.h)},n.or=function(F){const O=Math.max(this.g.length,F.g.length),j=[];for(let G=0;G<O;G++)j[G]=this.i(G)|F.i(G);return new u(j,this.h|F.h)},n.xor=function(F){const O=Math.max(this.g.length,F.g.length),j=[];for(let G=0;G<O;G++)j[G]=this.i(G)^F.i(G);return new u(j,this.h^F.h)};function le(F){const O=F.g.length+1,j=[];for(let G=0;G<O;G++)j[G]=F.i(G)<<1|F.i(G-1)>>>31;return new u(j,F.h)}function ce(F,O){const j=O>>5;O%=32;const G=F.g.length-j,q=[];for(let U=0;U<G;U++)q[U]=O>0?F.i(U+j)>>>O|F.i(U+j+1)<<32-O:F.i(U+j);return new u(q,F.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,XP=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=v,_a=u}).apply(typeof mT<"u"?mT:typeof self<"u"?self:typeof window<"u"?window:{});var tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JP,eh,eS,xf,dy,tS,nS,rS;(function(){var n,e=Object.defineProperty;function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof tf=="object"&&tf];for(var x=0;x<f.length;++x){var I=f[x];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=t(this);function s(f,x){if(x)e:{var I=r;f=f.split(".");for(var D=0;D<f.length-1;D++){var ee=f[D];if(!(ee in I))break e;I=I[ee]}f=f[f.length-1],D=I[f],x=x(D),x!=D&&x!=null&&e(I,f,{configurable:!0,writable:!0,value:x})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(x){var I=[],D;for(D in x)Object.prototype.hasOwnProperty.call(x,D)&&I.push([D,x[D]]);return I}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(f){var x=typeof f;return x=="object"&&f!=null||x=="function"}function p(f,x,I){return f.call.apply(f.bind,arguments)}function y(f,x,I){return y=p,y.apply(null,arguments)}function v(f,x){var I=Array.prototype.slice.call(arguments,1);return function(){var D=I.slice();return D.push.apply(D,arguments),f.apply(this,D)}}function T(f,x){function I(){}I.prototype=x.prototype,f.Z=x.prototype,f.prototype=new I,f.prototype.constructor=f,f.Ob=function(D,ee,ie){for(var Te=Array(arguments.length-2),We=2;We<arguments.length;We++)Te[We-2]=arguments[We];return x.prototype[ee].apply(D,Te)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function b(f){const x=f.length;if(x>0){const I=Array(x);for(let D=0;D<x;D++)I[D]=f[D];return I}return[]}function V(f,x){for(let D=1;D<arguments.length;D++){const ee=arguments[D];var I=typeof ee;if(I=I!="object"?I:ee?Array.isArray(ee)?"array":I:"null",I=="array"||I=="object"&&typeof ee.length=="number"){I=f.length||0;const ie=ee.length||0;f.length=I+ie;for(let Te=0;Te<ie;Te++)f[I+Te]=ee[Te]}else f.push(ee)}}class R{constructor(x,I){this.i=x,this.j=I,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function M(f){u.setTimeout(()=>{throw f},0)}function Z(){var f=F;let x=null;return f.g&&(x=f.g,f.g=f.g.next,f.g||(f.h=null),x.next=null),x}class z{constructor(){this.h=this.g=null}add(x,I){const D=H.get();D.set(x,I),this.h?this.h.next=D:this.g=D,this.h=D}}var H=new R(()=>new J,f=>f.reset());class J{constructor(){this.next=this.g=this.h=null}set(x,I){this.h=x,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let le,ce=!1,F=new z,O=()=>{const f=Promise.resolve(void 0);le=()=>{f.then(j)}};function j(){for(var f;f=Z();){try{f.h.call(f.g)}catch(I){M(I)}var x=H;x.j(f),x.h<100&&(x.h++,f.next=x.g,x.g=f)}ce=!1}function G(){this.u=this.u,this.C=this.C}G.prototype.u=!1,G.prototype.dispose=function(){this.u||(this.u=!0,this.N())},G.prototype[Symbol.dispose]=function(){this.dispose()},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(f,x){this.type=f,this.g=this.target=x,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,x=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const I=()=>{};u.addEventListener("test",I,x),u.removeEventListener("test",I,x)}catch{}return f})();function B(f){return/^[\s\xa0]*$/.test(f)}function fe(f,x){q.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,x)}T(fe,q),fe.prototype.init=function(f,x){const I=this.type=f.type,D=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=x,x=f.relatedTarget,x||(I=="mouseover"?x=f.fromElement:I=="mouseout"&&(x=f.toElement)),this.relatedTarget=x,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&fe.Z.h.call(this)},fe.prototype.h=function(){fe.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ve="closure_listenable_"+(Math.random()*1e6|0),Ie=0;function ve(f,x,I,D,ee){this.listener=f,this.proxy=null,this.src=x,this.type=I,this.capture=!!D,this.ha=ee,this.key=++Ie,this.da=this.fa=!1}function X(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function me(f,x,I){for(const D in f)x.call(I,f[D],D,f)}function ae(f,x){for(const I in f)x.call(void 0,f[I],I,f)}function $(f){const x={};for(const I in f)x[I]=f[I];return x}const ue="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ee(f,x){let I,D;for(let ee=1;ee<arguments.length;ee++){D=arguments[ee];for(I in D)f[I]=D[I];for(let ie=0;ie<ue.length;ie++)I=ue[ie],Object.prototype.hasOwnProperty.call(D,I)&&(f[I]=D[I])}}function be(f){this.src=f,this.g={},this.h=0}be.prototype.add=function(f,x,I,D,ee){const ie=f.toString();f=this.g[ie],f||(f=this.g[ie]=[],this.h++);const Te=xe(f,x,D,ee);return Te>-1?(x=f[Te],I||(x.fa=!1)):(x=new ve(x,this.src,ie,!!D,ee),x.fa=I,f.push(x)),x};function Re(f,x){const I=x.type;if(I in f.g){var D=f.g[I],ee=Array.prototype.indexOf.call(D,x,void 0),ie;(ie=ee>=0)&&Array.prototype.splice.call(D,ee,1),ie&&(X(x),f.g[I].length==0&&(delete f.g[I],f.h--))}}function xe(f,x,I,D){for(let ee=0;ee<f.length;++ee){const ie=f[ee];if(!ie.da&&ie.listener==x&&ie.capture==!!I&&ie.ha==D)return ee}return-1}var Je="closure_lm_"+(Math.random()*1e6|0),Ye={};function ct(f,x,I,D,ee){if(Array.isArray(x)){for(let ie=0;ie<x.length;ie++)ct(f,x[ie],I,D,ee);return null}return I=zi(I),f&&f[Ve]?f.J(x,I,d(D)?!!D.capture:!1,ee):Ot(f,x,I,!1,D,ee)}function Ot(f,x,I,D,ee,ie){if(!x)throw Error("Invalid event type");const Te=d(ee)?!!ee.capture:!!ee;let We=Ss(f);if(We||(f[Je]=We=new be(f)),I=We.add(x,I,D,Te,ie),I.proxy)return I;if(D=yn(),I.proxy=D,D.src=f,D.listener=I,f.addEventListener)U||(ee=Te),ee===void 0&&(ee=!1),f.addEventListener(x.toString(),D,ee);else if(f.attachEvent)f.attachEvent(_o(x.toString()),D);else if(f.addListener&&f.removeListener)f.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return I}function yn(){function f(I){return x.call(f.src,f.listener,I)}const x=za;return f}function Ur(f,x,I,D,ee){if(Array.isArray(x))for(var ie=0;ie<x.length;ie++)Ur(f,x[ie],I,D,ee);else D=d(D)?!!D.capture:!!D,I=zi(I),f&&f[Ve]?(f=f.i,ie=String(x).toString(),ie in f.g&&(x=f.g[ie],I=xe(x,I,D,ee),I>-1&&(X(x[I]),Array.prototype.splice.call(x,I,1),x.length==0&&(delete f.g[ie],f.h--)))):f&&(f=Ss(f))&&(x=f.g[x.toString()],f=-1,x&&(f=xe(x,I,D,ee)),(I=f>-1?x[f]:null)&&zr(I))}function zr(f){if(typeof f!="number"&&f&&!f.da){var x=f.src;if(x&&x[Ve])Re(x.i,f);else{var I=f.type,D=f.proxy;x.removeEventListener?x.removeEventListener(I,D,f.capture):x.detachEvent?x.detachEvent(_o(I),D):x.addListener&&x.removeListener&&x.removeListener(D),(I=Ss(x))?(Re(I,f),I.h==0&&(I.src=null,x[Je]=null)):X(f)}}}function _o(f){return f in Ye?Ye[f]:Ye[f]="on"+f}function za(f,x){if(f.da)f=!0;else{x=new fe(x,this);const I=f.listener,D=f.ha||f.src;f.fa&&zr(f),f=I.call(D,x)}return f}function Ss(f){return f=f[Je],f instanceof be?f:null}var _i="__closure_events_fn_"+(Math.random()*1e9>>>0);function zi(f){return typeof f=="function"?f:(f[_i]||(f[_i]=function(x){return f.handleEvent(x)}),f[_i])}function Gt(){G.call(this),this.i=new be(this),this.M=this,this.G=null}T(Gt,G),Gt.prototype[Ve]=!0,Gt.prototype.removeEventListener=function(f,x,I,D){Ur(this,f,x,I,D)};function Dt(f,x){var I,D=f.G;if(D)for(I=[];D;D=D.G)I.push(D);if(f=f.M,D=x.type||x,typeof x=="string")x=new q(x,f);else if(x instanceof q)x.target=x.target||f;else{var ee=x;x=new q(D,f),Ee(x,ee)}ee=!0;let ie,Te;if(I)for(Te=I.length-1;Te>=0;Te--)ie=x.g=I[Te],ee=Qn(ie,D,!0,x)&&ee;if(ie=x.g=f,ee=Qn(ie,D,!0,x)&&ee,ee=Qn(ie,D,!1,x)&&ee,I)for(Te=0;Te<I.length;Te++)ie=x.g=I[Te],ee=Qn(ie,D,!1,x)&&ee}Gt.prototype.N=function(){if(Gt.Z.N.call(this),this.i){var f=this.i;for(const x in f.g){const I=f.g[x];for(let D=0;D<I.length;D++)X(I[D]);delete f.g[x],f.h--}}this.G=null},Gt.prototype.J=function(f,x,I,D){return this.i.add(String(f),x,!1,I,D)},Gt.prototype.K=function(f,x,I,D){return this.i.add(String(f),x,!0,I,D)};function Qn(f,x,I,D){if(x=f.i.g[String(x)],!x)return!0;x=x.concat();let ee=!0;for(let ie=0;ie<x.length;++ie){const Te=x[ie];if(Te&&!Te.da&&Te.capture==I){const We=Te.listener,dt=Te.ha||Te.src;Te.fa&&Re(f.i,Te),ee=We.call(dt,D)!==!1&&ee}}return ee&&!D.defaultPrevented}function wo(f,x){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=y(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:u.setTimeout(f,x||0)}function To(f){f.g=wo(()=>{f.g=null,f.i&&(f.i=!1,To(f))},f.l);const x=f.h;f.h=null,f.m.apply(null,x)}class Ql extends G{constructor(x,I){super(),this.m=x,this.l=I,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:To(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hi(f){G.call(this),this.h=f,this.g={}}T(Hi,G);var Cs=[];function Is(f){me(f.g,function(x,I){this.g.hasOwnProperty(I)&&zr(x)},f),f.g={}}Hi.prototype.N=function(){Hi.Z.N.call(this),Is(this)},Hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wi=u.JSON.stringify,Yl=u.JSON.parse,Wi=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function Ti(){}function Xl(){}var Ei={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $i(){q.call(this,"d")}T($i,q);function Eo(){q.call(this,"c")}T(Eo,q);var Ar={},Hr=null;function qi(){return Hr=Hr||new Gt}Ar.Ia="serverreachability";function xo(f){q.call(this,Ar.Ia,f)}T(xo,q);function Wr(f){const x=qi();Dt(x,new xo(x))}Ar.STAT_EVENT="statevent";function $r(f,x){q.call(this,Ar.STAT_EVENT,f),this.stat=x}T($r,q);function kt(f){const x=qi();Dt(x,new $r(x,f))}Ar.Ja="timingevent";function Ha(f,x){q.call(this,Ar.Ja,f),this.size=x}T(Ha,q);function Gi(f,x){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},x)}function Ki(){this.g=!0}Ki.prototype.ua=function(){this.g=!1};function Jl(f,x,I,D,ee,ie){f.info(function(){if(f.g)if(ie){var Te="",We=ie.split("&");for(let mt=0;mt<We.length;mt++){var dt=We[mt].split("=");if(dt.length>1){const zt=dt[0];dt=dt[1];const rr=zt.split("_");Te=rr.length>=2&&rr[1]=="type"?Te+(zt+"="+dt+"&"):Te+(zt+"=redacted&")}}}else Te=null;else Te=ie;return"XMLHTTP REQ ("+D+") [attempt "+ee+"]: "+x+`
`+I+`
`+Te})}function eu(f,x,I,D,ee,ie,Te){f.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+ee+"]: "+x+`
`+I+`
`+ie+" "+Te})}function qr(f,x,I,D){f.info(function(){return"XMLHTTP TEXT ("+x+"): "+bs(f,I)+(D?" "+D:"")})}function Po(f,x){f.info(function(){return"TIMEOUT: "+x})}Ki.prototype.info=function(){};function bs(f,x){if(!f.g)return x;if(!x)return null;try{const ie=JSON.parse(x);if(ie){for(f=0;f<ie.length;f++)if(Array.isArray(ie[f])){var I=ie[f];if(!(I.length<2)){var D=I[1];if(Array.isArray(D)&&!(D.length<1)){var ee=D[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(let Te=1;Te<D.length;Te++)D[Te]=""}}}}return wi(ie)}catch{return x}}var Zi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Qi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},tu;function en(){}T(en,Ti),en.prototype.g=function(){return new XMLHttpRequest},tu=new en;function Ne(f){return encodeURIComponent(String(f))}function As(f){var x=1;f=f.split(":");const I=[];for(;x>0&&f.length;)I.push(f.shift()),x--;return f.length&&I.push(f.join(":")),I}function Yn(f,x,I,D){this.j=f,this.i=x,this.l=I,this.S=D||1,this.V=new Hi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wa}function Wa(){this.i=null,this.g="",this.h=!1}var $a={},Rs={};function hr(f,x,I){f.M=1,f.A=vt(Cn(x)),f.u=I,f.R=!0,Gr(f,null)}function Gr(f,x){f.F=Date.now(),ks(f),f.B=Cn(f.A);var I=f.B,D=f.S;Array.isArray(D)||(D=[String(D)]),js(I.i,"t",D),f.C=0,I=f.j.L,f.h=new Wa,f.g=Ja(f.j,I?x:null,!f.u),f.P>0&&(f.O=new Ql(y(f.Y,f,f.g),f.P)),x=f.V,I=f.g,D=f.ba;var ee="readystatechange";Array.isArray(ee)||(ee&&(Cs[0]=ee.toString()),ee=Cs);for(let ie=0;ie<ee.length;ie++){const Te=ct(I,ee[ie],D||x.handleEvent,!1,x.h||x);if(!Te)break;x.g[Te.key]=Te}x=f.J?$(f.J):{},f.u?(f.v||(f.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,x)):(f.v="GET",f.g.ea(f.B,f.v,null,x)),Wr(),Jl(f.i,f.v,f.B,f.l,f.S,f.u)}Yn.prototype.ba=function(f){f=f.target;const x=this.O;x&&ei(f)==3?x.j():this.Y(f)},Yn.prototype.Y=function(f){try{if(f==this.g)e:{const We=ei(this.g),dt=this.g.ya(),mt=this.g.ca();if(!(We<3)&&(We!=3||this.g&&(this.h.h||this.g.la()||Qa(this.g)))){this.K||We!=4||dt==7||(dt==8||mt<=0?Wr(3):Wr(2)),Ns(this);var x=this.g.ca();this.X=x;var I=qa(this);if(this.o=x==200,eu(this.i,this.v,this.B,this.l,this.S,We,x),this.o){if(this.U&&!this.L){t:{if(this.g){var D,ee=this.g;if((D=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(D)){var ie=D;break t}}ie=null}if(f=ie)qr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,St(this,f);else{this.o=!1,this.m=3,kt(12),dr(this),Ls(this);break e}}if(this.R){f=!0;let zt;for(;!this.K&&this.C<I.length;)if(zt=ru(this,I),zt==Rs){We==4&&(this.m=4,kt(14),f=!1),qr(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==$a){this.m=4,kt(15),qr(this.i,this.l,I,"[Invalid Chunk]"),f=!1;break}else qr(this.i,this.l,zt,null),St(this,zt);if(nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),We!=4||I.length!=0||this.h.h||(this.m=1,kt(16),f=!1),this.o=this.o&&f,!f)qr(this.i,this.l,I,"[Invalid Chunked Response]"),dr(this),Ls(this);else if(I.length>0&&!this.W){this.W=!0;var Te=this.j;Te.g==this&&Te.aa&&!Te.P&&(Te.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),Ws(Te),Te.P=!0,kt(11))}}else qr(this.i,this.l,I,null),St(this,I);We==4&&dr(this),this.o&&!this.K&&(We==4?bn(this.j,this):(this.o=!1,ks(this)))}else Us(this.g),x==400&&I.indexOf("Unknown SID")>0?(this.m=3,kt(12)):(this.m=0,kt(13)),dr(this),Ls(this)}}}catch{}finally{}};function qa(f){if(!nu(f))return f.g.la();const x=Qa(f.g);if(x==="")return"";let I="";const D=x.length,ee=ei(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return dr(f),Ls(f),"";f.h.i=new u.TextDecoder}for(let ie=0;ie<D;ie++)f.h.h=!0,I+=f.h.i.decode(x[ie],{stream:!(ee&&ie==D-1)});return x.length=0,f.h.g+=I,f.C=0,f.h.g}function nu(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function ru(f,x){var I=f.C,D=x.indexOf(`
`,I);return D==-1?Rs:(I=Number(x.substring(I,D)),isNaN(I)?$a:(D+=1,D+I>x.length?Rs:(x=x.slice(D,D+I),f.C=D+I,x)))}Yn.prototype.cancel=function(){this.K=!0,dr(this)};function ks(f){f.T=Date.now()+f.H,Ga(f,f.H)}function Ga(f,x){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Gi(y(f.aa,f),x)}function Ns(f){f.D&&(u.clearTimeout(f.D),f.D=null)}Yn.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Po(this.i,this.B),this.M!=2&&(Wr(),kt(17)),dr(this),this.m=2,Ls(this)):Ga(this,this.T-f)};function Ls(f){f.j.I==0||f.K||bn(f.j,f)}function dr(f){Ns(f);var x=f.O;x&&typeof x.dispose=="function"&&x.dispose(),f.O=null,Is(f.V),f.g&&(x=f.g,f.g=null,x.abort(),x.dispose())}function St(f,x){try{var I=f.j;if(I.I!=0&&(I.g==f||Os(I.h,f))){if(!f.L&&Os(I.h,f)&&I.I==3){try{var D=I.Ba.g.parse(x)}catch{D=null}if(Array.isArray(D)&&D.length==3){var ee=D;if(ee[0]==0){e:if(!I.v){if(I.g)if(I.g.F+3e3<f.F)bo(I),tr(I);else break e;ni(I),kt(18)}}else I.xa=ee[1],0<I.xa-I.K&&ee[2]<37500&&I.F&&I.A==0&&!I.C&&(I.C=Gi(y(I.Va,I),6e3));Ms(I.h)<=1&&I.ta&&(I.ta=void 0)}else jn(I,11)}else if((f.L||I.g==f)&&bo(I),!B(x))for(ee=I.Ba.g.parse(x),x=0;x<ee.length;x++){let mt=ee[x];const zt=mt[0];if(!(zt<=I.K))if(I.K=zt,mt=mt[1],I.I==2)if(mt[0]=="c"){I.M=mt[1],I.ba=mt[2];const rr=mt[3];rr!=null&&(I.ka=rr,I.j.info("VER="+I.ka));const Nr=mt[4];Nr!=null&&(I.za=Nr,I.j.info("SVER="+I.za));const gr=mt[5];gr!=null&&typeof gr=="number"&&gr>0&&(D=1.5*gr,I.O=D,I.j.info("backChannelRequestTimeoutMs_="+D)),D=I;const ii=f.g;if(ii){const Lo=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lo){var ie=D.h;ie.g||Lo.indexOf("spdy")==-1&&Lo.indexOf("quic")==-1&&Lo.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Kr(ie,ie.h),ie.h=null))}if(D.G){const Mo=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;Mo&&(D.wa=Mo,Se(D.J,D.G,Mo))}}I.I=3,I.l&&I.l.ra(),I.aa&&(I.T=Date.now()-f.F,I.j.info("Handshake RTT: "+I.T+"ms")),D=I;var Te=f;if(D.na=Ro(D,D.L?D.ba:null,D.W),Te.L){Yi(D.h,Te);var We=Te,dt=D.O;dt&&(We.H=dt),We.D&&(Ns(We),ks(We)),D.g=Te}else hn(D);I.i.length>0&&nr(I)}else mt[0]!="stop"&&mt[0]!="close"||jn(I,7);else I.I==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?jn(I,7):rt(I):mt[0]!="noop"&&I.l&&I.l.qa(mt),I.A=0)}}Wr(4)}catch{}}var vc=class{constructor(f,x){this.g=f,this.map=x}};function So(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ka(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ms(f){return f.h?1:f.g?f.g.size:0}function Os(f,x){return f.h?f.h==x:f.g?f.g.has(x):!1}function Kr(f,x){f.g?f.g.add(x):f.h=x}function Yi(f,x){f.h&&f.h==x?f.h=null:f.g&&f.g.has(x)&&f.g.delete(x)}So.prototype.cancel=function(){if(this.i=On(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function On(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let x=f.i;for(const I of f.g.values())x=x.concat(I.G);return x}return b(f.i)}var Xi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(f,x){if(f){f=f.split("&");for(let I=0;I<f.length;I++){const D=f[I].indexOf("=");let ee,ie=null;D>=0?(ee=f[I].substring(0,D),ie=f[I].substring(D+1)):ee=f[I],x(ee,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function ht(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;f instanceof ht?(this.l=f.l,fr(this,f.j),this.o=f.o,this.g=f.g,In(this,f.u),this.h=f.h,Zr(this,es(f.i)),this.m=f.m):f&&(x=String(f).match(Xi))?(this.l=!1,fr(this,x[1]||"",!0),this.o=xi(x[2]||""),this.g=xi(x[3]||"",!0),In(this,x[4]),this.h=xi(x[5]||"",!0),Zr(this,x[6]||"",!0),this.m=xi(x[7]||"")):(this.l=!1,this.i=new nt(null,this.l))}ht.prototype.toString=function(){const f=[];var x=this.j;x&&f.push(Qr(x,Za,!0),":");var I=this.g;return(I||x=="file")&&(f.push("//"),(x=this.o)&&f.push(Qr(x,Za,!0),"@"),f.push(Ne(I).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.u,I!=null&&f.push(":",String(I))),(I=this.h)&&(this.g&&I.charAt(0)!="/"&&f.push("/"),f.push(Qr(I,I.charAt(0)=="/"?Xn:Ji,!0))),(I=this.i.toString())&&f.push("?",I),(I=this.m)&&f.push("#",Qr(I,Rr)),f.join("")},ht.prototype.resolve=function(f){const x=Cn(this);let I=!!f.j;I?fr(x,f.j):I=!!f.o,I?x.o=f.o:I=!!f.g,I?x.g=f.g:I=f.u!=null;var D=f.h;if(I)In(x,f.u);else if(I=!!f.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var ee=x.h.lastIndexOf("/");ee!=-1&&(D=x.h.slice(0,ee+1)+D)}if(ee=D,ee==".."||ee==".")D="";else if(ee.indexOf("./")!=-1||ee.indexOf("/.")!=-1){D=ee.lastIndexOf("/",0)==0,ee=ee.split("/");const ie=[];for(let Te=0;Te<ee.length;){const We=ee[Te++];We=="."?D&&Te==ee.length&&ie.push(""):We==".."?((ie.length>1||ie.length==1&&ie[0]!="")&&ie.pop(),D&&Te==ee.length&&ie.push("")):(ie.push(We),D=!0)}D=ie.join("/")}else D=ee}return I?x.h=D:I=f.i.toString()!=="",I?Zr(x,es(f.i)):I=!!f.m,I&&(x.m=f.m),x};function Cn(f){return new ht(f)}function fr(f,x,I){f.j=I?xi(x,!0):x,f.j&&(f.j=f.j.replace(/:$/,""))}function In(f,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);f.u=x}else f.u=null}function Zr(f,x,I){x instanceof nt?(f.i=x,ts(f.i,f.l)):(I||(x=Qr(x,Vt)),f.i=new nt(x,f.l))}function Se(f,x,I){f.i.set(x,I)}function vt(f){return Se(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function xi(f,x){return f?x?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Qr(f,x,I){return typeof f=="string"?(f=encodeURI(f).replace(x,vn),I&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function vn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Za=/[#\/\?@]/g,Ji=/[#\?:]/g,Xn=/[#\?]/g,Vt=/[#\?@]/g,Rr=/#/g;function nt(f,x){this.h=this.g=null,this.i=f||null,this.j=!!x}function Dn(f){f.g||(f.g=new Map,f.h=0,f.i&&Ze(f.i,function(x,I){f.add(decodeURIComponent(x.replace(/\+/g," ")),I)}))}n=nt.prototype,n.add=function(f,x){Dn(this),this.i=null,f=pr(this,f);let I=this.g.get(f);return I||this.g.set(f,I=[]),I.push(x),this.h+=1,this};function Ds(f,x){Dn(f),x=pr(f,x),f.g.has(x)&&(f.i=null,f.h-=f.g.get(x).length,f.g.delete(x))}function Yr(f,x){return Dn(f),x=pr(f,x),f.g.has(x)}n.forEach=function(f,x){Dn(this),this.g.forEach(function(I,D){I.forEach(function(ee){f.call(x,ee,D,this)},this)},this)};function Vs(f,x){Dn(f);let I=[];if(typeof x=="string")Yr(f,x)&&(I=I.concat(f.g.get(pr(f,x))));else for(f=Array.from(f.g.values()),x=0;x<f.length;x++)I=I.concat(f[x]);return I}n.set=function(f,x){return Dn(this),this.i=null,f=pr(this,f),Yr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[x]),this.h+=1,this},n.get=function(f,x){return f?(f=Vs(this,f),f.length>0?String(f[0]):x):x};function js(f,x,I){Ds(f,x),I.length>0&&(f.i=null,f.g.set(pr(f,x),b(I)),f.h+=I.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],x=Array.from(this.g.keys());for(let D=0;D<x.length;D++){var I=x[D];const ee=Ne(I);I=Vs(this,I);for(let ie=0;ie<I.length;ie++){let Te=ee;I[ie]!==""&&(Te+="="+Ne(I[ie])),f.push(Te)}}return this.i=f.join("&")};function es(f){const x=new nt;return x.i=f.i,f.g&&(x.g=new Map(f.g),x.h=f.h),x}function pr(f,x){return x=String(x),f.j&&(x=x.toLowerCase()),x}function ts(f,x){x&&!f.j&&(Dn(f),f.i=null,f.g.forEach(function(I,D){const ee=D.toLowerCase();D!=ee&&(Ds(this,D),js(this,ee,I))},f)),f.j=x}function Jn(f,x){const I=new Ki;if(u.Image){const D=new Image;D.onload=v(Zt,I,"TestLoadImage: loaded",!0,x,D),D.onerror=v(Zt,I,"TestLoadImage: error",!1,x,D),D.onabort=v(Zt,I,"TestLoadImage: abort",!1,x,D),D.ontimeout=v(Zt,I,"TestLoadImage: timeout",!1,x,D),u.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=f}else x(!1)}function kr(f,x){const I=new Ki,D=new AbortController,ee=setTimeout(()=>{D.abort(),Zt(I,"TestPingServer: timeout",!1,x)},1e4);fetch(f,{signal:D.signal}).then(ie=>{clearTimeout(ee),ie.ok?Zt(I,"TestPingServer: ok",!0,x):Zt(I,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(ee),Zt(I,"TestPingServer: error",!1,x)})}function Zt(f,x,I,D,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),D(I)}catch{}}function Fs(){this.g=new Wi}function Ue(f){this.i=f.Sb||null,this.h=f.ab||!1}T(Ue,Ti),Ue.prototype.g=function(){return new jt(this.i,this.h)};function jt(f,x){Gt.call(this),this.H=f,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(jt,Gt),n=jt.prototype,n.open=function(f,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=x,this.readyState=1,er(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(x.body=f),(this.H||u).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Pi(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,er(this)),this.g&&(this.readyState=3,er(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_t(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function _t(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var x=f.value?f.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!f.done}))&&(this.response=this.responseText+=x)}f.done?Pi(this):er(this),this.readyState==3&&_t(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,Pi(this))},n.Na=function(f){this.g&&(this.response=f,Pi(this))},n.ga=function(){this.g&&Pi(this)};function Pi(f){f.readyState=4,f.l=null,f.j=null,f.B=null,er(f)}n.setRequestHeader=function(f,x){this.A.append(f,x)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],x=this.h.entries();for(var I=x.next();!I.done;)I=I.value,f.push(I[0]+": "+I[1]),I=x.next();return f.join(`\r
`)};function er(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(jt.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Co(f){let x="";return me(f,function(I,D){x+=D,x+=":",x+=I,x+=`\r
`}),x}function ns(f,x,I){e:{for(D in I){var D=!1;break e}D=!0}D||(I=Co(I),typeof f=="string"?I!=null&&Ne(I):Se(f,x,I))}function ut(f){Gt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(ut,Gt);var Io=/^https?$/i,Bs=["POST","PUT"];n=ut.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,x,I,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);x=x?x.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():tu.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(x,String(f),!0),this.B=!1}catch(ie){It(this,ie);return}if(f=I||"",I=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var ee in D)I.set(ee,D[ee]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const ie of D.keys())I.set(ie,D.get(ie));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(I.keys()).find(ie=>ie.toLowerCase()=="content-type"),ee=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(Bs,x,void 0)>=0)||D||ee||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,Te]of I)this.g.setRequestHeader(ie,Te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(ie){It(this,ie)}};function It(f,x){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=x,f.o=5,Vn(f),Jr(f)}function Vn(f){f.A||(f.A=!0,Dt(f,"complete"),Dt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Dt(this,"complete"),Dt(this,"abort"),Jr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jr(this,!0)),ut.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Xr(this):this.Xa())},n.Xa=function(){Xr(this)};function Xr(f){if(f.h&&typeof l<"u"){if(f.v&&ei(f)==4)setTimeout(f.Ca.bind(f),0);else if(Dt(f,"readystatechange"),ei(f)==4){f.h=!1;try{const ie=f.ca();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var I;if(!(I=x)){var D;if(D=ie===0){let Te=String(f.D).match(Xi)[1]||null;!Te&&u.self&&u.self.location&&(Te=u.self.location.protocol.slice(0,-1)),D=!Io.test(Te?Te.toLowerCase():"")}I=D}if(I)Dt(f,"complete"),Dt(f,"success");else{f.o=6;try{var ee=ei(f)>2?f.g.statusText:""}catch{ee=""}f.l=ee+" ["+f.ca()+"]",Vn(f)}}finally{Jr(f)}}}}function Jr(f,x){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const I=f.g;f.g=null,x||Dt(f,"ready");try{I.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ei(f){return f.g?f.g.readyState:0}n.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var x=this.g.responseText;return f&&x.indexOf(f)==0&&(x=x.substring(f.length)),Yl(x)}};function Qa(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Us(f){const x={};f=(f.g&&ei(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<f.length;D++){if(B(f[D]))continue;var I=As(f[D]);const ee=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const ie=x[ee]||[];x[ee]=ie,ie.push(I)}ae(x,function(D){return D.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ti(f,x,I){return I&&I.internalChannelParams&&I.internalChannelParams[f]||x}function zs(f){this.za=0,this.i=[],this.j=new Ki,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ti("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ti("baseRetryDelayMs",5e3,f),this.Za=ti("retryDelaySeedMs",1e4,f),this.Ta=ti("forwardChannelMaxRetries",2,f),this.va=ti("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new So(f&&f.concurrentRequestLimit),this.Ba=new Fs,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=zs.prototype,n.ka=8,n.I=1,n.connect=function(f,x,I,D){kt(0),this.W=f,this.H=x||{},I&&D!==void 0&&(this.H.OSID=I,this.H.OAID=D),this.F=this.X,this.J=Ro(this,null,this.W),nr(this)};function rt(f){if(_n(f),f.I==3){var x=f.V++,I=Cn(f.J);if(Se(I,"SID",f.M),Se(I,"RID",x),Se(I,"TYPE","terminate"),mr(f,I),x=new Yn(f,f.j,x),x.M=2,x.A=vt(Cn(I)),I=!1,u.navigator&&u.navigator.sendBeacon)try{I=u.navigator.sendBeacon(x.A.toString(),"")}catch{}!I&&u.Image&&(new Image().src=x.A,I=!0),I||(x.g=Ja(x.j,null),x.g.ea(x.A)),x.F=Date.now(),ks(x)}Fn(f)}function tr(f){f.g&&(Ws(f),f.g.cancel(),f.g=null)}function _n(f){tr(f),f.v&&(u.clearTimeout(f.v),f.v=null),bo(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function nr(f){if(!Ka(f.h)&&!f.m){f.m=!0;var x=f.Ea;le||O(),ce||(le(),ce=!0),F.add(x,f),f.D=0}}function Ya(f,x){return Ms(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=x.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Gi(y(f.Ea,f,x),Ao(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const ee=new Yn(this,this.j,f);let ie=this.o;if(this.U&&(ie?(ie=$(ie),Ee(ie,this.U)):ie=this.U),this.u!==null||this.R||(ee.J=ie,ie=null),this.S)e:{for(var x=0,I=0;I<this.i.length;I++){t:{var D=this.i[I];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(x+=D,x>4096){x=I;break e}if(x===4096||I===this.i.length-1){x=I+1;break e}}x=1e3}else x=1e3;x=Xa(this,ee,x),I=Cn(this.J),Se(I,"RID",f),Se(I,"CVER",22),this.G&&Se(I,"X-HTTP-Session-Id",this.G),mr(this,I),ie&&(this.R?x="headers="+Ne(Co(ie))+"&"+x:this.u&&ns(I,this.u,ie)),Kr(this.h,ee),this.Ra&&Se(I,"TYPE","init"),this.S?(Se(I,"$req",x),Se(I,"SID","null"),ee.U=!0,hr(ee,I,null)):hr(ee,I,x),this.I=2}}else this.I==3&&(f?Hs(this,f):this.i.length==0||Ka(this.h)||Hs(this))};function Hs(f,x){var I;x?I=x.l:I=f.V++;const D=Cn(f.J);Se(D,"SID",f.M),Se(D,"RID",I),Se(D,"AID",f.K),mr(f,D),f.u&&f.o&&ns(D,f.u,f.o),I=new Yn(f,f.j,I,f.D+1),f.u===null&&(I.J=f.o),x&&(f.i=x.G.concat(f.i)),x=Xa(f,I,1e3),I.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Kr(f.h,I),hr(I,D,x)}function mr(f,x){f.H&&me(f.H,function(I,D){Se(x,D,I)}),f.l&&me({},function(I,D){Se(x,D,I)})}function Xa(f,x,I){I=Math.min(f.i.length,I);const D=f.l?y(f.l.Ka,f.l,f):null;e:{var ee=f.i;let We=-1;for(;;){const dt=["count="+I];We==-1?I>0?(We=ee[0].g,dt.push("ofs="+We)):We=0:dt.push("ofs="+We);let mt=!0;for(let zt=0;zt<I;zt++){var ie=ee[zt].g;const rr=ee[zt].map;if(ie-=We,ie<0)We=Math.max(0,ee[zt].g-100),mt=!1;else try{ie="req"+ie+"_"||"";try{var Te=rr instanceof Map?rr:Object.entries(rr);for(const[Nr,gr]of Te){let ii=gr;d(gr)&&(ii=wi(gr)),dt.push(ie+Nr+"="+encodeURIComponent(ii))}}catch(Nr){throw dt.push(ie+"type="+encodeURIComponent("_badmap")),Nr}}catch{D&&D(rr)}}if(mt){Te=dt.join("&");break e}}Te=void 0}return f=f.i.splice(0,I),x.G=f,Te}function hn(f){if(!f.g&&!f.v){f.Y=1;var x=f.Da;le||O(),ce||(le(),ce=!0),F.add(x,f),f.A=0}}function ni(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Gi(y(f.Da,f),Ao(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,ri(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Gi(y(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,kt(10),tr(this),ri(this))};function Ws(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function ri(f){f.g=new Yn(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var x=Cn(f.na);Se(x,"RID","rpc"),Se(x,"SID",f.M),Se(x,"AID",f.K),Se(x,"CI",f.F?"0":"1"),!f.F&&f.ia&&Se(x,"TO",f.ia),Se(x,"TYPE","xmlhttp"),mr(f,x),f.u&&f.o&&ns(x,f.u,f.o),f.O&&(f.g.H=f.O);var I=f.g;f=f.ba,I.M=1,I.A=vt(Cn(x)),I.u=null,I.R=!0,Gr(I,f)}n.Va=function(){this.C!=null&&(this.C=null,tr(this),ni(this),kt(19))};function bo(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function bn(f,x){var I=null;if(f.g==x){bo(f),Ws(f),f.g=null;var D=2}else if(Os(f.h,x))I=x.G,Yi(f.h,x),D=1;else return;if(f.I!=0){if(x.o)if(D==1){I=x.u?x.u.length:0,x=Date.now()-x.F;var ee=f.D;D=qi(),Dt(D,new Ha(D,I)),nr(f)}else hn(f);else if(ee=x.m,ee==3||ee==0&&x.X>0||!(D==1&&Ya(f,x)||D==2&&ni(f)))switch(I&&I.length>0&&(x=f.h,x.i=x.i.concat(I)),ee){case 1:jn(f,5);break;case 4:jn(f,10);break;case 3:jn(f,6);break;default:jn(f,2)}}}function Ao(f,x){let I=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(I*=2),I*x}function jn(f,x){if(f.j.info("Error code "+x),x==2){var I=y(f.bb,f),D=f.Ua;const ee=!D;D=new ht(D||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||fr(D,"https"),vt(D),ee?Jn(D.toString(),I):kr(D.toString(),I)}else kt(2);f.I=0,f.l&&f.l.pa(x),Fn(f),_n(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Fn(f){if(f.I=0,f.ja=[],f.l){const x=On(f.h);(x.length!=0||f.i.length!=0)&&(V(f.ja,x),V(f.ja,f.i),f.h.i.length=0,b(f.i),f.i.length=0),f.l.oa()}}function Ro(f,x,I){var D=I instanceof ht?Cn(I):new ht(I);if(D.g!="")x&&(D.g=x+"."+D.g),In(D,D.u);else{var ee=u.location;D=ee.protocol,x=x?x+"."+ee.hostname:ee.hostname,ee=+ee.port;const ie=new ht(null);D&&fr(ie,D),x&&(ie.g=x),ee&&In(ie,ee),I&&(ie.h=I),D=ie}return I=f.G,x=f.wa,I&&x&&Se(D,I,x),Se(D,"VER",f.ka),mr(f,D),D}function Ja(f,x,I){if(x&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=f.Aa&&!f.ma?new ut(new Ue({ab:I})):new ut(f.ma),x.Fa(f.L),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ko(){}n=ko.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function No(){}No.prototype.g=function(f,x){return new tn(f,x)};function tn(f,x){Gt.call(this),this.g=new zs(x),this.l=f,this.h=x&&x.messageUrlParams||null,f=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(f?f["X-WebChannel-Content-Type"]=x.messageContentType:f={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(f?f["X-WebChannel-Client-Profile"]=x.sa:f={"X-WebChannel-Client-Profile":x.sa}),this.g.U=f,(f=x&&x.Qb)&&!B(f)&&(this.g.u=f),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!B(x)&&(this.g.G=x,f=this.h,f!==null&&x in f&&(f=this.h,x in f&&delete f[x])),this.j=new rs(this)}T(tn,Gt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){rt(this.g)},tn.prototype.o=function(f){var x=this.g;if(typeof f=="string"){var I={};I.__data__=f,f=I}else this.v&&(I={},I.__data__=wi(f),f=I);x.i.push(new vc(x.Ya++,f)),x.I==3&&nr(x)},tn.prototype.N=function(){this.g.l=null,delete this.j,rt(this.g),delete this.g,tn.Z.N.call(this)};function el(f){$i.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var x=f.__sm__;if(x){e:{for(const I in x){f=I;break e}f=void 0}(this.i=f)&&(f=this.i,x=x!==null&&f in x?x[f]:void 0),this.data=x}else this.data=f}T(el,$i);function iu(){Eo.call(this),this.status=1}T(iu,Eo);function rs(f){this.g=f}T(rs,ko),rs.prototype.ra=function(){Dt(this.g,"a")},rs.prototype.qa=function(f){Dt(this.g,new el(f))},rs.prototype.pa=function(f){Dt(this.g,new iu)},rs.prototype.oa=function(){Dt(this.g,"b")},No.prototype.createWebChannel=No.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,rS=function(){return new No},nS=function(){return qi()},tS=Ar,dy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zi.NO_ERROR=0,Zi.TIMEOUT=8,Zi.HTTP_ERROR=6,xf=Zi,Qi.COMPLETE="complete",eS=Qi,Xl.EventType=Ei,Ei.OPEN="a",Ei.CLOSE="b",Ei.ERROR="c",Ei.MESSAGE="d",Gt.prototype.listen=Gt.prototype.J,eh=Xl,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,JP=ut}).apply(typeof tf<"u"?tf:typeof self<"u"?self:typeof window<"u"?window:{});const gT="@firebase/firestore",yT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gn.UNAUTHENTICATED=new Gn(null),Gn.GOOGLE_CREDENTIALS=new Gn("google-credentials-uid"),Gn.FIRST_PARTY=new Gn("first-party-uid"),Gn.MOCK_USER=new Gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=new rv("@firebase/firestore");function Mu(){return Dl.logLevel}function ke(n,...e){if(Dl.logLevel<=ot.DEBUG){const t=e.map(pv);Dl.debug(`Firestore (${pc}): ${n}`,...t)}}function po(n,...e){if(Dl.logLevel<=ot.ERROR){const t=e.map(pv);Dl.error(`Firestore (${pc}): ${n}`,...t)}}function Xu(n,...e){if(Dl.logLevel<=ot.WARN){const t=e.map(pv);Dl.warn(`Firestore (${pc}): ${n}`,...t)}}function pv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,iS(n,r,t)}function iS(n,e,t){let r=`FIRESTORE (${pc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw po(r),new Error(r)}function Et(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||iS(e,s,r)}function Xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends vo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class q2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Gn.UNAUTHENTICATED)))}shutdown(){}}class G2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class K2{constructor(e){this.t=e,this.currentUser=Gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Et(this.o===void 0,42304);let r=this.i;const s=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let l=new wa;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new wa,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await s(this.currentUser)}))},d=p=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new wa)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et(typeof r.accessToken=="string",31837,{l:r}),new sS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string",2055,{h:e}),new Gn(e)}}class Z2{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Q2{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Z2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Et(this.o===void 0,3512);const r=l=>{l.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ke("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const s=l=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>s(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Et(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new vT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=X2(40);for(let l=0;l<s.length;++l)r.length<20&&s[l]<t&&(r+=e.charAt(s[l]%62))}return r}}function at(n,e){return n<e?-1:n>e?1:0}function fy(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),l=e.charAt(r);if(s!==l)return xg(s)===xg(l)?at(s,l):xg(s)?1:-1}return at(n.length,e.length)}const J2=55296,eM=57343;function xg(n){const e=n.charCodeAt(0);return e>=J2&&e<=eM}function Ju(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="__name__";class fs{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ge(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ge(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return fs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fs?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const l=fs.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return at(e.length,t.length)}static compareSegments(e,t){const r=fs.isNumericId(e),s=fs.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?fs.extractNumericId(e).compare(fs.extractNumericId(t)):fy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _a.fromString(e.substring(4,e.length-2))}}class At extends fs{construct(e,t,r){return new At(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new At(t)}static emptyPath(){return new At([])}}const tM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends fs{construct(e,t,r){return new Nn(e,t,r)}static isValidIdentifier(e){return tM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_T}static keyField(){return new Nn([_T])}static fromServerFormat(e){const t=[];let r="",s=0;const l=()=>{if(r.length===0)throw new Ae(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new Ae(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ae(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,s+=2}else d==="`"?(u=!u,s++):d!=="."||u?(r+=d,s++):(l(),s++)}if(l(),u)throw new Ae(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nn(t)}static emptyPath(){return new Nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.path=e}static fromPath(e){return new Fe(At.fromString(e))}static fromName(e){return new Fe(At.fromString(e).popFirst(5))}static empty(){return new Fe(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return At.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fe(new At(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(n,e,t){if(!t)throw new Ae(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function nM(n,e,t,r){if(e===!0&&r===!0)throw new Ae(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function wT(n){if(!Fe.isDocumentKey(n))throw new Ae(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function TT(n){if(Fe.isDocumentKey(n))throw new Ae(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function aS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function vp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ge(12329,{type:typeof n})}function ys(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ae(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vp(n);throw new Ae(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(n,e){const t={typeString:n};return e&&(t.value=e),t}function Uh(n,e){if(!aS(n))throw new Ae(he.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(s&&typeof u!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new Ae(he.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=-62135596800,xT=1e6;class Mt{static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*xT);return new Mt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ET)throw new Ae(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xT}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Uh(e,Mt._jsonSchema))return new Mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ET;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Mt._jsonSchemaVersion="firestore/timestamp/1.0",Mt._jsonSchema={type:ln("string",Mt._jsonSchemaVersion),seconds:ln("number"),nanoseconds:ln("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new Mt(0,0))}static max(){return new Qe(new Mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=-1;function rM(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Qe.fromTimestamp(r===1e9?new Mt(t+1,0):new Mt(t,r));return new xa(s,Fe.empty(),e)}function iM(n){return new xa(n.readTime,n.key,Eh)}class xa{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new xa(Qe.min(),Fe.empty(),Eh)}static max(){return new xa(Qe.max(),Fe.empty(),Eh)}}function sM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Fe.comparator(n.documentKey,e.documentKey),t!==0?t:at(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mc(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==oM)throw n;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de(((r,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):de.reject(t)}static resolve(e){return new de(((t,r)=>{t(e)}))}static reject(e){return new de(((t,r)=>{r(e)}))}static waitFor(e){return new de(((t,r)=>{let s=0,l=0,u=!1;e.forEach((d=>{++s,d.next((()=>{++l,u&&l===s&&t()}),(p=>r(p)))})),u=!0,l===s&&t()}))}static or(e){let t=de.resolve(!1);for(const r of e)t=t.next((s=>s?de.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,l)=>{r.push(t.call(this,s,l))})),this.waitFor(r)}static mapArray(e,t){return new de(((r,s)=>{const l=e.length,u=new Array(l);let d=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next((v=>{u[y]=v,++d,d===l&&r(u)}),(v=>s(v)))}}))}static doWhile(e,t){return new de(((r,s)=>{const l=()=>{e()===!0?t().next((()=>{l()}),s):r()};l()}))}}function lM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function gc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_p.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=-1;function wp(n){return n==null}function zf(n){return n===0&&1/n==-1/0}function uM(n){return typeof n=="number"&&Number.isInteger(n)&&!zf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="";function cM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=PT(e)),e=hM(n.get(t),e);return PT(e)}function hM(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case lS:t+="";break;default:t+=l}}return t}function PT(n){return n+lS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Da(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function uS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,t){this.comparator=e,this.root=t||kn.EMPTY}insert(e,t){return new qt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nf(this.root,e,this.comparator,!1)}getReverseIterator(){return new nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nf(this.root,e,this.comparator,!0)}}class nf{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kn{constructor(e,t,r,s,l){this.key=e,this.value=t,this.color=r??kn.RED,this.left=s??kn.EMPTY,this.right=l??kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,l){return new kn(e??this.key,t??this.value,r??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const l=r(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,r),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return kn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,t,r,s,l){return this}insert(e,t,r){return new kn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.comparator=e,this.data=new qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new CT(this.data.getIterator())}getIteratorFrom(e){return new CT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof mn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=r.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new mn(this.comparator);return t.data=e,t}}class CT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.fields=e,e.sort(Nn.comparator)}static empty(){return new Fr([])}unionWith(e){let t=new mn(Nn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Fr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ju(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new cS("Invalid base64 string: "+l):l}})(e);return new Ln(t)}static fromUint8Array(e){const t=(function(s){let l="";for(let u=0;u<s.length;++u)l+=String.fromCharCode(s[u]);return l})(e);return new Ln(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ln.EMPTY_BYTE_STRING=new Ln("");const dM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pa(n){if(Et(!!n,39018),typeof n=="string"){let e=0;const t=dM.exec(n);if(Et(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xt(n.seconds),nanos:Xt(n.nanos)}}function Xt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Sa(n){return typeof n=="string"?Ln.fromBase64String(n):Ln.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="server_timestamp",dS="__type__",fS="__previous_value__",pS="__local_write_time__";function yv(n){return(n?.mapValue?.fields||{})[dS]?.stringValue===hS}function Tp(n){const e=n.mapValue.fields[fS];return yv(e)?Tp(e):e}function xh(n){const e=Pa(n.mapValue.fields[pS].timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,t,r,s,l,u,d,p,y,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=v}}const Hf="(default)";class Ph{constructor(e,t){this.projectId=e,this.database=t||Hf}static empty(){return new Ph("","")}get isDefaultDatabase(){return this.database===Hf}isEqual(e){return e instanceof Ph&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="__type__",pM="__max__",rf={mapValue:{}},gS="__vector__",Wf="value";function Ca(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yv(n)?4:gM(n)?9007199254740991:mM(n)?10:11:Ge(28295,{value:n})}function Ps(n,e){if(n===e)return!0;const t=Ca(n);if(t!==Ca(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return xh(n).isEqual(xh(e));case 3:return(function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const u=Pa(s.timestampValue),d=Pa(l.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,l){return Sa(s.bytesValue).isEqual(Sa(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,l){return Xt(s.geoPointValue.latitude)===Xt(l.geoPointValue.latitude)&&Xt(s.geoPointValue.longitude)===Xt(l.geoPointValue.longitude)})(n,e);case 2:return(function(s,l){if("integerValue"in s&&"integerValue"in l)return Xt(s.integerValue)===Xt(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const u=Xt(s.doubleValue),d=Xt(l.doubleValue);return u===d?zf(u)===zf(d):isNaN(u)&&isNaN(d)}return!1})(n,e);case 9:return Ju(n.arrayValue.values||[],e.arrayValue.values||[],Ps);case 10:case 11:return(function(s,l){const u=s.mapValue.fields||{},d=l.mapValue.fields||{};if(ST(u)!==ST(d))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(d[p]===void 0||!Ps(u[p],d[p])))return!1;return!0})(n,e);default:return Ge(52216,{left:n})}}function Sh(n,e){return(n.values||[]).find((t=>Ps(t,e)))!==void 0}function ec(n,e){if(n===e)return 0;const t=Ca(n),r=Ca(e);if(t!==r)return at(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return at(n.booleanValue,e.booleanValue);case 2:return(function(l,u){const d=Xt(l.integerValue||l.doubleValue),p=Xt(u.integerValue||u.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(n,e);case 3:return IT(n.timestampValue,e.timestampValue);case 4:return IT(xh(n),xh(e));case 5:return fy(n.stringValue,e.stringValue);case 6:return(function(l,u){const d=Sa(l),p=Sa(u);return d.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(l,u){const d=l.split("/"),p=u.split("/");for(let y=0;y<d.length&&y<p.length;y++){const v=at(d[y],p[y]);if(v!==0)return v}return at(d.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,u){const d=at(Xt(l.latitude),Xt(u.latitude));return d!==0?d:at(Xt(l.longitude),Xt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return bT(n.arrayValue,e.arrayValue);case 10:return(function(l,u){const d=l.fields||{},p=u.fields||{},y=d[Wf]?.arrayValue,v=p[Wf]?.arrayValue,T=at(y?.values?.length||0,v?.values?.length||0);return T!==0?T:bT(y,v)})(n.mapValue,e.mapValue);case 11:return(function(l,u){if(l===rf.mapValue&&u===rf.mapValue)return 0;if(l===rf.mapValue)return 1;if(u===rf.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),y=u.fields||{},v=Object.keys(y);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const S=fy(p[T],v[T]);if(S!==0)return S;const b=ec(d[p[T]],y[v[T]]);if(b!==0)return b}return at(p.length,v.length)})(n.mapValue,e.mapValue);default:throw Ge(23264,{he:t})}}function IT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return at(n,e);const t=Pa(n),r=Pa(e),s=at(t.seconds,r.seconds);return s!==0?s:at(t.nanos,r.nanos)}function bT(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const l=ec(t[s],r[s]);if(l)return l}return at(t.length,r.length)}function tc(n){return py(n)}function py(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Pa(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Sa(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Fe.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const l of t.values||[])s?s=!1:r+=",",r+=py(l);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const u of r)l?l=!1:s+=",",s+=`${u}:${py(t.fields[u])}`;return s+"}"})(n.mapValue):Ge(61005,{value:n})}function Pf(n){switch(Ca(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tp(n);return e?16+Pf(e):16;case 5:return 2*n.stringValue.length;case 6:return Sa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,l)=>s+Pf(l)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return Da(r.fields,((l,u)=>{s+=l.length+Pf(u)})),s})(n.mapValue);default:throw Ge(13486,{value:n})}}function AT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function my(n){return!!n&&"integerValue"in n}function vv(n){return!!n&&"arrayValue"in n}function RT(n){return!!n&&"nullValue"in n}function kT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Sf(n){return!!n&&"mapValue"in n}function mM(n){return(n?.mapValue?.fields||{})[mS]?.stringValue===gS}function lh(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Da(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=lh(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lh(n.arrayValue.values[t]);return e}return{...n}}function gM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===pM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.value=e}static empty(){return new Cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Sf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lh(t)}setAll(e){let t=Nn.emptyPath(),r={},s=[];e.forEach(((u,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,r,s),r={},s=[],t=d.popLast()}u?r[d.lastSegment()]=lh(u):s.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,r,s)}delete(e){const t=this.field(e.popLast());Sf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ps(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Sf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Da(t,((s,l)=>e[s]=l));for(const s of r)delete e[s]}clone(){return new Cr(lh(this.value))}}function yS(n){const e=[];return Da(n.fields,((t,r)=>{const s=new Nn([t]);if(Sf(r)){const l=yS(r.mapValue).fields;if(l.length===0)e.push(s);else for(const u of l)e.push(s.child(u))}else e.push(s)})),new Fr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,t,r,s,l,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=l,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Kn(e,0,Qe.min(),Qe.min(),Qe.min(),Cr.empty(),0)}static newFoundDocument(e,t,r,s){return new Kn(e,1,t,Qe.min(),r,s,0)}static newNoDocument(e,t){return new Kn(e,2,t,Qe.min(),Qe.min(),Cr.empty(),0)}static newUnknownDocument(e,t){return new Kn(e,3,t,Qe.min(),Qe.min(),Cr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,t){this.position=e,this.inclusive=t}}function NT(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const l=e[s],u=n.position[s];if(l.field.isKeyField()?r=Fe.comparator(Fe.fromName(u.referenceValue),t.key):r=ec(u,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function LT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ps(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,t="asc"){this.field=e,this.dir=t}}function yM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{}class an extends vS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new _M(e,t,r):t==="array-contains"?new EM(e,r):t==="in"?new xM(e,r):t==="not-in"?new PM(e,r):t==="array-contains-any"?new SM(e,r):new an(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new wM(e,r):new TM(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ec(t,this.value)):t!==null&&Ca(this.value)===Ca(t)&&this.matchesComparison(ec(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fi extends vS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Fi(e,t)}matches(e){return _S(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _S(n){return n.op==="and"}function wS(n){return vM(n)&&_S(n)}function vM(n){for(const e of n.filters)if(e instanceof Fi)return!1;return!0}function gy(n){if(n instanceof an)return n.field.canonicalString()+n.op.toString()+tc(n.value);if(wS(n))return n.filters.map((e=>gy(e))).join(",");{const e=n.filters.map((t=>gy(t))).join(",");return`${n.op}(${e})`}}function TS(n,e){return n instanceof an?(function(r,s){return s instanceof an&&r.op===s.op&&r.field.isEqual(s.field)&&Ps(r.value,s.value)})(n,e):n instanceof Fi?(function(r,s){return s instanceof Fi&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((l,u,d)=>l&&TS(u,s.filters[d])),!0):!1})(n,e):void Ge(19439)}function ES(n){return n instanceof an?(function(t){return`${t.field.canonicalString()} ${t.op} ${tc(t.value)}`})(n):n instanceof Fi?(function(t){return t.op.toString()+" {"+t.getFilters().map(ES).join(" ,")+"}"})(n):"Filter"}class _M extends an{constructor(e,t,r){super(e,t,r),this.key=Fe.fromName(r.referenceValue)}matches(e){const t=Fe.comparator(e.key,this.key);return this.matchesComparison(t)}}class wM extends an{constructor(e,t){super(e,"in",t),this.keys=xS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class TM extends an{constructor(e,t){super(e,"not-in",t),this.keys=xS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function xS(n,e){return(e.arrayValue?.values||[]).map((t=>Fe.fromName(t.referenceValue)))}class EM extends an{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vv(t)&&Sh(t.arrayValue,this.value)}}class xM extends an{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Sh(this.value.arrayValue,t)}}class PM extends an{constructor(e,t){super(e,"not-in",t)}matches(e){if(Sh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Sh(this.value.arrayValue,t)}}class SM extends an{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vv(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Sh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,t=null,r=[],s=[],l=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=l,this.startAt=u,this.endAt=d,this.Te=null}}function MT(n,e=null,t=[],r=[],s=null,l=null,u=null){return new CM(n,e,t,r,s,l,u)}function _v(n){const e=Xe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>gy(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),wp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>tc(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>tc(r))).join(",")),e.Te=t}return e.Te}function wv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!yM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!TS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!LT(n.startAt,e.startAt)&&LT(n.endAt,e.endAt)}function yy(n){return Fe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,t=null,r=[],s=[],l=null,u="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=l,this.limitType=u,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function IM(n,e,t,r,s,l,u,d){return new zh(n,e,t,r,s,l,u,d)}function Tv(n){return new zh(n)}function OT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function PS(n){return n.collectionGroup!==null}function uh(n){const e=Xe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new mn(Nn.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(d=d.add(y.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new qf(l,r))})),t.has(Nn.keyField().canonicalString())||e.Ie.push(new qf(Nn.keyField(),r))}return e.Ie}function vs(n){const e=Xe(n);return e.Ee||(e.Ee=bM(e,uh(n))),e.Ee}function bM(n,e){if(n.limitType==="F")return MT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const l=s.dir==="desc"?"asc":"desc";return new qf(s.field,l)}));const t=n.endAt?new $f(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new $f(n.startAt.position,n.startAt.inclusive):null;return MT(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function vy(n,e){const t=n.filters.concat([e]);return new zh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function _y(n,e,t){return new zh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ep(n,e){return wv(vs(n),vs(e))&&n.limitType===e.limitType}function SS(n){return`${_v(vs(n))}|lt:${n.limitType}`}function Ou(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>ES(s))).join(", ")}]`),wp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>tc(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>tc(s))).join(",")),`Target(${r})`})(vs(n))}; limitType=${n.limitType})`}function xp(n,e){return e.isFoundDocument()&&(function(r,s){const l=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Fe.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(n,e)&&(function(r,s){for(const l of uh(r))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const l of r.filters)if(!l.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(u,d,p){const y=NT(u,d,p);return u.inclusive?y<=0:y<0})(r.startAt,uh(r),s)||r.endAt&&!(function(u,d,p){const y=NT(u,d,p);return u.inclusive?y>=0:y>0})(r.endAt,uh(r),s))})(n,e)}function AM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function CS(n){return(e,t)=>{let r=!1;for(const s of uh(n)){const l=RM(s,e,t);if(l!==0)return l;r=r||s.field.isKeyField()}return 0}}function RM(n,e,t){const r=n.field.isKeyField()?Fe.comparator(e.key,t.key):(function(l,u,d){const p=u.data.field(l),y=d.data.field(l);return p!==null&&y!==null?ec(p,y):Ge(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ge(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,l]of r)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Da(this.inner,((t,r)=>{for(const[s,l]of r)e(s,l)}))}isEmpty(){return uS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=new qt(Fe.comparator);function mo(){return kM}const IS=new qt(Fe.comparator);function th(...n){let e=IS;for(const t of n)e=e.insert(t.key,t);return e}function bS(n){let e=IS;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function xl(){return ch()}function AS(){return ch()}function ch(){return new Hl((n=>n.toString()),((n,e)=>n.isEqual(e)))}const NM=new qt(Fe.comparator),LM=new mn(Fe.comparator);function lt(...n){let e=LM;for(const t of n)e=e.add(t);return e}const MM=new mn(at);function OM(){return MM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zf(e)?"-0":e}}function RS(n){return{integerValue:""+n}}function DM(n,e){return uM(e)?RS(e):Ev(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(){this._=void 0}}function VM(n,e,t){return n instanceof Gf?(function(s,l){const u={fields:{[dS]:{stringValue:hS},[pS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&yv(l)&&(l=Tp(l)),l&&(u.fields[fS]=l),{mapValue:u}})(t,e):n instanceof Ch?NS(n,e):n instanceof Ih?LS(n,e):(function(s,l){const u=kS(s,l),d=DT(u)+DT(s.Ae);return my(u)&&my(s.Ae)?RS(d):Ev(s.serializer,d)})(n,e)}function jM(n,e,t){return n instanceof Ch?NS(n,e):n instanceof Ih?LS(n,e):t}function kS(n,e){return n instanceof Kf?(function(r){return my(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class Gf extends Pp{}class Ch extends Pp{constructor(e){super(),this.elements=e}}function NS(n,e){const t=MS(e);for(const r of n.elements)t.some((s=>Ps(s,r)))||t.push(r);return{arrayValue:{values:t}}}class Ih extends Pp{constructor(e){super(),this.elements=e}}function LS(n,e){let t=MS(e);for(const r of n.elements)t=t.filter((s=>!Ps(s,r)));return{arrayValue:{values:t}}}class Kf extends Pp{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function DT(n){return Xt(n.integerValue||n.doubleValue)}function MS(n){return vv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function FM(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof Ch&&s instanceof Ch||r instanceof Ih&&s instanceof Ih?Ju(r.elements,s.elements,Ps):r instanceof Kf&&s instanceof Kf?Ps(r.Ae,s.Ae):r instanceof Gf&&s instanceof Gf})(n.transform,e.transform)}class BM{constructor(e,t){this.version=e,this.transformResults=t}}class Vi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vi}static exists(e){return new Vi(void 0,e)}static updateTime(e){return new Vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Sp{}function OS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new xv(n.key,Vi.none()):new Hh(n.key,n.data,Vi.none());{const t=n.data,r=Cr.empty();let s=new mn(Nn.comparator);for(let l of e.fields)if(!s.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?r.delete(l):r.set(l,u),s=s.add(l)}return new Va(n.key,r,new Fr(s.toArray()),Vi.none())}}function UM(n,e,t){n instanceof Hh?(function(s,l,u){const d=s.value.clone(),p=jT(s.fieldTransforms,l,u.transformResults);d.setAll(p),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):n instanceof Va?(function(s,l,u){if(!Cf(s.precondition,l))return void l.convertToUnknownDocument(u.version);const d=jT(s.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(DS(s)),p.setAll(d),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(n,e,t):(function(s,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function hh(n,e,t,r){return n instanceof Hh?(function(l,u,d,p){if(!Cf(l.precondition,u))return d;const y=l.value.clone(),v=FT(l.fieldTransforms,p,u);return y.setAll(v),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null})(n,e,t,r):n instanceof Va?(function(l,u,d,p){if(!Cf(l.precondition,u))return d;const y=FT(l.fieldTransforms,p,u),v=u.data;return v.setAll(DS(l)),v.setAll(y),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(n,e,t,r):(function(l,u,d){return Cf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,e,t)}function zM(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),l=kS(r.transform,s||null);l!=null&&(t===null&&(t=Cr.empty()),t.set(r.field,l))}return t||null}function VT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ju(r,s,((l,u)=>FM(l,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Hh extends Sp{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Va extends Sp{constructor(e,t,r,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function DS(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function jT(n,e,t){const r=new Map;Et(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const l=n[s],u=l.transform,d=e.data.field(l.field);r.set(l.field,jM(u,d,t[s]))}return r}function FT(n,e,t){const r=new Map;for(const s of n){const l=s.transform,u=t.data.field(s.field);r.set(s.field,VM(l,u,e))}return r}class xv extends Sp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HM extends Sp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&UM(l,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=hh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=hh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=AS();return this.mutations.forEach((s=>{const l=e.get(s.key),u=l.overlayedDocument;let d=this.applyToLocalView(u,l.mutatedFields);d=t.has(s.key)?null:d;const p=OS(u,d);p!==null&&r.set(s.key,p),u.isValidDocument()||u.convertToNoDocument(Qe.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),lt())}isEqual(e){return this.batchId===e.batchId&&Ju(this.mutations,e.mutations,((t,r)=>VT(t,r)))&&Ju(this.baseMutations,e.baseMutations,((t,r)=>VT(t,r)))}}class Pv{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Et(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return NM})();const l=e.mutations;for(let u=0;u<l.length;u++)s=s.insert(l[u].key,r[u].version);return new Pv(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $M=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn,ft;function GM(n){switch(n){case he.OK:return Ge(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Ge(15467,{code:n})}}function VS(n){if(n===void 0)return po("GRPC error has no .code"),he.UNKNOWN;switch(n){case sn.OK:return he.OK;case sn.CANCELLED:return he.CANCELLED;case sn.UNKNOWN:return he.UNKNOWN;case sn.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case sn.INTERNAL:return he.INTERNAL;case sn.UNAVAILABLE:return he.UNAVAILABLE;case sn.UNAUTHENTICATED:return he.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case sn.NOT_FOUND:return he.NOT_FOUND;case sn.ALREADY_EXISTS:return he.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return he.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case sn.ABORTED:return he.ABORTED;case sn.OUT_OF_RANGE:return he.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return he.UNIMPLEMENTED;case sn.DATA_LOSS:return he.DATA_LOSS;default:return Ge(39323,{code:n})}}(ft=sn||(sn={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=new _a([4294967295,4294967295],0);function BT(n){const e=KM().encode(n),t=new XP;return t.update(e),new Uint8Array(t.digest())}function UT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new _a([t,r],0),new _a([s,l],0)]}class Sv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new nh(`Invalid padding: ${t}`);if(r<0)throw new nh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new nh(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new nh(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=_a.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(_a.fromNumber(r)));return s.compare(ZM)===1&&(s=new _a([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=BT(e),[r,s]=UT(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,s,l);if(!this.we(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Sv(l,s,t);return r.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const t=BT(e),[r,s]=UT(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,s,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class nh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,t,r,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Wh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Cp(Qe.min(),s,new qt(at),mo(),lt())}}class Wh{constructor(e,t,r,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Wh(r,t,lt(),lt(),lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class jS{constructor(e,t){this.targetId=e,this.Ce=t}}class FS{constructor(e,t,r=Ln.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class zT{constructor(){this.ve=0,this.Fe=HT(),this.Me=Ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=lt(),t=lt(),r=lt();return this.Fe.forEach(((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ge(38017,{changeType:l})}})),new Wh(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=HT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class QM{constructor(e){this.Ge=e,this.ze=new Map,this.je=mo(),this.Je=sf(),this.He=sf(),this.Ye=new qt(at)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ge(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const l=s.target;if(yy(l))if(r===0){const u=new Fe(l.path);this.et(t,u,Kn.newNoDocument(u,Qe.min()))}else Et(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const d=this.ut(e),p=d?this.ct(d,e,u):1;if(p!==0){this.it(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:l=0}=t;let u,d;try{u=Sa(r).toUint8Array()}catch(p){if(p instanceof cS)return Xu("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Sv(u,s,l)}catch(p){return Xu(p instanceof nh?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((l=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((l,u)=>{const d=this.ot(u);if(d){if(l.current&&yy(d.target)){const p=new Fe(d.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,Kn.newNoDocument(p,e))}l.Be&&(t.set(u,l.ke()),l.qe())}}));let r=lt();this.He.forEach(((l,u)=>{let d=!0;u.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const s=new Cp(e,t,this.Ye,this.je,r);return this.je=mo(),this.Je=sf(),this.He=sf(),this.Ye=new qt(at),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new zT,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new mn(at),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new mn(at),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ke("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new zT),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function sf(){return new qt(Fe.comparator)}function HT(){return new qt(Fe.comparator)}const YM={asc:"ASCENDING",desc:"DESCENDING"},XM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JM={and:"AND",or:"OR"};class eO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wy(n,e){return n.useProto3Json||wp(e)?e:{value:e}}function Zf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function tO(n,e){return Zf(n,e.toTimestamp())}function _s(n){return Et(!!n,49232),Qe.fromTimestamp((function(t){const r=Pa(t);return new Mt(r.seconds,r.nanos)})(n))}function Cv(n,e){return Ty(n,e).canonicalString()}function Ty(n,e){const t=(function(s){return new At(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function US(n){const e=At.fromString(n);return Et(qS(e),10190,{key:e.toString()}),e}function Ey(n,e){return Cv(n.databaseId,e.path)}function Pg(n,e){const t=US(e);if(t.get(1)!==n.databaseId.projectId)throw new Ae(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ae(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Fe(HS(t))}function zS(n,e){return Cv(n.databaseId,e)}function nO(n){const e=US(n);return e.length===4?At.emptyPath():HS(e)}function xy(n){return new At(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function HS(n){return Et(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function WT(n,e,t){return{name:Ey(n,e),fields:t.value.mapValue.fields}}function rO(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ge(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=(function(y,v){return y.useProto3Json?(Et(v===void 0||typeof v=="string",58123),Ln.fromBase64String(v||"")):(Et(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Ln.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(y){const v=y.code===void 0?he.UNKNOWN:VS(y.code);return new Ae(v,y.message||"")})(u);t=new FS(r,s,l,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Pg(n,r.document.name),l=_s(r.document.updateTime),u=r.document.createTime?_s(r.document.createTime):Qe.min(),d=new Cr({mapValue:{fields:r.document.fields}}),p=Kn.newFoundDocument(s,l,u,d),y=r.targetIds||[],v=r.removedTargetIds||[];t=new If(y,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Pg(n,r.document),l=r.readTime?_s(r.readTime):Qe.min(),u=Kn.newNoDocument(s,l),d=r.removedTargetIds||[];t=new If([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Pg(n,r.document),l=r.removedTargetIds||[];t=new If([],l,s,null)}else{if(!("filter"in e))return Ge(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:l}=r,u=new qM(s,l),d=r.targetId;t=new jS(d,u)}}return t}function iO(n,e){let t;if(e instanceof Hh)t={update:WT(n,e.key,e.value)};else if(e instanceof xv)t={delete:Ey(n,e.key)};else if(e instanceof Va)t={update:WT(n,e.key,e.data),updateMask:fO(e.fieldMask)};else{if(!(e instanceof HM))return Ge(16599,{Vt:e.type});t={verify:Ey(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(l,u){const d=u.transform;if(d instanceof Gf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ch)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ih)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Kf)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Ge(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,l){return l.updateTime!==void 0?{updateTime:tO(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ge(27497)})(n,e.precondition)),t}function sO(n,e){return n&&n.length>0?(Et(e!==void 0,14353),n.map((t=>(function(s,l){let u=s.updateTime?_s(s.updateTime):_s(l);return u.isEqual(Qe.min())&&(u=_s(l)),new BM(u,s.transformResults||[])})(t,e)))):[]}function oO(n,e){return{documents:[zS(n,e.path)]}}function aO(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=zS(n,s);const l=(function(y){if(y.length!==0)return $S(Fi.create(y,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(y){if(y.length!==0)return y.map((v=>(function(S){return{field:Du(S.field),direction:cO(S.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=wy(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:s}}function lO(n){let e=nO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Et(r===1,65062);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(T){const S=WS(T);return S instanceof Fi&&wS(S)?S.getFilters():[S]})(t.where));let u=[];t.orderBy&&(u=(function(T){return T.map((S=>(function(V){return new qf(Vu(V.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(S)))})(t.orderBy));let d=null;t.limit&&(d=(function(T){let S;return S=typeof T=="object"?T.value:T,wp(S)?null:S})(t.limit));let p=null;t.startAt&&(p=(function(T){const S=!!T.before,b=T.values||[];return new $f(b,S)})(t.startAt));let y=null;return t.endAt&&(y=(function(T){const S=!T.before,b=T.values||[];return new $f(b,S)})(t.endAt)),IM(e,s,u,l,d,"F",p,y)}function uO(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function WS(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Vu(t.unaryFilter.field);return an.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Vu(t.unaryFilter.field);return an.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Vu(t.unaryFilter.field);return an.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Vu(t.unaryFilter.field);return an.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}})(n):n.fieldFilter!==void 0?(function(t){return an.create(Vu(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Fi.create(t.compositeFilter.filters.map((r=>WS(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}})(t.compositeFilter.op))})(n):Ge(30097,{filter:n})}function cO(n){return YM[n]}function hO(n){return XM[n]}function dO(n){return JM[n]}function Du(n){return{fieldPath:n.canonicalString()}}function Vu(n){return Nn.fromServerFormat(n.fieldPath)}function $S(n){return n instanceof an?(function(t){if(t.op==="=="){if(kT(t.value))return{unaryFilter:{field:Du(t.field),op:"IS_NAN"}};if(RT(t.value))return{unaryFilter:{field:Du(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(kT(t.value))return{unaryFilter:{field:Du(t.field),op:"IS_NOT_NAN"}};if(RT(t.value))return{unaryFilter:{field:Du(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Du(t.field),op:hO(t.op),value:t.value}}})(n):n instanceof Fi?(function(t){const r=t.getFilters().map((s=>$S(s)));return r.length===1?r[0]:{compositeFilter:{op:dO(t.op),filters:r}}})(n):Ge(54877,{filter:n})}function fO(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function qS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,t,r,s,l=Qe.min(),u=Qe.min(),d=Ln.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ma(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.yt=e}}function mO(n){const e=lO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?_y(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(){this.Cn=new yO}addToCollectionParentIndex(e,t){return this.Cn.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(xa.min())}getMinOffsetFromCollectionGroup(e,t){return de.resolve(xa.min())}updateCollectionGroup(e,t,r){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class yO{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new mn(At.comparator),l=!s.has(r);return this.index[t]=s.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new mn(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GS=41943040;class Pr{static withCacheSize(e){return new Pr(e,Pr.DEFAULT_COLLECTION_PERCENTILE,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pr.DEFAULT_COLLECTION_PERCENTILE=10,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pr.DEFAULT=new Pr(GS,Pr.DEFAULT_COLLECTION_PERCENTILE,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pr.DISABLED=new Pr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new nc(0)}static cr(){return new nc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="LruGarbageCollector",vO=1048576;function GT([n,e],[t,r]){const s=at(n,t);return s===0?at(e,r):s}class _O{constructor(e){this.Ir=e,this.buffer=new mn(GT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();GT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class wO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ke(qT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){gc(t)?ke(qT,"Ignoring IndexedDB error during garbage collection: ",t):await mc(t)}await this.Vr(3e5)}))}}class TO{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return de.resolve(_p.ce);const r=new _O(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve($T)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$T):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,l,u,d,p,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),s=this.params.maximumSequenceNumbersToCollect):s=T,u=Date.now(),this.nthSequenceNumber(e,s)))).next((T=>(r=T,d=Date.now(),this.removeTargets(e,r,t)))).next((T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((T=>(y=Date.now(),Mu()<=ot.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${s} in `+(d-u)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-v}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:T}))))}}function EO(n,e){return new TO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.changes=new Hl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?de.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&hh(r.mutation,s,Fr.empty(),Mt.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,lt()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=lt()){const s=xl();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((l=>{let u=th();return l.forEach(((d,p)=>{u=u.insert(d,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=xl();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,lt())))}populateOverlays(e,t,r){const s=[];return r.forEach((l=>{t.has(l)||s.push(l)})),this.documentOverlayCache.getOverlays(e,s).next((l=>{l.forEach(((u,d)=>{t.set(u,d)}))}))}computeViews(e,t,r,s){let l=mo();const u=ch(),d=(function(){return ch()})();return t.forEach(((p,y)=>{const v=r.get(y.key);s.has(y.key)&&(v===void 0||v.mutation instanceof Va)?l=l.insert(y.key,y):v!==void 0?(u.set(y.key,v.mutation.getFieldMask()),hh(v.mutation,y,v.mutation.getFieldMask(),Mt.now())):u.set(y.key,Fr.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((y,v)=>u.set(y,v))),t.forEach(((y,v)=>d.set(y,new PO(v,u.get(y)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=ch();let s=new qt(((u,d)=>u-d)),l=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const d of u)d.keys().forEach((p=>{const y=t.get(p);if(y===null)return;let v=r.get(p)||Fr.empty();v=d.applyToLocalView(y,v),r.set(p,v);const T=(s.get(d.batchId)||lt()).add(p);s=s.insert(d.batchId,T)}))})).next((()=>{const u=[],d=s.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,v=p.value,T=AS();v.forEach((S=>{if(!l.has(S)){const b=OS(t.get(S),r.get(S));b!==null&&T.set(S,b),l=l.add(S)}})),u.push(this.documentOverlayCache.saveOverlays(e,y,T))}return de.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(u){return Fe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):PS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((l=>{const u=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-l.size):de.resolve(xl());let d=Eh,p=l;return u.next((y=>de.forEach(y,((v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(v)?de.resolve():this.remoteDocumentCache.getEntry(e,v).next((S=>{p=p.insert(v,S)}))))).next((()=>this.populateOverlays(e,y,l))).next((()=>this.computeViews(e,p,y,lt()))).next((v=>({batchId:d,changes:bS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Fe(t)).next((r=>{let s=th();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const l=t.collectionGroup;let u=th();return this.indexManager.getCollectionParents(e,l).next((d=>de.forEach(d,(p=>{const y=(function(T,S){return new zh(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,r,s).next((v=>{v.forEach(((T,S)=>{u=u.insert(T,S)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,s)))).next((u=>{l.forEach(((p,y)=>{const v=y.getKey();u.get(v)===null&&(u=u.insert(v,Kn.newInvalidDocument(v)))}));let d=th();return u.forEach(((p,y)=>{const v=l.get(p);v!==void 0&&hh(v.mutation,y,Fr.empty(),Mt.now()),xp(t,y)&&(d=d.insert(p,y))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return de.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:_s(s.createTime)}})(t)),de.resolve()}getNamedQuery(e,t){return de.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:mO(s.bundledQuery),readTime:_s(s.readTime)}})(t)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(){this.overlays=new qt(Fe.comparator),this.qr=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}getOverlays(e,t){const r=xl();return de.forEach(t,(s=>this.getOverlay(e,s).next((l=>{l!==null&&r.set(s,l)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,l)=>{this.St(e,t,l)})),de.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),de.resolve()}getOverlaysForCollection(e,t,r){const s=xl(),l=t.length+1,u=new Fe(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>r&&s.set(p.getKey(),p)}return de.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let l=new qt(((y,v)=>y-v));const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>r){let v=l.get(y.largestBatchId);v===null&&(v=xl(),l=l.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const d=xl(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,v)=>d.set(y,v))),!(d.size()>=s)););return de.resolve(d)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new $M(t,r));let l=this.qr.get(t);l===void 0&&(l=lt(),this.qr.set(t,l)),this.qr.set(t,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(){this.sessionToken=Ln.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(){this.Qr=new mn(xn.$r),this.Ur=new mn(xn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new xn(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new xn(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Fe(new At([])),r=new xn(t,e),s=new xn(t,e+1),l=[];return this.Ur.forEachInRange([r,s],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Fe(new At([])),r=new xn(t,e),s=new xn(t,e+1);let l=lt();return this.Ur.forEachInRange([r,s],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new xn(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class xn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Fe.comparator(e.key,t.key)||at(e.Yr,t.Yr)}static Kr(e,t){return at(e.Yr,t.Yr)||Fe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new mn(xn.$r)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new WM(l,t,r,s);this.mutationQueue.push(u);for(const d of s)this.Zr=this.Zr.add(new xn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return de.resolve(u)}lookupMutationBatch(e,t){return de.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),l=s<0?0:s;return de.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?gv:this.tr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new xn(t,0),s=new xn(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,s],(u=>{const d=this.Xr(u.Yr);l.push(d)})),de.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new mn(at);return t.forEach((s=>{const l=new xn(s,0),u=new xn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(d=>{r=r.add(d.Yr)}))})),de.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let l=r;Fe.isDocumentKey(l)||(l=l.child(""));const u=new xn(new Fe(l),0);let d=new mn(at);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!r.isPrefixOf(y)&&(y.length===s&&(d=d.add(p.Yr)),!0)}),u),de.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Et(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return de.forEach(t.mutations,(s=>{const l=new xn(s.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new xn(t,0),s=this.Zr.firstAfterOrEqual(r);return de.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e){this.ri=e,this.docs=(function(){return new qt(Fe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),l=s?s.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return de.resolve(r?r.document.mutableCopy():Kn.newInvalidDocument(t))}getEntries(e,t){let r=mo();return t.forEach((s=>{const l=this.docs.get(s);r=r.insert(s,l?l.document.mutableCopy():Kn.newInvalidDocument(s))})),de.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let l=mo();const u=t.path,d=new Fe(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:y,value:{document:v}}=p.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||sM(iM(v),r)<=0||(s.has(v.key)||xp(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return de.resolve(l)}getAllFromCollectionGroup(e,t,r,s){Ge(9500)}ii(e,t){return de.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new kO(this)}getSize(e){return de.resolve(this.size)}}class kO extends xO{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),de.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e){this.persistence=e,this.si=new Hl((t=>_v(t)),wv),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.oi=0,this._i=new Iv,this.targetCount=0,this.ai=nc.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),de.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new nc(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.Pr(t),de.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,r){let s=0;const l=[];return this.si.forEach(((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),de.waitFor(l).next((()=>s))}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return de.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),de.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach((u=>{l.push(s.markPotentiallyOrphaned(e,u))})),de.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),de.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return de.resolve(r)}containsKey(e,t){return de.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,t){this.ui={},this.overlays={},this.ci=new _p(0),this.li=!1,this.li=!0,this.hi=new bO,this.referenceDelegate=e(this),this.Pi=new NO(this),this.indexManager=new gO,this.remoteDocumentCache=(function(s){return new RO(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new pO(t),this.Ii=new CO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new IO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new AO(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ke("MemoryPersistence","Starting transaction:",e);const s=new LO(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((l=>this.referenceDelegate.di(s).next((()=>l)))).toPromise().then((l=>(s.raiseOnCommittedEvent(),l)))}Ai(e,t){return de.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class LO extends aM{constructor(e){super(),this.currentSequenceNumber=e}}class bv{constructor(e){this.persistence=e,this.Ri=new Iv,this.Vi=null}static mi(e){return new bv(e)}get fi(){if(this.Vi)return this.Vi;throw Ge(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),de.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),de.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.fi,(r=>{const s=Fe.fromPath(r);return this.gi(e,s).next((l=>{l||t.removeEntry(s,Qe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return de.or([()=>de.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Qf{constructor(e,t){this.persistence=e,this.pi=new Hl((r=>cM(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=EO(this,t)}static mi(e,t){return new Qf(e,t)}Ei(){}di(e){return de.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return de.forEach(this.pi,((r,s)=>this.br(e,r,s).next((l=>l?de.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.ii(e,(u=>this.br(e,u,t).next((d=>{d||(r++,l.removeEntry(u,Qe.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),de.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),de.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),de.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Pf(e.data.value)),t}br(e,t,r){return de.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return de.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=lt(),s=lt();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new Av(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return hk()?8:lM(Zn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const l={result:null};return this.ys(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,t,s,r).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new MO;return this.Ss(e,t,u).next((d=>{if(l.result=d,this.Vs)return this.bs(e,t,u,d.size)}))})).next((()=>l.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(Mu()<=ot.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",Ou(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),de.resolve()):(Mu()<=ot.DEBUG&&ke("QueryEngine","Query:",Ou(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Mu()<=ot.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",Ou(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vs(t))):de.resolve())}ys(e,t){if(OT(t))return de.resolve(null);let r=vs(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=_y(t,null,"F"),r=vs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const u=lt(...l);return this.ps.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,r).next((p=>{const y=this.Ds(t,d);return this.Cs(t,y,u,p.readTime)?this.ys(e,_y(t,null,"F")):this.vs(e,y,t,p)}))))})))))}ws(e,t,r,s){return OT(t)||s.isEqual(Qe.min())?de.resolve(null):this.ps.getDocuments(e,r).next((l=>{const u=this.Ds(t,l);return this.Cs(t,u,r,s)?de.resolve(null):(Mu()<=ot.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ou(t)),this.vs(e,u,t,rM(s,Eh)).next((d=>d)))}))}Ds(e,t){let r=new mn(CS(e));return t.forEach(((s,l)=>{xp(e,l)&&(r=r.add(l))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}Ss(e,t,r){return Mu()<=ot.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",Ou(t)),this.ps.getDocumentsMatchingQuery(e,t,xa.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="LocalStore",DO=3e8;class VO{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new qt(at),this.xs=new Hl((l=>_v(l)),wv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function jO(n,e,t,r){return new VO(n,e,t,r)}async function ZS(n,e){const t=Xe(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((l=>(s=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((l=>{const u=[],d=[];let p=lt();for(const y of s){u.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}for(const y of l){d.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(r,p).next((y=>({Ls:y,removedBatchIds:u,addedBatchIds:d})))}))}))}function FO(n,e){const t=Xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,y,v){const T=y.batch,S=T.keys();let b=de.resolve();return S.forEach((V=>{b=b.next((()=>v.getEntry(p,V))).next((R=>{const M=y.docVersions.get(V);Et(M!==null,48541),R.version.compareTo(M)<0&&(T.applyToRemoteDocument(R,y),R.isValidDocument()&&(R.setReadTime(y.commitVersion),v.addEntry(R)))}))})),b.next((()=>d.mutationQueue.removeMutationBatch(p,T)))})(t,r,e,l).next((()=>l.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let p=lt();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(p=p.add(d.batch.mutations[y].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function QS(n){const e=Xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function BO(n,e){const t=Xe(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const d=[];e.targetChanges.forEach(((v,T)=>{const S=s.get(T);if(!S)return;d.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,T).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,T))));let b=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?b=b.withResumeToken(Ln.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):v.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(v.resumeToken,r)),s=s.insert(T,b),(function(R,M,Z){return R.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=DO?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(S,b,v)&&d.push(t.Pi.updateTargetData(l,b))}));let p=mo(),y=lt();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(UO(l,u,e.documentUpdates).next((v=>{p=v.ks,y=v.qs}))),!r.isEqual(Qe.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((T=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));d.push(v)}return de.waitFor(d).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,y))).next((()=>p))})).then((l=>(t.Ms=s,l)))}function UO(n,e,t){let r=lt(),s=lt();return t.forEach((l=>r=r.add(l))),e.getEntries(n,r).next((l=>{let u=mo();return t.forEach(((d,p)=>{const y=l.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(s=s.add(d)),p.isNoDocument()&&p.version.isEqual(Qe.min())?(e.removeEntry(d,p.readTime),u=u.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),u=u.insert(d,p)):ke(Rv,"Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)})),{ks:u,qs:s}}))}function zO(n,e){const t=Xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=gv),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function HO(n,e){const t=Xe(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((l=>l?(s=l,de.resolve(s)):t.Pi.allocateTargetId(r).next((u=>(s=new ma(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Py(n,e,t){const r=Xe(n),s=r.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,(u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!gc(u))throw u;ke(Rv,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function KT(n,e,t){const r=Xe(n);let s=Qe.min(),l=lt();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,y,v){const T=Xe(p),S=T.xs.get(v);return S!==void 0?de.resolve(T.Ms.get(S)):T.Pi.getTargetData(y,v)})(r,u,vs(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,d.targetId).next((p=>{l=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?s:Qe.min(),t?l:lt()))).next((d=>(WO(r,AM(e),d),{documents:d,Qs:l})))))}function WO(n,e,t){let r=n.Os.get(e)||Qe.min();t.forEach(((s,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),n.Os.set(e,r)}class ZT{constructor(){this.activeTargetIds=OM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $O{constructor(){this.Mo=new ZT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ZT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="ConnectivityMonitor";class YT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ke(QT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ke(QT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let of=null;function Sy(){return of===null?of=(function(){return 268435456+Math.round(2147483648*Math.random())})():of++,"0x"+of.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="RestConnection",GO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Hf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,l){const u=Sy(),d=this.zo(e,t.toUriEncodedString());ke(Sg,`Sending RPC '${e}' ${u}:`,d,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,s,l);const{host:y}=new URL(d),v=hc(y);return this.Jo(e,d,p,r,v).then((T=>(ke(Sg,`Received RPC '${e}' ${u}: `,T),T)),(T=>{throw Xu(Sg,`RPC '${e}' ${u} failed with error: `,T,"url: ",d,"request:",r),T}))}Ho(e,t,r,s,l,u){return this.Go(e,t,r,s,l)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,l)=>e[l]=s)),r&&r.headers.forEach(((s,l)=>e[l]=s))}zo(e,t){const r=GO[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n="WebChannelConnection";class QO extends KO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,l){const u=Sy();return new Promise(((d,p)=>{const y=new JP;y.setWithCredentials(!0),y.listenOnce(eS.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case xf.NO_ERROR:const T=y.getResponseJson();ke($n,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),d(T);break;case xf.TIMEOUT:ke($n,`RPC '${e}' ${u} timed out`),p(new Ae(he.DEADLINE_EXCEEDED,"Request time out"));break;case xf.HTTP_ERROR:const S=y.getStatus();if(ke($n,`RPC '${e}' ${u} failed with status:`,S,"response text:",y.getResponseText()),S>0){let b=y.getResponseJson();Array.isArray(b)&&(b=b[0]);const V=b?.error;if(V&&V.status&&V.message){const R=(function(Z){const z=Z.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(z)>=0?z:he.UNKNOWN})(V.status);p(new Ae(R,V.message))}else p(new Ae(he.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new Ae(he.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{l_:e,streamId:u,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ke($n,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(s);ke($n,`RPC '${e}' ${u} sending request:`,s),y.send(t,"POST",v,r,15)}))}T_(e,t,r){const s=Sy(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=rS(),d=nS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const v=l.join("");ke($n,`Creating RPC '${e}' stream ${s}: ${v}`,p);const T=u.createWebChannel(v,p);this.I_(T);let S=!1,b=!1;const V=new ZO({Yo:M=>{b?ke($n,`Not sending because RPC '${e}' stream ${s} is closed:`,M):(S||(ke($n,`Opening RPC '${e}' stream ${s} transport.`),T.open(),S=!0),ke($n,`RPC '${e}' stream ${s} sending:`,M),T.send(M))},Zo:()=>T.close()}),R=(M,Z,z)=>{M.listen(Z,(H=>{try{z(H)}catch(J){setTimeout((()=>{throw J}),0)}}))};return R(T,eh.EventType.OPEN,(()=>{b||(ke($n,`RPC '${e}' stream ${s} transport opened.`),V.o_())})),R(T,eh.EventType.CLOSE,(()=>{b||(b=!0,ke($n,`RPC '${e}' stream ${s} transport closed`),V.a_(),this.E_(T))})),R(T,eh.EventType.ERROR,(M=>{b||(b=!0,Xu($n,`RPC '${e}' stream ${s} transport errored. Name:`,M.name,"Message:",M.message),V.a_(new Ae(he.UNAVAILABLE,"The operation could not be completed")))})),R(T,eh.EventType.MESSAGE,(M=>{if(!b){const Z=M.data[0];Et(!!Z,16349);const z=Z,H=z?.error||z[0]?.error;if(H){ke($n,`RPC '${e}' stream ${s} received error:`,H);const J=H.status;let le=(function(O){const j=sn[O];if(j!==void 0)return VS(j)})(J),ce=H.message;le===void 0&&(le=he.INTERNAL,ce="Unknown error status: "+J+" with message "+H.message),b=!0,V.a_(new Ae(le,ce)),T.close()}else ke($n,`RPC '${e}' stream ${s} received:`,Z),V.u_(Z)}})),R(d,tS.STAT_EVENT,(M=>{M.stat===dy.PROXY?ke($n,`RPC '${e}' stream ${s} detected buffering proxy`):M.stat===dy.NOPROXY&&ke($n,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Cg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(n){return new eO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,t,r=1e3,s=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&ke("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="PersistentStream";class XS{constructor(e,t,r,s,l,u,d,p){this.Mi=e,this.S_=r,this.b_=s,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new YS(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(po(t.toString()),po("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new Ae(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ke(XT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ke(XT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class YO extends XS{constructor(e,t,r,s,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=rO(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Qe.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Qe.min():u.readTime?_s(u.readTime):Qe.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=xy(this.serializer),t.addTarget=(function(l,u){let d;const p=u.target;if(d=yy(p)?{documents:oO(l,p)}:{query:aO(l,p).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=BS(l,u.resumeToken);const y=wy(l,u.expectedCount);y!==null&&(d.expectedCount=y)}else if(u.snapshotVersion.compareTo(Qe.min())>0){d.readTime=Zf(l,u.snapshotVersion.toTimestamp());const y=wy(l,u.expectedCount);y!==null&&(d.expectedCount=y)}return d})(this.serializer,e);const r=uO(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=xy(this.serializer),t.removeTarget=e,this.q_(t)}}class XO extends XS{constructor(e,t,r,s,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=sO(e.writeResults,e.commitTime),r=_s(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=xy(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>iO(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{}class eD extends JO{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Ae(he.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Ty(t,r),s,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ae(he.UNKNOWN,l.toString())}))}Ho(e,t,r,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Ho(e,Ty(t,r),s,u,d,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ae(he.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class tD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(po(t),this.aa=!1):ke("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl="RemoteStore";class nD{constructor(e,t,r,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Wl(this)&&(ke(Vl,"Restarting streams for network reachability change."),await(async function(p){const y=Xe(p);y.Ea.add(4),await $h(y),y.Ra.set("Unknown"),y.Ea.delete(4),await bp(y)})(this))}))})),this.Ra=new tD(r,s)}}async function bp(n){if(Wl(n))for(const e of n.da)await e(!0)}async function $h(n){for(const e of n.da)await e(!1)}function JS(n,e){const t=Xe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Mv(t)?Lv(t):yc(t).O_()&&Nv(t,e))}function kv(n,e){const t=Xe(n),r=yc(t);t.Ia.delete(e),r.O_()&&eC(t,e),t.Ia.size===0&&(r.O_()?r.L_():Wl(t)&&t.Ra.set("Unknown"))}function Nv(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}yc(n).Y_(e)}function eC(n,e){n.Va.Ue(e),yc(n).Z_(e)}function Lv(n){n.Va=new QM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),yc(n).start(),n.Ra.ua()}function Mv(n){return Wl(n)&&!yc(n).x_()&&n.Ia.size>0}function Wl(n){return Xe(n).Ea.size===0}function tC(n){n.Va=void 0}async function rD(n){n.Ra.set("Online")}async function iD(n){n.Ia.forEach(((e,t)=>{Nv(n,e)}))}async function sD(n,e){tC(n),Mv(n)?(n.Ra.ha(e),Lv(n)):n.Ra.set("Unknown")}async function oD(n,e,t){if(n.Ra.set("Online"),e instanceof FS&&e.state===2&&e.cause)try{await(async function(s,l){const u=l.cause;for(const d of l.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,u),s.Ia.delete(d),s.Va.removeTarget(d))})(n,e)}catch(r){ke(Vl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yf(n,r)}else if(e instanceof If?n.Va.Ze(e):e instanceof jS?n.Va.st(e):n.Va.tt(e),!t.isEqual(Qe.min()))try{const r=await QS(n.localStore);t.compareTo(r)>=0&&await(function(l,u){const d=l.Va.Tt(u);return d.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(y);v&&l.Ia.set(y,v.withResumeToken(p.resumeToken,u))}})),d.targetMismatches.forEach(((p,y)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(Ln.EMPTY_BYTE_STRING,v.snapshotVersion)),eC(l,p);const T=new ma(v.target,p,y,v.sequenceNumber);Nv(l,T)})),l.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(r){ke(Vl,"Failed to raise snapshot:",r),await Yf(n,r)}}async function Yf(n,e,t){if(!gc(e))throw e;n.Ea.add(1),await $h(n),n.Ra.set("Offline"),t||(t=()=>QS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ke(Vl,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await bp(n)}))}function nC(n,e){return e().catch((t=>Yf(n,t,e)))}async function Ap(n){const e=Xe(n),t=Ia(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gv;for(;aD(e);)try{const s=await zO(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,lD(e,s)}catch(s){await Yf(e,s)}rC(e)&&iC(e)}function aD(n){return Wl(n)&&n.Ta.length<10}function lD(n,e){n.Ta.push(e);const t=Ia(n);t.O_()&&t.X_&&t.ea(e.mutations)}function rC(n){return Wl(n)&&!Ia(n).x_()&&n.Ta.length>0}function iC(n){Ia(n).start()}async function uD(n){Ia(n).ra()}async function cD(n){const e=Ia(n);for(const t of n.Ta)e.ea(t.mutations)}async function hD(n,e,t){const r=n.Ta.shift(),s=Pv.from(r,e,t);await nC(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await Ap(n)}async function dD(n,e){e&&Ia(n).X_&&await(async function(r,s){if((function(u){return GM(u)&&u!==he.ABORTED})(s.code)){const l=r.Ta.shift();Ia(r).B_(),await nC(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,s))),await Ap(r)}})(n,e),rC(n)&&iC(n)}async function JT(n,e){const t=Xe(n);t.asyncQueue.verifyOperationInProgress(),ke(Vl,"RemoteStore received new credentials");const r=Wl(t);t.Ea.add(3),await $h(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await bp(t)}async function fD(n,e){const t=Xe(n);e?(t.Ea.delete(2),await bp(t)):e||(t.Ea.add(2),await $h(t),t.Ra.set("Unknown"))}function yc(n){return n.ma||(n.ma=(function(t,r,s){const l=Xe(t);return l.sa(),new YO(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(n.datastore,n.asyncQueue,{Xo:rD.bind(null,n),t_:iD.bind(null,n),r_:sD.bind(null,n),H_:oD.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Mv(n)?Lv(n):n.Ra.set("Unknown")):(await n.ma.stop(),tC(n))}))),n.ma}function Ia(n){return n.fa||(n.fa=(function(t,r,s){const l=Xe(t);return l.sa(),new XO(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:uD.bind(null,n),r_:dD.bind(null,n),ta:cD.bind(null,n),na:hD.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Ap(n)):(await n.fa.stop(),n.Ta.length>0&&(ke(Vl,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,t,r,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=l,this.deferred=new wa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,l){const u=Date.now()+r,d=new Ov(e,t,u,s,l);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dv(n,e){if(po("AsyncQueue",`${e}: ${n}`),gc(n))return new Ae(he.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{static emptySet(e){return new Gu(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Fe.comparator(t.key,r.key):(t,r)=>Fe.comparator(t.key,r.key),this.keyedMap=th(),this.sortedSet=new qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Gu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=r.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Gu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(){this.ga=new qt(Fe.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ge(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class rc{constructor(e,t,r,s,l,u,d,p,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,r,s,l){const u=[];return t.forEach((d=>{u.push({type:0,doc:d})})),new rc(e,t,Gu.emptySet(t),u,r,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ep(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class mD{constructor(){this.queries=tE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=Xe(t),l=s.queries;s.queries=tE(),l.forEach(((u,d)=>{for(const p of d.Sa)p.onError(r)}))})(this,new Ae(he.ABORTED,"Firestore shutting down"))}}function tE(){return new Hl((n=>SS(n)),Ep)}async function sC(n,e){const t=Xe(n);let r=3;const s=e.query;let l=t.queries.get(s);l?!l.ba()&&e.Da()&&(r=2):(l=new pD,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(s,!0);break;case 1:l.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const d=Dv(u,`Initialization of query '${Ou(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Vv(t)}async function oC(n,e){const t=Xe(n),r=e.query;let s=3;const l=t.queries.get(r);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?s=e.Da()?0:1:!l.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function gD(n,e){const t=Xe(n);let r=!1;for(const s of e){const l=s.query,u=t.queries.get(l);if(u){for(const d of u.Sa)d.Fa(s)&&(r=!0);u.wa=s}}r&&Vv(t)}function yD(n,e,t){const r=Xe(n),s=r.queries.get(e);if(s)for(const l of s.Sa)l.onError(t);r.queries.delete(e)}function Vv(n){n.Ca.forEach((e=>{e.next()}))}var Cy,nE;(nE=Cy||(Cy={})).Ma="default",nE.Cache="cache";class aC{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new rc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=rc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.key=e}}class uC{constructor(e){this.key=e}}class vD{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=lt(),this.mutatedKeys=lt(),this.eu=CS(e),this.tu=new Gu(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new eE,s=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=s,d=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,y=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((v,T)=>{const S=s.get(v),b=xp(this.query,T)?T:null,V=!!S&&this.mutatedKeys.has(S.key),R=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let M=!1;S&&b?S.data.isEqual(b.data)?V!==R&&(r.track({type:3,doc:b}),M=!0):this.su(S,b)||(r.track({type:2,doc:b}),M=!0,(p&&this.eu(b,p)>0||y&&this.eu(b,y)<0)&&(d=!0)):!S&&b?(r.track({type:0,doc:b}),M=!0):S&&!b&&(r.track({type:1,doc:S}),M=!0,(p||y)&&(d=!0)),M&&(b?(u=u.add(b),l=R?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,T)=>(function(b,V){const R=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Rt:M})}};return R(b)-R(V)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(r),s=s??!1;const d=t&&!s?this._u():[],p=this.Xa.size===0&&this.current&&!s?1:0,y=p!==this.Za;return this.Za=p,u.length!==0||y?{snapshot:new rc(this.query,e.tu,l,u,e.mutatedKeys,p===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new eE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=lt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new uC(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new lC(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=lt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return rc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jv="SyncEngine";class _D{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class wD{constructor(e){this.key=e,this.hu=!1}}class TD{constructor(e,t,r,s,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Hl((d=>SS(d)),Ep),this.Iu=new Map,this.Eu=new Set,this.du=new qt(Fe.comparator),this.Au=new Map,this.Ru=new Iv,this.Vu={},this.mu=new Map,this.fu=nc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ED(n,e,t=!0){const r=mC(n);let s;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.lu()):s=await cC(r,e,t,!0),s}async function xD(n,e){const t=mC(n);await cC(t,e,!0,!1)}async function cC(n,e,t,r){const s=await HO(n.localStore,vs(e)),l=s.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let d;return r&&(d=await PD(n,e,l,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&JS(n.remoteStore,s),d}async function PD(n,e,t,r,s){n.pu=(T,S,b)=>(async function(R,M,Z,z){let H=M.view.ru(Z);H.Cs&&(H=await KT(R.localStore,M.query,!1).then((({documents:F})=>M.view.ru(F,H))));const J=z&&z.targetChanges.get(M.targetId),le=z&&z.targetMismatches.get(M.targetId)!=null,ce=M.view.applyChanges(H,R.isPrimaryClient,J,le);return iE(R,M.targetId,ce.au),ce.snapshot})(n,T,S,b);const l=await KT(n.localStore,e,!0),u=new vD(e,l.Qs),d=u.ru(l.documents),p=Wh.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),y=u.applyChanges(d,n.isPrimaryClient,p);iE(n,t,y.au);const v=new _D(e,t,u);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),y.snapshot}async function SD(n,e,t){const r=Xe(n),s=r.Tu.get(e),l=r.Iu.get(s.targetId);if(l.length>1)return r.Iu.set(s.targetId,l.filter((u=>!Ep(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Py(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&kv(r.remoteStore,s.targetId),Iy(r,s.targetId)})).catch(mc)):(Iy(r,s.targetId),await Py(r.localStore,s.targetId,!0))}async function CD(n,e){const t=Xe(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),kv(t.remoteStore,r.targetId))}async function ID(n,e,t){const r=MD(n);try{const s=await(function(u,d){const p=Xe(u),y=Mt.now(),v=d.reduce(((b,V)=>b.add(V.key)),lt());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let V=mo(),R=lt();return p.Ns.getEntries(b,v).next((M=>{V=M,V.forEach(((Z,z)=>{z.isValidDocument()||(R=R.add(Z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(b,V))).next((M=>{T=M;const Z=[];for(const z of d){const H=zM(z,T.get(z.key).overlayedDocument);H!=null&&Z.push(new Va(z.key,H,yS(H.value.mapValue),Vi.exists(!0)))}return p.mutationQueue.addMutationBatch(b,y,Z,d)})).next((M=>{S=M;const Z=M.applyToLocalDocumentSet(T,R);return p.documentOverlayCache.saveOverlays(b,M.batchId,Z)}))})).then((()=>({batchId:S.batchId,changes:bS(T)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(u,d,p){let y=u.Vu[u.currentUser.toKey()];y||(y=new qt(at)),y=y.insert(d,p),u.Vu[u.currentUser.toKey()]=y})(r,s.batchId,t),await qh(r,s.changes),await Ap(r.remoteStore)}catch(s){const l=Dv(s,"Failed to persist write");t.reject(l)}}async function hC(n,e){const t=Xe(n);try{const r=await BO(t.localStore,e);e.targetChanges.forEach(((s,l)=>{const u=t.Au.get(l);u&&(Et(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?Et(u.hu,14607):s.removedDocuments.size>0&&(Et(u.hu,42227),u.hu=!1))})),await qh(t,r,e)}catch(r){await mc(r)}}function rE(n,e,t){const r=Xe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((l,u)=>{const d=u.view.va(e);d.snapshot&&s.push(d.snapshot)})),(function(u,d){const p=Xe(u);p.onlineState=d;let y=!1;p.queries.forEach(((v,T)=>{for(const S of T.Sa)S.va(d)&&(y=!0)})),y&&Vv(p)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bD(n,e,t){const r=Xe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),l=s&&s.key;if(l){let u=new qt(Fe.comparator);u=u.insert(l,Kn.newNoDocument(l,Qe.min()));const d=lt().add(l),p=new Cp(Qe.min(),new Map,new qt(at),u,d);await hC(r,p),r.du=r.du.remove(l),r.Au.delete(e),Fv(r)}else await Py(r.localStore,e,!1).then((()=>Iy(r,e,t))).catch(mc)}async function AD(n,e){const t=Xe(n),r=e.batch.batchId;try{const s=await FO(t.localStore,e);fC(t,r,null),dC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await qh(t,s)}catch(s){await mc(s)}}async function RD(n,e,t){const r=Xe(n);try{const s=await(function(u,d){const p=Xe(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let v;return p.mutationQueue.lookupMutationBatch(y,d).next((T=>(Et(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(y,T)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v))).next((()=>p.localDocuments.getDocuments(y,v)))}))})(r.localStore,e);fC(r,e,t),dC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await qh(r,s)}catch(s){await mc(s)}}function dC(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function fC(n,e,t){const r=Xe(n);let s=r.Vu[r.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Iy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||pC(n,r)}))}function pC(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(kv(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Fv(n))}function iE(n,e,t){for(const r of t)r instanceof lC?(n.Ru.addReference(r.key,e),kD(n,r)):r instanceof uC?(ke(jv,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||pC(n,r.key)):Ge(19791,{wu:r})}function kD(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(ke(jv,"New document in limbo: "+t),n.Eu.add(r),Fv(n))}function Fv(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Fe(At.fromString(e)),r=n.fu.next();n.Au.set(r,new wD(t)),n.du=n.du.insert(t,r),JS(n.remoteStore,new ma(vs(Tv(t.path)),r,"TargetPurposeLimboResolution",_p.ce))}}async function qh(n,e,t){const r=Xe(n),s=[],l=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,p)=>{u.push(r.pu(p,e,t).then((y=>{if((y||t)&&r.isPrimaryClient){const v=y?!y.fromCache:t?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(y){s.push(y);const v=Av.As(p.targetId,y);l.push(v)}})))})),await Promise.all(u),r.Pu.H_(s),await(async function(p,y){const v=Xe(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>de.forEach(y,(S=>de.forEach(S.Es,(b=>v.persistence.referenceDelegate.addReference(T,S.targetId,b))).next((()=>de.forEach(S.ds,(b=>v.persistence.referenceDelegate.removeReference(T,S.targetId,b)))))))))}catch(T){if(!gc(T))throw T;ke(Rv,"Failed to update sequence numbers: "+T)}for(const T of y){const S=T.targetId;if(!T.fromCache){const b=v.Ms.get(S),V=b.snapshotVersion,R=b.withLastLimboFreeSnapshotVersion(V);v.Ms=v.Ms.insert(S,R)}}})(r.localStore,l))}async function ND(n,e){const t=Xe(n);if(!t.currentUser.isEqual(e)){ke(jv,"User change. New user:",e.toKey());const r=await ZS(t.localStore,e);t.currentUser=e,(function(l,u){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new Ae(he.CANCELLED,u))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qh(t,r.Ls)}}function LD(n,e){const t=Xe(n),r=t.Au.get(e);if(r&&r.hu)return lt().add(r.key);{let s=lt();const l=t.Iu.get(e);if(!l)return s;for(const u of l){const d=t.Tu.get(u);s=s.unionWith(d.view.nu)}return s}}function mC(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=hC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bD.bind(null,e),e.Pu.H_=gD.bind(null,e.eventManager),e.Pu.yu=yD.bind(null,e.eventManager),e}function MD(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RD.bind(null,e),e}class Xf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ip(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return jO(this.persistence,new OO,e.initialUser,this.serializer)}Cu(e){return new KS(bv.mi,this.serializer)}Du(e){return new $O}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xf.provider={build:()=>new Xf};class OD extends Xf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Et(this.persistence.referenceDelegate instanceof Qf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new wO(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Pr.withCacheSize(this.cacheSizeBytes):Pr.DEFAULT;return new KS((r=>Qf.mi(r,t)),this.serializer)}}class by{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ND.bind(null,this.syncEngine),await fD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new mD})()}createDatastore(e){const t=Ip(e.databaseInfo.databaseId),r=(function(l){return new QO(l)})(e.databaseInfo);return(function(l,u,d,p){return new eD(l,u,d,p)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,l,u,d){return new nD(r,s,l,u,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>rE(this.syncEngine,t,0)),(function(){return YT.v()?new YT:new qO})())}createSyncEngine(e,t){return(function(s,l,u,d,p,y,v){const T=new TD(s,l,u,d,p,y);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Xe(t);ke(Vl,"RemoteStore shutting down."),r.Ea.add(5),await $h(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}by.provider={build:()=>new by};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):po("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="FirestoreClient";class DD{constructor(e,t,r,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Gn.UNAUTHENTICATED,this.clientId=mv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async u=>{ke(ba,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ke(ba,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Dv(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ig(n,e){n.asyncQueue.verifyOperationInProgress(),ke(ba,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await ZS(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function sE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await VD(n);ke(ba,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>JT(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>JT(e.remoteStore,s))),n._onlineComponents=e}async function VD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ke(ba,"Using user provided OfflineComponentProvider");try{await Ig(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===he.FAILED_PRECONDITION||s.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Xu("Error using user provided cache. Falling back to memory cache: "+t),await Ig(n,new Xf)}}else ke(ba,"Using default OfflineComponentProvider"),await Ig(n,new OD(void 0));return n._offlineComponents}async function yC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ke(ba,"Using user provided OnlineComponentProvider"),await sE(n,n._uninitializedComponentsProvider._online)):(ke(ba,"Using default OnlineComponentProvider"),await sE(n,new by))),n._onlineComponents}function jD(n){return yC(n).then((e=>e.syncEngine))}async function Ay(n){const e=await yC(n),t=e.eventManager;return t.onListen=ED.bind(null,e.syncEngine),t.onUnlisten=SD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=xD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=CD.bind(null,e.syncEngine),t}function FD(n,e,t={}){const r=new wa;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,d,p,y){const v=new gC({next:S=>{v.Nu(),u.enqueueAndForget((()=>oC(l,T))),S.fromCache&&p.source==="server"?y.reject(new Ae(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new aC(d,v,{includeMetadataChanges:!0,qa:!0});return sC(l,T)})(await Ay(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="firestore.googleapis.com",aE=!0;class lE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_C,this.ssl=aE}else this.host=e.host,this.ssl=e.ssl??aE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vO)throw new Ae(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vC(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ae(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ae(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ae(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rp{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new q2;switch(r.type){case"firstParty":return new Q2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=oE.get(t);r&&(ke("ComponentProvider","Removing Datastore"),oE.delete(t),r.terminate())})(this),Promise.resolve()}}function BD(n,e,t,r={}){n=ys(n,Rp);const s=hc(e),l=n._getSettings(),u={...l,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;s&&(cP(`https://${d}`),hP("Firestore",!0)),l.host!==_C&&l.host!==d&&Xu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:d,ssl:s,emulatorOptions:r};if(!Nl(p,u)&&(n._setSettings(p),r.mockUserToken)){let y,v;if(typeof r.mockUserToken=="string")y=r.mockUserToken,v=Gn.MOCK_USER;else{y=nk(r.mockUserToken,n._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new Ae(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Gn(T)}n._authCredentials=new G2(new sS(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $l(this.firestore,e,this._query)}}class un{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}toJSON(){return{type:un._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Uh(t,un._jsonSchema))return new un(e,r||null,new Fe(At.fromString(t.referencePath)))}}un._jsonSchemaVersion="firestore/documentReference/1.0",un._jsonSchema={type:ln("string",un._jsonSchemaVersion),referencePath:ln("string")};class Ta extends $l{constructor(e,t,r){super(e,t,Tv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new Fe(e))}withConverter(e){return new Ta(this.firestore,e,this._path)}}function Pn(n,e,...t){if(n=gn(n),oS("collection","path",e),n instanceof Rp){const r=At.fromString(e,...t);return TT(r),new Ta(n,null,r)}{if(!(n instanceof un||n instanceof Ta))throw new Ae(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(At.fromString(e,...t));return TT(r),new Ta(n.firestore,null,r)}}function Sr(n,e,...t){if(n=gn(n),arguments.length===1&&(e=mv.newId()),oS("doc","path",e),n instanceof Rp){const r=At.fromString(e,...t);return wT(r),new un(n,null,new Fe(r))}{if(!(n instanceof un||n instanceof Ta))throw new Ae(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(At.fromString(e,...t));return wT(r),new un(n.firestore,n instanceof Ta?n.converter:null,new Fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="AsyncQueue";class cE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new YS(this,"async_queue_retry"),this._c=()=>{const r=Cg();r&&ke(uE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Cg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Cg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new wa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!gc(e))throw e;ke(uE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,po("INTERNAL UNHANDLED ERROR: ",hE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=Ov.createAndSchedule(this,e,t,r,(l=>this.hc(l)));return this.tc.push(s),s}uc(){this.nc&&Ge(47125,{Pc:hE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function hE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const l of r)if(l in s&&typeof s[l]=="function")return!0;return!1})(n,["next","error","complete"])}class jl extends Rp{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new cE,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cE(e),this._firestoreClient=void 0,await e}}}function UD(n,e){const t=typeof n=="object"?n:mP(),r=typeof n=="string"?n:Hf,s=sv(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const l=ek("firestore");l&&BD(s,...l)}return s}function Bv(n){if(n._terminated)throw new Ae(he.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||zD(n),n._firestoreClient}function zD(n){const e=n._freezeSettings(),t=(function(s,l,u,d){return new fM(s,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,vC(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new DD(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const l=s?._online.build();return{_offline:s?._offline.build(l),_online:l}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vi(Ln.fromBase64String(e))}catch(t){throw new Ae(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vi(Ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Uh(e,vi._jsonSchema))return vi.fromBase64String(e.bytes)}}vi._jsonSchemaVersion="firestore/bytes/1.0",vi._jsonSchema={type:ln("string",vi._jsonSchemaVersion),bytes:ln("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ae(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ws._jsonSchemaVersion}}static fromJSON(e){if(Uh(e,ws._jsonSchema))return new ws(e.latitude,e.longitude)}}ws._jsonSchemaVersion="firestore/geoPoint/1.0",ws._jsonSchema={type:ln("string",ws._jsonSchemaVersion),latitude:ln("number"),longitude:ln("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==s[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ts._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Uh(e,Ts._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ts(e.vectorValues);throw new Ae(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ts._jsonSchemaVersion="firestore/vectorValue/1.0",Ts._jsonSchema={type:ln("string",Ts._jsonSchemaVersion),vectorValues:ln("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=/^__.*__$/;class WD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Va(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hh(e,this.data,t,this.fieldTransforms)}}class wC{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Va(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function TC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{Ac:n})}}class zv{constructor(e,t,r,s,l,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new zv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Jf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(TC(this.Ac)&&HD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class $D{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ip(e)}Cc(e,t,r,s=!1){return new zv({Ac:e,methodName:t,Dc:r,path:Nn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hv(n){const e=n._freezeSettings(),t=Ip(n._databaseId);return new $D(n._databaseId,!!e.ignoreUndefinedProperties,t)}function qD(n,e,t,r,s,l={}){const u=n.Cc(l.merge||l.mergeFields?2:0,e,t,s);Wv("Data must be an object, but it was:",u,r);const d=EC(r,u);let p,y;if(l.merge)p=new Fr(u.fieldMask),y=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const T of l.mergeFields){const S=Ry(e,T,t);if(!u.contains(S))throw new Ae(he.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);PC(v,S)||v.push(S)}p=new Fr(v),y=u.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,y=u.fieldTransforms;return new WD(new Cr(d),p,y)}class Np extends Uv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Np}}function GD(n,e,t,r){const s=n.Cc(1,e,t);Wv("Data must be an object, but it was:",s,r);const l=[],u=Cr.empty();Da(r,((p,y)=>{const v=$v(e,p,t);y=gn(y);const T=s.yc(v);if(y instanceof Np)l.push(v);else{const S=Gh(y,T);S!=null&&(l.push(v),u.set(v,S))}}));const d=new Fr(l);return new wC(u,d,s.fieldTransforms)}function KD(n,e,t,r,s,l){const u=n.Cc(1,e,t),d=[Ry(e,r,t)],p=[s];if(l.length%2!=0)throw new Ae(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)d.push(Ry(e,l[S])),p.push(l[S+1]);const y=[],v=Cr.empty();for(let S=d.length-1;S>=0;--S)if(!PC(y,d[S])){const b=d[S];let V=p[S];V=gn(V);const R=u.yc(b);if(V instanceof Np)y.push(b);else{const M=Gh(V,R);M!=null&&(y.push(b),v.set(b,M))}}const T=new Fr(y);return new wC(v,T,u.fieldTransforms)}function ZD(n,e,t,r=!1){return Gh(t,n.Cc(r?4:3,e))}function Gh(n,e){if(xC(n=gn(n)))return Wv("Unsupported field value:",e,n),EC(n,e);if(n instanceof Uv)return(function(r,s){if(!TC(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(s);l&&s.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const l=[];let u=0;for(const d of r){let p=Gh(d,s.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}})(n,e)}return(function(r,s){if((r=gn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return DM(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Mt.fromDate(r);return{timestampValue:Zf(s.serializer,l)}}if(r instanceof Mt){const l=new Mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zf(s.serializer,l)}}if(r instanceof ws)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vi)return{bytesValue:BS(s.serializer,r._byteString)};if(r instanceof un){const l=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw s.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Cv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ts)return(function(u,d){return{mapValue:{fields:{[mS]:{stringValue:gS},[Wf]:{arrayValue:{values:u.toArray().map((y=>{if(typeof y!="number")throw d.Sc("VectorValues must only contain numeric values.");return Ev(d.serializer,y)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${vp(r)}`)})(n,e)}function EC(n,e){const t={};return uS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Da(n,((r,s)=>{const l=Gh(s,e.mc(r));l!=null&&(t[r]=l)})),{mapValue:{fields:t}}}function xC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Mt||n instanceof ws||n instanceof vi||n instanceof un||n instanceof Uv||n instanceof Ts)}function Wv(n,e,t){if(!xC(t)||!aS(t)){const r=vp(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Ry(n,e,t){if((e=gn(e))instanceof kp)return e._internalPath;if(typeof e=="string")return $v(n,e);throw Jf("Field path arguments must be of type string or ",n,!1,void 0,t)}const QD=new RegExp("[~\\*/\\[\\]]");function $v(n,e,t){if(e.search(QD)>=0)throw Jf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new kp(...e.split("."))._internalPath}catch{throw Jf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Jf(n,e,t,r,s){const l=r&&!r.isEmpty(),u=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${r}`),u&&(p+=` in document ${s}`),p+=")"),new Ae(he.INVALID_ARGUMENT,d+n+p)}function PC(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,t,r,s,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(qv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class YD extends SC{data(){return super.data()}}function qv(n,e){return typeof e=="string"?$v(n,e):e instanceof kp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ae(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gv{}class XD extends Gv{}function Es(n,e,...t){let r=[];e instanceof Gv&&r.push(e),r=r.concat(t),(function(l){const u=l.filter((p=>p instanceof Zv)).length,d=l.filter((p=>p instanceof Lp)).length;if(u>1||u>0&&d>0)throw new Ae(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class Lp extends XD{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Lp(e,t,r)}_apply(e){const t=this._parse(e);return IC(e._query,t),new $l(e.firestore,e.converter,vy(e._query,t))}_parse(e){const t=Hv(e.firestore);return(function(l,u,d,p,y,v,T){let S;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Ae(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){pE(T,v);const V=[];for(const R of T)V.push(fE(p,l,R));S={arrayValue:{values:V}}}else S=fE(p,l,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||pE(T,v),S=ZD(d,u,T,v==="in"||v==="not-in");return an.create(y,v,S)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Kv(n,e,t){const r=e,s=qv("where",n);return Lp._create(s,r,t)}class Zv extends Gv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Zv(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Fi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,l){let u=s;const d=l.getFlattenedFilters();for(const p of d)IC(u,p),u=vy(u,p)})(e._query,t),new $l(e.firestore,e.converter,vy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function fE(n,e,t){if(typeof(t=gn(t))=="string"){if(t==="")throw new Ae(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PS(e)&&t.indexOf("/")!==-1)throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(At.fromString(t));if(!Fe.isDocumentKey(r))throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return AT(n,new Fe(r))}if(t instanceof un)return AT(n,t._key);throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vp(t)}.`)}function pE(n,e){if(!Array.isArray(n)||n.length===0)throw new Ae(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IC(n,e){const t=(function(s,l){for(const u of s)for(const d of u.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ae(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class JD{convertValue(e,t="none"){switch(Ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Sa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Da(e,((s,l)=>{r[s]=this.convertValue(l,t)})),r}convertVectorValue(e){const t=e.fields?.[Wf].arrayValue?.values?.map((r=>Xt(r.doubleValue)));return new Ts(t)}convertGeoPoint(e){return new ws(Xt(e.latitude),Xt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Tp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(xh(e));default:return null}}convertTimestamp(e){const t=Pa(e);return new Mt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=At.fromString(e);Et(qS(r),9688,{name:e});const s=new Ph(r.get(1),r.get(3)),l=new Fe(r.popFirst(5));return s.isEqual(t)||po(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class rh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bl extends SC{constructor(e,t,r,s,l,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(qv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=bl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}bl._jsonSchemaVersion="firestore/documentSnapshot/1.0",bl._jsonSchema={type:ln("string",bl._jsonSchemaVersion),bundleSource:ln("string","DocumentSnapshot"),bundleName:ln("string"),bundle:ln("string")};class bf extends bl{data(e={}){return super.data(e)}}class Al{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new rh(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new bf(this._firestore,this._userDataWriter,r.key,r,new rh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,l){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((d=>{const p=new bf(s._firestore,s._userDataWriter,d.doc.key,d.doc,new rh(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new bf(s._firestore,s._userDataWriter,d.doc.key,d.doc,new rh(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let y=-1,v=-1;return d.type!==0&&(y=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:tV(d.type),doc:p,oldIndex:y,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Al._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=mv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),s.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:n})}}Al._jsonSchemaVersion="firestore/querySnapshot/1.0",Al._jsonSchema={type:ln("string",Al._jsonSchemaVersion),bundleSource:ln("string","QuerySnapshot"),bundleName:ln("string"),bundle:ln("string")};class Qv extends JD{constructor(e){super(),this.firestore=e}convertBytes(e){return new vi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,t)}}function bC(n){n=ys(n,$l);const e=ys(n.firestore,jl),t=Bv(e),r=new Qv(e);return CC(n._query),FD(t,n._query).then((s=>new Al(e,r,n,s)))}function Ku(n,e,t,...r){n=ys(n,un);const s=ys(n.firestore,jl),l=Hv(s);let u;return u=typeof(e=gn(e))=="string"||e instanceof kp?KD(l,"updateDoc",n._key,e,t,r):GD(l,"updateDoc",n._key,e),Yv(s,[u.toMutation(n._key,Vi.exists(!0))])}function Rl(n){return Yv(ys(n.firestore,jl),[new xv(n._key,Vi.none())])}function Aa(n,e){const t=ys(n.firestore,jl),r=Sr(n),s=eV(n.converter,e);return Yv(t,[qD(Hv(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Vi.exists(!1))]).then((()=>r))}function Ra(n,...e){n=gn(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||dE(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(dE(e[r])){const p=e[r];e[r]=p.next?.bind(p),e[r+1]=p.error?.bind(p),e[r+2]=p.complete?.bind(p)}let l,u,d;if(n instanceof un)u=ys(n.firestore,jl),d=Tv(n._key.path),l={next:p=>{e[r]&&e[r](nV(u,n,p))},error:e[r+1],complete:e[r+2]};else{const p=ys(n,$l);u=ys(p.firestore,jl),d=p._query;const y=new Qv(u);l={next:v=>{e[r]&&e[r](new Al(u,y,p,v))},error:e[r+1],complete:e[r+2]},CC(n._query)}return(function(y,v,T,S){const b=new gC(S),V=new aC(v,b,T);return y.asyncQueue.enqueueAndForget((async()=>sC(await Ay(y),V))),()=>{b.Nu(),y.asyncQueue.enqueueAndForget((async()=>oC(await Ay(y),V)))}})(Bv(u),d,s,l)}function Yv(n,e){return(function(r,s){const l=new wa;return r.asyncQueue.enqueueAndForget((async()=>ID(await jD(r),s,l))),l.promise})(Bv(n),e)}function nV(n,e,t){const r=t.docs.get(e._key),s=new Qv(n);return new bl(n,s,e._key,r,new rh(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){pc=s})(dc),Yu(new Ll("firestore",((r,{instanceIdentifier:s,options:l})=>{const u=r.getProvider("app").getImmediate(),d=new jl(new K2(r.getProvider("auth-internal")),new Y2(u,r.getProvider("app-check-internal")),(function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Ae(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ph(y.options.projectId,v)})(u,s),u);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),va(gT,yT,e),va(gT,yT,"esm2020")})();const AC=A.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),Mp=A.createContext({}),Op=A.createContext(null),Dp=typeof document<"u",Xv=Dp?A.useLayoutEffect:A.useEffect,RC=A.createContext({strict:!1}),Jv=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),rV="framerAppearId",kC="data-"+Jv(rV);function iV(n,e,t,r){const{visualElement:s}=A.useContext(Mp),l=A.useContext(RC),u=A.useContext(Op),d=A.useContext(AC).reducedMotion,p=A.useRef();r=r||l.renderer,!p.current&&r&&(p.current=r(n,{visualState:e,parent:s,props:t,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const y=p.current;A.useInsertionEffect(()=>{y&&y.update(t,u)});const v=A.useRef(!!(t[kC]&&!window.HandoffComplete));return Xv(()=>{y&&(y.render(),v.current&&y.animationState&&y.animationState.animateChanges())}),A.useEffect(()=>{y&&(y.updateFeatures(),!v.current&&y.animationState&&y.animationState.animateChanges(),v.current&&(v.current=!1,window.HandoffComplete=!0))}),y}function Fu(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function sV(n,e,t){return A.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Fu(t)&&(t.current=r))},[e])}function bh(n){return typeof n=="string"||Array.isArray(n)}function Vp(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const e_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],t_=["initial",...e_];function jp(n){return Vp(n.animate)||t_.some(e=>bh(n[e]))}function NC(n){return!!(jp(n)||n.variants)}function oV(n,e){if(jp(n)){const{initial:t,animate:r}=n;return{initial:t===!1||bh(t)?t:void 0,animate:bh(r)?r:void 0}}return n.inherit!==!1?e:{}}function aV(n){const{initial:e,animate:t}=oV(n,A.useContext(Mp));return A.useMemo(()=>({initial:e,animate:t}),[mE(e),mE(t)])}function mE(n){return Array.isArray(n)?n.join(" "):n}const gE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ah={};for(const n in gE)Ah[n]={isEnabled:e=>gE[n].some(t=>!!e[t])};function lV(n){for(const e in n)Ah[e]={...Ah[e],...n[e]}}const n_=A.createContext({}),LC=A.createContext({}),uV=Symbol.for("motionComponentSymbol");function cV({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:s}){n&&lV(n);function l(d,p){let y;const v={...A.useContext(AC),...d,layoutId:hV(d)},{isStatic:T}=v,S=aV(d),b=r(d,T);if(!T&&Dp){S.visualElement=iV(s,b,v,e);const V=A.useContext(LC),R=A.useContext(RC).strict;S.visualElement&&(y=S.visualElement.loadFeatures(v,R,n,V))}return A.createElement(Mp.Provider,{value:S},y&&S.visualElement?A.createElement(y,{visualElement:S.visualElement,...v}):null,t(s,d,sV(b,S.visualElement,p),b,T,S.visualElement))}const u=A.forwardRef(l);return u[uV]=s,u}function hV({layoutId:n}){const e=A.useContext(n_).id;return e&&n!==void 0?e+"-"+n:n}function dV(n){function e(r,s={}){return cV(n(r,s))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,s)=>(t.has(s)||t.set(s,e(s)),t.get(s))})}const fV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function r_(n){return typeof n!="string"||n.includes("-")?!1:!!(fV.indexOf(n)>-1||/[A-Z]/.test(n))}const ep={};function pV(n){Object.assign(ep,n)}const Kh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ql=new Set(Kh);function MC(n,{layout:e,layoutId:t}){return ql.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!ep[n]||n==="opacity")}const Ir=n=>!!(n&&n.getVelocity),mV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gV=Kh.length;function yV(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},r,s){let l="";for(let u=0;u<gV;u++){const d=Kh[u];if(n[d]!==void 0){const p=mV[d]||d;l+=`${p}(${n[d]}) `}}return e&&!n.z&&(l+="translateZ(0)"),l=l.trim(),s?l=s(n,r?"":l):t&&r&&(l="none"),l}const OC=n=>e=>typeof e=="string"&&e.startsWith(n),DC=OC("--"),ky=OC("var(--"),vV=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,_V=(n,e)=>e&&typeof n=="number"?e.transform(n):n,ka=(n,e,t)=>Math.min(Math.max(t,n),e),Gl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},dh={...Gl,transform:n=>ka(0,1,n)},af={...Gl,default:1},fh=n=>Math.round(n*1e5)/1e5,Fp=/(-)?([\d]*\.?[\d])+/g,VC=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,wV=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Zh(n){return typeof n=="string"}const Qh=n=>({test:e=>Zh(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),aa=Qh("deg"),xs=Qh("%"),$e=Qh("px"),TV=Qh("vh"),EV=Qh("vw"),yE={...xs,parse:n=>xs.parse(n)/100,transform:n=>xs.transform(n*100)},vE={...Gl,transform:Math.round},jC={borderWidth:$e,borderTopWidth:$e,borderRightWidth:$e,borderBottomWidth:$e,borderLeftWidth:$e,borderRadius:$e,radius:$e,borderTopLeftRadius:$e,borderTopRightRadius:$e,borderBottomRightRadius:$e,borderBottomLeftRadius:$e,width:$e,maxWidth:$e,height:$e,maxHeight:$e,size:$e,top:$e,right:$e,bottom:$e,left:$e,padding:$e,paddingTop:$e,paddingRight:$e,paddingBottom:$e,paddingLeft:$e,margin:$e,marginTop:$e,marginRight:$e,marginBottom:$e,marginLeft:$e,rotate:aa,rotateX:aa,rotateY:aa,rotateZ:aa,scale:af,scaleX:af,scaleY:af,scaleZ:af,skew:aa,skewX:aa,skewY:aa,distance:$e,translateX:$e,translateY:$e,translateZ:$e,x:$e,y:$e,z:$e,perspective:$e,transformPerspective:$e,opacity:dh,originX:yE,originY:yE,originZ:$e,zIndex:vE,fillOpacity:dh,strokeOpacity:dh,numOctaves:vE};function i_(n,e,t,r){const{style:s,vars:l,transform:u,transformOrigin:d}=n;let p=!1,y=!1,v=!0;for(const T in e){const S=e[T];if(DC(T)){l[T]=S;continue}const b=jC[T],V=_V(S,b);if(ql.has(T)){if(p=!0,u[T]=V,!v)continue;S!==(b.default||0)&&(v=!1)}else T.startsWith("origin")?(y=!0,d[T]=V):s[T]=V}if(e.transform||(p||r?s.transform=yV(n.transform,t,v,r):s.transform&&(s.transform="none")),y){const{originX:T="50%",originY:S="50%",originZ:b=0}=d;s.transformOrigin=`${T} ${S} ${b}`}}const s_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function FC(n,e,t){for(const r in e)!Ir(e[r])&&!MC(r,t)&&(n[r]=e[r])}function xV({transformTemplate:n},e,t){return A.useMemo(()=>{const r=s_();return i_(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function PV(n,e,t){const r=n.style||{},s={};return FC(s,r,n),Object.assign(s,xV(n,e,t)),n.transformValues?n.transformValues(s):s}function SV(n,e,t){const r={},s=PV(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=s,r}const CV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function tp(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||CV.has(n)}let BC=n=>!tp(n);function IV(n){n&&(BC=e=>e.startsWith("on")?!tp(e):n(e))}try{IV(require("@emotion/is-prop-valid").default)}catch{}function bV(n,e,t){const r={};for(const s in n)s==="values"&&typeof n.values=="object"||(BC(s)||t===!0&&tp(s)||!e&&!tp(s)||n.draggable&&s.startsWith("onDrag"))&&(r[s]=n[s]);return r}function _E(n,e,t){return typeof n=="string"?n:$e.transform(e+t*n)}function AV(n,e,t){const r=_E(e,n.x,n.width),s=_E(t,n.y,n.height);return`${r} ${s}`}const RV={offset:"stroke-dashoffset",array:"stroke-dasharray"},kV={offset:"strokeDashoffset",array:"strokeDasharray"};function NV(n,e,t=1,r=0,s=!0){n.pathLength=1;const l=s?RV:kV;n[l.offset]=$e.transform(-r);const u=$e.transform(e),d=$e.transform(t);n[l.array]=`${u} ${d}`}function o_(n,{attrX:e,attrY:t,attrScale:r,originX:s,originY:l,pathLength:u,pathSpacing:d=1,pathOffset:p=0,...y},v,T,S){if(i_(n,y,v,S),T){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:b,style:V,dimensions:R}=n;b.transform&&(R&&(V.transform=b.transform),delete b.transform),R&&(s!==void 0||l!==void 0||V.transform)&&(V.transformOrigin=AV(R,s!==void 0?s:.5,l!==void 0?l:.5)),e!==void 0&&(b.x=e),t!==void 0&&(b.y=t),r!==void 0&&(b.scale=r),u!==void 0&&NV(b,u,d,p,!1)}const UC=()=>({...s_(),attrs:{}}),a_=n=>typeof n=="string"&&n.toLowerCase()==="svg";function LV(n,e,t,r){const s=A.useMemo(()=>{const l=UC();return o_(l,e,{enableHardwareAcceleration:!1},a_(r),n.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};FC(l,n.style,n),s.style={...l,...s.style}}return s}function MV(n=!1){return(t,r,s,{latestValues:l},u)=>{const p=(r_(t)?LV:SV)(r,l,u,t),v={...bV(r,typeof t=="string",n),...p,ref:s},{children:T}=r,S=A.useMemo(()=>Ir(T)?T.get():T,[T]);return A.createElement(t,{...v,children:S})}}function zC(n,{style:e,vars:t},r,s){Object.assign(n.style,e,s&&s.getProjectionStyles(r));for(const l in t)n.style.setProperty(l,t[l])}const HC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function WC(n,e,t,r){zC(n,e,void 0,r);for(const s in e.attrs)n.setAttribute(HC.has(s)?s:Jv(s),e.attrs[s])}function l_(n,e){const{style:t}=n,r={};for(const s in t)(Ir(t[s])||e.style&&Ir(e.style[s])||MC(s,n))&&(r[s]=t[s]);return r}function $C(n,e){const t=l_(n,e);for(const r in n)if(Ir(n[r])||Ir(e[r])){const s=Kh.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;t[s]=n[r]}return t}function u_(n,e,t,r={},s={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,s)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,s)),e}function qC(n){const e=A.useRef(null);return e.current===null&&(e.current=n()),e.current}const np=n=>Array.isArray(n),OV=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),DV=n=>np(n)?n[n.length-1]||0:n;function Af(n){const e=Ir(n)?n.get():n;return OV(e)?e.toValue():e}function VV({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,s,l){const u={latestValues:jV(r,s,l,n),renderState:e()};return t&&(u.mount=d=>t(r,d,u)),u}const GC=n=>(e,t)=>{const r=A.useContext(Mp),s=A.useContext(Op),l=()=>VV(n,e,r,s);return t?l():qC(l)};function jV(n,e,t,r){const s={},l=r(n,{});for(const S in l)s[S]=Af(l[S]);let{initial:u,animate:d}=n;const p=jp(n),y=NC(n);e&&y&&!p&&n.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let v=t?t.initial===!1:!1;v=v||u===!1;const T=v?d:u;return T&&typeof T!="boolean"&&!Vp(T)&&(Array.isArray(T)?T:[T]).forEach(b=>{const V=u_(n,b);if(!V)return;const{transitionEnd:R,transition:M,...Z}=V;for(const z in Z){let H=Z[z];if(Array.isArray(H)){const J=v?H.length-1:0;H=H[J]}H!==null&&(s[z]=H)}for(const z in R)s[z]=R[z]}),s}const Jt=n=>n;class wE{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function FV(n){let e=new wE,t=new wE,r=0,s=!1,l=!1;const u=new WeakSet,d={schedule:(p,y=!1,v=!1)=>{const T=v&&s,S=T?e:t;return y&&u.add(p),S.add(p)&&T&&s&&(r=e.order.length),p},cancel:p=>{t.remove(p),u.delete(p)},process:p=>{if(s){l=!0;return}if(s=!0,[e,t]=[t,e],t.clear(),r=e.order.length,r)for(let y=0;y<r;y++){const v=e.order[y];v(p),u.has(v)&&(d.schedule(v),n())}s=!1,l&&(l=!1,d.process(p))}};return d}const lf=["prepare","read","update","preRender","render","postRender"],BV=40;function UV(n,e){let t=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},l=lf.reduce((T,S)=>(T[S]=FV(()=>t=!0),T),{}),u=T=>l[T].process(s),d=()=>{const T=performance.now();t=!1,s.delta=r?1e3/60:Math.max(Math.min(T-s.timestamp,BV),1),s.timestamp=T,s.isProcessing=!0,lf.forEach(u),s.isProcessing=!1,t&&e&&(r=!1,n(d))},p=()=>{t=!0,r=!0,s.isProcessing||n(d)};return{schedule:lf.reduce((T,S)=>{const b=l[S];return T[S]=(V,R=!1,M=!1)=>(t||p(),b.schedule(V,R,M)),T},{}),cancel:T=>lf.forEach(S=>l[S].cancel(T)),state:s,steps:l}}const{schedule:Rt,cancel:go,state:qn,steps:bg}=UV(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jt,!0),zV={useVisualState:GC({scrapeMotionValuesFromProps:$C,createRenderState:UC,onMount:(n,e,{renderState:t,latestValues:r})=>{Rt.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),Rt.render(()=>{o_(t,r,{enableHardwareAcceleration:!1},a_(e.tagName),n.transformTemplate),WC(e,t)})}})},HV={useVisualState:GC({scrapeMotionValuesFromProps:l_,createRenderState:s_})};function WV(n,{forwardMotionProps:e=!1},t,r){return{...r_(n)?zV:HV,preloadedFeatures:t,useRender:MV(e),createVisualElement:r,Component:n}}function ao(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const KC=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function Bp(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const $V=n=>e=>KC(e)&&n(e,Bp(e));function uo(n,e,t,r){return ao(n,e,$V(t),r)}const qV=(n,e)=>t=>e(n(t)),Ea=(...n)=>n.reduce(qV);function ZC(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const TE=ZC("dragHorizontal"),EE=ZC("dragVertical");function QC(n){let e=!1;if(n==="y")e=EE();else if(n==="x")e=TE();else{const t=TE(),r=EE();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function YC(){const n=QC(!0);return n?(n(),!1):!0}class ja{constructor(e){this.isMounted=!1,this.node=e}update(){}}function xE(n,e){const t="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(l,u)=>{if(l.pointerType==="touch"||YC())return;const d=n.getProps();n.animationState&&d.whileHover&&n.animationState.setActive("whileHover",e),d[r]&&Rt.update(()=>d[r](l,u))};return uo(n.current,t,s,{passive:!n.getProps()[r]})}class GV extends ja{mount(){this.unmount=Ea(xE(this.node,!0),xE(this.node,!1))}unmount(){}}class KV extends ja{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ea(ao(this.node.current,"focus",()=>this.onFocus()),ao(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const XC=(n,e)=>e?n===e?!0:XC(n,e.parentElement):!1;function Ag(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,Bp(t))}class ZV extends ja{constructor(){super(...arguments),this.removeStartListeners=Jt,this.removeEndListeners=Jt,this.removeAccessibleListeners=Jt,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),l=uo(window,"pointerup",(d,p)=>{if(!this.checkPressEnd())return;const{onTap:y,onTapCancel:v,globalTapTarget:T}=this.node.getProps();Rt.update(()=>{!T&&!XC(this.node.current,d.target)?v&&v(d,p):y&&y(d,p)})},{passive:!(r.onTap||r.onPointerUp)}),u=uo(window,"pointercancel",(d,p)=>this.cancelPress(d,p),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ea(l,u),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=l=>{if(l.key!=="Enter"||this.isPressing)return;const u=d=>{d.key!=="Enter"||!this.checkPressEnd()||Ag("up",(p,y)=>{const{onTap:v}=this.node.getProps();v&&Rt.update(()=>v(p,y))})};this.removeEndListeners(),this.removeEndListeners=ao(this.node.current,"keyup",u),Ag("down",(d,p)=>{this.startPress(d,p)})},t=ao(this.node.current,"keydown",e),r=()=>{this.isPressing&&Ag("cancel",(l,u)=>this.cancelPress(l,u))},s=ao(this.node.current,"blur",r);this.removeAccessibleListeners=Ea(t,s)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Rt.update(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!YC()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Rt.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=uo(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ao(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ea(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Ny=new WeakMap,Rg=new WeakMap,QV=n=>{const e=Ny.get(n.target);e&&e(n)},YV=n=>{n.forEach(QV)};function XV({root:n,...e}){const t=n||document;Rg.has(t)||Rg.set(t,{});const r=Rg.get(t),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(YV,{root:n,...e})),r[s]}function JV(n,e,t){const r=XV(e);return Ny.set(n,t),r.observe(n),()=>{Ny.delete(n),r.unobserve(n)}}const ej={some:0,all:1};class tj extends ja{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:s="some",once:l}=e,u={root:t?t.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:ej[s]},d=p=>{const{isIntersecting:y}=p;if(this.isInView===y||(this.isInView=y,l&&!y&&this.hasEnteredView))return;y&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",y);const{onViewportEnter:v,onViewportLeave:T}=this.node.getProps(),S=y?v:T;S&&S(p)};return JV(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(nj(e,t))&&this.startObserver()}unmount(){}}function nj({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const rj={inView:{Feature:tj},tap:{Feature:ZV},focus:{Feature:KV},hover:{Feature:GV}};function JC(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function ij(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function sj(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function Up(n,e,t){const r=n.getProps();return u_(r,e,t!==void 0?t:r.custom,ij(n),sj(n))}let c_=Jt;const kl=n=>n*1e3,co=n=>n/1e3,oj={current:!1},eI=n=>Array.isArray(n)&&typeof n[0]=="number";function tI(n){return!!(!n||typeof n=="string"&&nI[n]||eI(n)||Array.isArray(n)&&n.every(tI))}const ih=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,nI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ih([0,.65,.55,1]),circOut:ih([.55,0,1,.45]),backIn:ih([.31,.01,.66,-.59]),backOut:ih([.33,1.53,.69,.99])};function rI(n){if(n)return eI(n)?ih(n):Array.isArray(n)?n.map(rI):nI[n]}function aj(n,e,t,{delay:r=0,duration:s,repeat:l=0,repeatType:u="loop",ease:d,times:p}={}){const y={[e]:t};p&&(y.offset=p);const v=rI(d);return Array.isArray(v)&&(y.easing=v),n.animate(y,{delay:r,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"})}function lj(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const iI=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,uj=1e-7,cj=12;function hj(n,e,t,r,s){let l,u,d=0;do u=e+(t-e)/2,l=iI(u,r,s)-n,l>0?t=u:e=u;while(Math.abs(l)>uj&&++d<cj);return u}function Yh(n,e,t,r){if(n===e&&t===r)return Jt;const s=l=>hj(l,0,1,n,t);return l=>l===0||l===1?l:iI(s(l),e,r)}const dj=Yh(.42,0,1,1),fj=Yh(0,0,.58,1),sI=Yh(.42,0,.58,1),pj=n=>Array.isArray(n)&&typeof n[0]!="number",oI=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,aI=n=>e=>1-n(1-e),h_=n=>1-Math.sin(Math.acos(n)),lI=aI(h_),mj=oI(h_),uI=Yh(.33,1.53,.69,.99),d_=aI(uI),gj=oI(d_),yj=n=>(n*=2)<1?.5*d_(n):.5*(2-Math.pow(2,-10*(n-1))),vj={linear:Jt,easeIn:dj,easeInOut:sI,easeOut:fj,circIn:h_,circInOut:mj,circOut:lI,backIn:d_,backInOut:gj,backOut:uI,anticipate:yj},PE=n=>{if(Array.isArray(n)){c_(n.length===4);const[e,t,r,s]=n;return Yh(e,t,r,s)}else if(typeof n=="string")return vj[n];return n},f_=(n,e)=>t=>!!(Zh(t)&&wV.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),cI=(n,e,t)=>r=>{if(!Zh(r))return r;const[s,l,u,d]=r.match(Fp);return{[n]:parseFloat(s),[e]:parseFloat(l),[t]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},_j=n=>ka(0,255,n),kg={...Gl,transform:n=>Math.round(_j(n))},Pl={test:f_("rgb","red"),parse:cI("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+kg.transform(n)+", "+kg.transform(e)+", "+kg.transform(t)+", "+fh(dh.transform(r))+")"};function wj(n){let e="",t="",r="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Ly={test:f_("#"),parse:wj,transform:Pl.transform},Bu={test:f_("hsl","hue"),parse:cI("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+xs.transform(fh(e))+", "+xs.transform(fh(t))+", "+fh(dh.transform(r))+")"},lr={test:n=>Pl.test(n)||Ly.test(n)||Bu.test(n),parse:n=>Pl.test(n)?Pl.parse(n):Bu.test(n)?Bu.parse(n):Ly.parse(n),transform:n=>Zh(n)?n:n.hasOwnProperty("red")?Pl.transform(n):Bu.transform(n)},$t=(n,e,t)=>-t*n+t*e+n;function Ng(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Tj({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let s=0,l=0,u=0;if(!e)s=l=u=t;else{const d=t<.5?t*(1+e):t+e-t*e,p=2*t-d;s=Ng(p,d,n+1/3),l=Ng(p,d,n),u=Ng(p,d,n-1/3)}return{red:Math.round(s*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:r}}const Lg=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},Ej=[Ly,Pl,Bu],xj=n=>Ej.find(e=>e.test(n));function SE(n){const e=xj(n);let t=e.parse(n);return e===Bu&&(t=Tj(t)),t}const hI=(n,e)=>{const t=SE(n),r=SE(e),s={...t};return l=>(s.red=Lg(t.red,r.red,l),s.green=Lg(t.green,r.green,l),s.blue=Lg(t.blue,r.blue,l),s.alpha=$t(t.alpha,r.alpha,l),Pl.transform(s))};function Pj(n){var e,t;return isNaN(n)&&Zh(n)&&(((e=n.match(Fp))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(VC))===null||t===void 0?void 0:t.length)||0)>0}const dI={regex:vV,countKey:"Vars",token:"${v}",parse:Jt},fI={regex:VC,countKey:"Colors",token:"${c}",parse:lr.parse},pI={regex:Fp,countKey:"Numbers",token:"${n}",parse:Gl.parse};function Mg(n,{regex:e,countKey:t,token:r,parse:s}){const l=n.tokenised.match(e);l&&(n["num"+t]=l.length,n.tokenised=n.tokenised.replace(e,r),n.values.push(...l.map(s)))}function rp(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&Mg(t,dI),Mg(t,fI),Mg(t,pI),t}function mI(n){return rp(n).values}function gI(n){const{values:e,numColors:t,numVars:r,tokenised:s}=rp(n),l=e.length;return u=>{let d=s;for(let p=0;p<l;p++)p<r?d=d.replace(dI.token,u[p]):p<r+t?d=d.replace(fI.token,lr.transform(u[p])):d=d.replace(pI.token,fh(u[p]));return d}}const Sj=n=>typeof n=="number"?0:n;function Cj(n){const e=mI(n);return gI(n)(e.map(Sj))}const Na={test:Pj,parse:mI,createTransformer:gI,getAnimatableNone:Cj},yI=(n,e)=>t=>`${t>0?e:n}`;function vI(n,e){return typeof n=="number"?t=>$t(n,e,t):lr.test(n)?hI(n,e):n.startsWith("var(")?yI(n,e):wI(n,e)}const _I=(n,e)=>{const t=[...n],r=t.length,s=n.map((l,u)=>vI(l,e[u]));return l=>{for(let u=0;u<r;u++)t[u]=s[u](l);return t}},Ij=(n,e)=>{const t={...n,...e},r={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(r[s]=vI(n[s],e[s]));return s=>{for(const l in r)t[l]=r[l](s);return t}},wI=(n,e)=>{const t=Na.createTransformer(e),r=rp(n),s=rp(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Ea(_I(r.values,s.values),t):yI(n,e)},Rh=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},CE=(n,e)=>t=>$t(n,e,t);function bj(n){return typeof n=="number"?CE:typeof n=="string"?lr.test(n)?hI:wI:Array.isArray(n)?_I:typeof n=="object"?Ij:CE}function Aj(n,e,t){const r=[],s=t||bj(n[0]),l=n.length-1;for(let u=0;u<l;u++){let d=s(n[u],n[u+1]);if(e){const p=Array.isArray(e)?e[u]||Jt:e;d=Ea(p,d)}r.push(d)}return r}function TI(n,e,{clamp:t=!0,ease:r,mixer:s}={}){const l=n.length;if(c_(l===e.length),l===1)return()=>e[0];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=Aj(e,r,s),d=u.length,p=y=>{let v=0;if(d>1)for(;v<n.length-2&&!(y<n[v+1]);v++);const T=Rh(n[v],n[v+1],y);return u[v](T)};return t?y=>p(ka(n[0],n[l-1],y)):p}function Rj(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const s=Rh(0,e,r);n.push($t(t,1,s))}}function kj(n){const e=[0];return Rj(e,n.length-1),e}function Nj(n,e){return n.map(t=>t*e)}function Lj(n,e){return n.map(()=>e||sI).splice(0,n.length-1)}function ip({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const s=pj(r)?r.map(PE):PE(r),l={done:!1,value:e[0]},u=Nj(t&&t.length===e.length?t:kj(e),n),d=TI(u,e,{ease:Array.isArray(s)?s:Lj(e,s)});return{calculatedDuration:n,next:p=>(l.value=d(p),l.done=p>=n,l)}}function EI(n,e){return e?n*(1e3/e):0}const Mj=5;function xI(n,e,t){const r=Math.max(e-Mj,0);return EI(t-n(r),e-r)}const Og=.001,Oj=.01,Dj=10,Vj=.05,jj=1;function Fj({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let s,l,u=1-e;u=ka(Vj,jj,u),n=ka(Oj,Dj,co(n)),u<1?(s=y=>{const v=y*u,T=v*n,S=v-t,b=My(y,u),V=Math.exp(-T);return Og-S/b*V},l=y=>{const T=y*u*n,S=T*t+t,b=Math.pow(u,2)*Math.pow(y,2)*n,V=Math.exp(-T),R=My(Math.pow(y,2),u);return(-s(y)+Og>0?-1:1)*((S-b)*V)/R}):(s=y=>{const v=Math.exp(-y*n),T=(y-t)*n+1;return-Og+v*T},l=y=>{const v=Math.exp(-y*n),T=(t-y)*(n*n);return v*T});const d=5/n,p=Uj(s,l,d);if(n=kl(n),isNaN(p))return{stiffness:100,damping:10,duration:n};{const y=Math.pow(p,2)*r;return{stiffness:y,damping:u*2*Math.sqrt(r*y),duration:n}}}const Bj=12;function Uj(n,e,t){let r=t;for(let s=1;s<Bj;s++)r=r-n(r)/e(r);return r}function My(n,e){return n*Math.sqrt(1-e*e)}const zj=["duration","bounce"],Hj=["stiffness","damping","mass"];function IE(n,e){return e.some(t=>n[t]!==void 0)}function Wj(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!IE(n,Hj)&&IE(n,zj)){const t=Fj(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function PI({keyframes:n,restDelta:e,restSpeed:t,...r}){const s=n[0],l=n[n.length-1],u={done:!1,value:s},{stiffness:d,damping:p,mass:y,duration:v,velocity:T,isResolvedFromDuration:S}=Wj({...r,velocity:-co(r.velocity||0)}),b=T||0,V=p/(2*Math.sqrt(d*y)),R=l-s,M=co(Math.sqrt(d/y)),Z=Math.abs(R)<5;t||(t=Z?.01:2),e||(e=Z?.005:.5);let z;if(V<1){const H=My(M,V);z=J=>{const le=Math.exp(-V*M*J);return l-le*((b+V*M*R)/H*Math.sin(H*J)+R*Math.cos(H*J))}}else if(V===1)z=H=>l-Math.exp(-M*H)*(R+(b+M*R)*H);else{const H=M*Math.sqrt(V*V-1);z=J=>{const le=Math.exp(-V*M*J),ce=Math.min(H*J,300);return l-le*((b+V*M*R)*Math.sinh(ce)+H*R*Math.cosh(ce))/H}}return{calculatedDuration:S&&v||null,next:H=>{const J=z(H);if(S)u.done=H>=v;else{let le=b;H!==0&&(V<1?le=xI(z,H,J):le=0);const ce=Math.abs(le)<=t,F=Math.abs(l-J)<=e;u.done=ce&&F}return u.value=u.done?l:J,u}}}function bE({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:p,restDelta:y=.5,restSpeed:v}){const T=n[0],S={done:!1,value:T},b=O=>d!==void 0&&O<d||p!==void 0&&O>p,V=O=>d===void 0?p:p===void 0||Math.abs(d-O)<Math.abs(p-O)?d:p;let R=t*e;const M=T+R,Z=u===void 0?M:u(M);Z!==M&&(R=Z-T);const z=O=>-R*Math.exp(-O/r),H=O=>Z+z(O),J=O=>{const j=z(O),G=H(O);S.done=Math.abs(j)<=y,S.value=S.done?Z:G};let le,ce;const F=O=>{b(S.value)&&(le=O,ce=PI({keyframes:[S.value,V(S.value)],velocity:xI(H,O,S.value),damping:s,stiffness:l,restDelta:y,restSpeed:v}))};return F(0),{calculatedDuration:null,next:O=>{let j=!1;return!ce&&le===void 0&&(j=!0,J(O),F(O)),le!==void 0&&O>le?ce.next(O-le):(!j&&J(O),S)}}}const $j=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Rt.update(e,!0),stop:()=>go(e),now:()=>qn.isProcessing?qn.timestamp:performance.now()}},AE=2e4;function RE(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<AE;)e+=t,r=n.next(e);return e>=AE?1/0:e}const qj={decay:bE,inertia:bE,tween:ip,keyframes:ip,spring:PI};function sp({autoplay:n=!0,delay:e=0,driver:t=$j,keyframes:r,type:s="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:d="loop",onPlay:p,onStop:y,onComplete:v,onUpdate:T,...S}){let b=1,V=!1,R,M;const Z=()=>{M=new Promise($=>{R=$})};Z();let z;const H=qj[s]||ip;let J;H!==ip&&typeof r[0]!="number"&&(J=TI([0,100],r,{clamp:!1}),r=[0,100]);const le=H({...S,keyframes:r});let ce;d==="mirror"&&(ce=H({...S,keyframes:[...r].reverse(),velocity:-(S.velocity||0)}));let F="idle",O=null,j=null,G=null;le.calculatedDuration===null&&l&&(le.calculatedDuration=RE(le));const{calculatedDuration:q}=le;let U=1/0,B=1/0;q!==null&&(U=q+u,B=U*(l+1)-u);let fe=0;const Ve=$=>{if(j===null)return;b>0&&(j=Math.min(j,$)),b<0&&(j=Math.min($-B/b,j)),O!==null?fe=O:fe=Math.round($-j)*b;const ue=fe-e*(b>=0?1:-1),Ee=b>=0?ue<0:ue>B;fe=Math.max(ue,0),F==="finished"&&O===null&&(fe=B);let be=fe,Re=le;if(l){const ct=Math.min(fe,B)/U;let Ot=Math.floor(ct),yn=ct%1;!yn&&ct>=1&&(yn=1),yn===1&&Ot--,Ot=Math.min(Ot,l+1),!!(Ot%2)&&(d==="reverse"?(yn=1-yn,u&&(yn-=u/U)):d==="mirror"&&(Re=ce)),be=ka(0,1,yn)*U}const xe=Ee?{done:!1,value:r[0]}:Re.next(be);J&&(xe.value=J(xe.value));let{done:Je}=xe;!Ee&&q!==null&&(Je=b>=0?fe>=B:fe<=0);const Ye=O===null&&(F==="finished"||F==="running"&&Je);return T&&T(xe.value),Ye&&X(),xe},Ie=()=>{z&&z.stop(),z=void 0},ve=()=>{F="idle",Ie(),R(),Z(),j=G=null},X=()=>{F="finished",v&&v(),Ie(),R()},me=()=>{if(V)return;z||(z=t(Ve));const $=z.now();p&&p(),O!==null?j=$-O:(!j||F==="finished")&&(j=$),F==="finished"&&Z(),G=j,O=null,F="running",z.start()};n&&me();const ae={then($,ue){return M.then($,ue)},get time(){return co(fe)},set time($){$=kl($),fe=$,O!==null||!z||b===0?O=$:j=z.now()-$/b},get duration(){const $=le.calculatedDuration===null?RE(le):le.calculatedDuration;return co($)},get speed(){return b},set speed($){$===b||!z||(b=$,ae.time=co(fe))},get state(){return F},play:me,pause:()=>{F="paused",O=fe},stop:()=>{V=!0,F!=="idle"&&(F="idle",y&&y(),ve())},cancel:()=>{G!==null&&Ve(G),ve()},complete:()=>{F="finished"},sample:$=>(j=0,Ve($))};return ae}function Gj(n){let e;return()=>(e===void 0&&(e=n()),e)}const Kj=Gj(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Zj=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),uf=10,Qj=2e4,Yj=(n,e)=>e.type==="spring"||n==="backgroundColor"||!tI(e.ease);function Xj(n,e,{onUpdate:t,onComplete:r,...s}){if(!(Kj()&&Zj.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let u=!1,d,p,y=!1;const v=()=>{p=new Promise(H=>{d=H})};v();let{keyframes:T,duration:S=300,ease:b,times:V}=s;if(Yj(e,s)){const H=sp({...s,repeat:0,delay:0});let J={done:!1,value:T[0]};const le=[];let ce=0;for(;!J.done&&ce<Qj;)J=H.sample(ce),le.push(J.value),ce+=uf;V=void 0,T=le,S=ce-uf,b="linear"}const R=aj(n.owner.current,e,T,{...s,duration:S,ease:b,times:V}),M=()=>{y=!1,R.cancel()},Z=()=>{y=!0,Rt.update(M),d(),v()};return R.onfinish=()=>{y||(n.set(lj(T,s)),r&&r(),Z())},{then(H,J){return p.then(H,J)},attachTimeline(H){return R.timeline=H,R.onfinish=null,Jt},get time(){return co(R.currentTime||0)},set time(H){R.currentTime=kl(H)},get speed(){return R.playbackRate},set speed(H){R.playbackRate=H},get duration(){return co(S)},play:()=>{u||(R.play(),go(M))},pause:()=>R.pause(),stop:()=>{if(u=!0,R.playState==="idle")return;const{currentTime:H}=R;if(H){const J=sp({...s,autoplay:!1});n.setWithVelocity(J.sample(H-uf).value,J.sample(H).value,uf)}Z()},complete:()=>{y||R.finish()},cancel:Z}}function Jj({keyframes:n,delay:e,onUpdate:t,onComplete:r}){const s=()=>(t&&t(n[n.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Jt,pause:Jt,stop:Jt,then:l=>(l(),Promise.resolve()),cancel:Jt,complete:Jt});return e?sp({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const e4={type:"spring",stiffness:500,damping:25,restSpeed:10},t4=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),n4={type:"keyframes",duration:.8},r4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},i4=(n,{keyframes:e})=>e.length>2?n4:ql.has(n)?n.startsWith("scale")?t4(e[1]):e4:r4,Oy=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Na.test(e)||e==="0")&&!e.startsWith("url(")),s4=new Set(["brightness","contrast","saturate","opacity"]);function o4(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Fp)||[];if(!r)return n;const s=t.replace(r,"");let l=s4.has(e)?1:0;return r!==t&&(l*=100),e+"("+l+s+")"}const a4=/([a-z-]*)\(.*?\)/g,Dy={...Na,getAnimatableNone:n=>{const e=n.match(a4);return e?e.map(o4).join(" "):n}},l4={...jC,color:lr,backgroundColor:lr,outlineColor:lr,fill:lr,stroke:lr,borderColor:lr,borderTopColor:lr,borderRightColor:lr,borderBottomColor:lr,borderLeftColor:lr,filter:Dy,WebkitFilter:Dy},p_=n=>l4[n];function SI(n,e){let t=p_(n);return t!==Dy&&(t=Na),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const CI=n=>/^0[^.\s]+$/.test(n);function u4(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||CI(n)}function c4(n,e,t,r){const s=Oy(e,t);let l;Array.isArray(t)?l=[...t]:l=[null,t];const u=r.from!==void 0?r.from:n.get();let d;const p=[];for(let y=0;y<l.length;y++)l[y]===null&&(l[y]=y===0?u:l[y-1]),u4(l[y])&&p.push(y),typeof l[y]=="string"&&l[y]!=="none"&&l[y]!=="0"&&(d=l[y]);if(s&&p.length&&d)for(let y=0;y<p.length;y++){const v=p[y];l[v]=SI(e,d)}return l}function h4({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:s,repeat:l,repeatType:u,repeatDelay:d,from:p,elapsed:y,...v}){return!!Object.keys(v).length}function m_(n,e){return n[e]||n.default||n}const d4={skipAnimations:!1},g_=(n,e,t,r={})=>s=>{const l=m_(r,n)||{},u=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-kl(u);const p=c4(e,n,t,l),y=p[0],v=p[p.length-1],T=Oy(n,y),S=Oy(n,v);let b={keyframes:p,velocity:e.getVelocity(),ease:"easeOut",...l,delay:-d,onUpdate:V=>{e.set(V),l.onUpdate&&l.onUpdate(V)},onComplete:()=>{s(),l.onComplete&&l.onComplete()}};if(h4(l)||(b={...b,...i4(n,b)}),b.duration&&(b.duration=kl(b.duration)),b.repeatDelay&&(b.repeatDelay=kl(b.repeatDelay)),!T||!S||oj.current||l.type===!1||d4.skipAnimations)return Jj(b);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const V=Xj(e,n,b);if(V)return V}return sp(b)};function op(n){return!!(Ir(n)&&n.add)}const II=n=>/^\-?\d*\.?\d+$/.test(n);function y_(n,e){n.indexOf(e)===-1&&n.push(e)}function v_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class __{constructor(){this.subscriptions=[]}add(e){return y_(this.subscriptions,e),()=>v_(this.subscriptions,e)}notify(e,t,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,r);else for(let l=0;l<s;l++){const u=this.subscriptions[l];u&&u(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const f4=n=>!isNaN(parseFloat(n));class p4{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:l,timestamp:u}=qn;this.lastUpdated!==u&&(this.timeDelta=l,this.lastUpdated=u,Rt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Rt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=f4(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new __);const r=this.events[e].add(t);return e==="change"?()=>{r(),Rt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?EI(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ic(n,e){return new p4(n,e)}const bI=n=>e=>e.test(n),m4={test:n=>n==="auto",parse:n=>n},AI=[Gl,$e,xs,aa,EV,TV,m4],Kc=n=>AI.find(bI(n)),g4=[...AI,lr,Na],y4=n=>g4.find(bI(n));function v4(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,ic(t))}function _4(n,e){const t=Up(n,e);let{transitionEnd:r={},transition:s={},...l}=t?n.makeTargetAnimatable(t,!1):{};l={...l,...r};for(const u in l){const d=DV(l[u]);v4(n,u,d)}}function w4(n,e,t){var r,s;const l=Object.keys(e).filter(d=>!n.hasValue(d)),u=l.length;if(u)for(let d=0;d<u;d++){const p=l[d],y=e[p];let v=null;Array.isArray(y)&&(v=y[0]),v===null&&(v=(s=(r=t[p])!==null&&r!==void 0?r:n.readValue(p))!==null&&s!==void 0?s:e[p]),v!=null&&(typeof v=="string"&&(II(v)||CI(v))?v=parseFloat(v):!y4(v)&&Na.test(y)&&(v=SI(p,y)),n.addValue(p,ic(v,{owner:n})),t[p]===void 0&&(t[p]=v),v!==null&&n.setBaseTarget(p,v))}}function T4(n,e){return e?(e[n]||e.default||e).from:void 0}function E4(n,e,t){const r={};for(const s in n){const l=T4(s,e);if(l!==void 0)r[s]=l;else{const u=t.getValue(s);u&&(r[s]=u.get())}}return r}function x4({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function P4(n,e){const t=n.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}else return t!==e}function RI(n,e,{delay:t=0,transitionOverride:r,type:s}={}){let{transition:l=n.getDefaultTransition(),transitionEnd:u,...d}=n.makeTargetAnimatable(e);const p=n.getValue("willChange");r&&(l=r);const y=[],v=s&&n.animationState&&n.animationState.getState()[s];for(const T in d){const S=n.getValue(T),b=d[T];if(!S||b===void 0||v&&x4(v,T))continue;const V={delay:t,elapsed:0,...m_(l||{},T)};if(window.HandoffAppearAnimations){const Z=n.getProps()[kC];if(Z){const z=window.HandoffAppearAnimations(Z,T,S,Rt);z!==null&&(V.elapsed=z,V.isHandoff=!0)}}let R=!V.isHandoff&&!P4(S,b);if(V.type==="spring"&&(S.getVelocity()||V.velocity)&&(R=!1),S.animation&&(R=!1),R)continue;S.start(g_(T,S,b,n.shouldReduceMotion&&ql.has(T)?{type:!1}:V));const M=S.animation;op(p)&&(p.add(T),M.then(()=>p.remove(T))),y.push(M)}return u&&Promise.all(y).then(()=>{u&&_4(n,u)}),y}function Vy(n,e,t={}){const r=Up(n,e,t.custom);let{transition:s=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(s=t.transitionOverride);const l=r?()=>Promise.all(RI(n,r,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:v,staggerDirection:T}=s;return S4(n,e,y+p,v,T,t)}:()=>Promise.resolve(),{when:d}=s;if(d){const[p,y]=d==="beforeChildren"?[l,u]:[u,l];return p().then(()=>y())}else return Promise.all([l(),u(t.delay)])}function S4(n,e,t=0,r=0,s=1,l){const u=[],d=(n.variantChildren.size-1)*r,p=s===1?(y=0)=>y*r:(y=0)=>d-y*r;return Array.from(n.variantChildren).sort(C4).forEach((y,v)=>{y.notify("AnimationStart",e),u.push(Vy(y,e,{...l,delay:t+p(v)}).then(()=>y.notify("AnimationComplete",e)))}),Promise.all(u)}function C4(n,e){return n.sortNodePosition(e)}function I4(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(l=>Vy(n,l,t));r=Promise.all(s)}else if(typeof e=="string")r=Vy(n,e,t);else{const s=typeof e=="function"?Up(n,e,t.custom):e;r=Promise.all(RI(n,s,t))}return r.then(()=>n.notify("AnimationComplete",e))}const b4=[...e_].reverse(),A4=e_.length;function R4(n){return e=>Promise.all(e.map(({animation:t,options:r})=>I4(n,t,r)))}function k4(n){let e=R4(n);const t=L4();let r=!0;const s=(p,y)=>{const v=Up(n,y);if(v){const{transition:T,transitionEnd:S,...b}=v;p={...p,...b,...S}}return p};function l(p){e=p(n)}function u(p,y){const v=n.getProps(),T=n.getVariantContext(!0)||{},S=[],b=new Set;let V={},R=1/0;for(let Z=0;Z<A4;Z++){const z=b4[Z],H=t[z],J=v[z]!==void 0?v[z]:T[z],le=bh(J),ce=z===y?H.isActive:null;ce===!1&&(R=Z);let F=J===T[z]&&J!==v[z]&&le;if(F&&r&&n.manuallyAnimateOnMount&&(F=!1),H.protectedKeys={...V},!H.isActive&&ce===null||!J&&!H.prevProp||Vp(J)||typeof J=="boolean")continue;let j=N4(H.prevProp,J)||z===y&&H.isActive&&!F&&le||Z>R&&le,G=!1;const q=Array.isArray(J)?J:[J];let U=q.reduce(s,{});ce===!1&&(U={});const{prevResolvedValues:B={}}=H,fe={...B,...U},Ve=Ie=>{j=!0,b.has(Ie)&&(G=!0,b.delete(Ie)),H.needsAnimating[Ie]=!0};for(const Ie in fe){const ve=U[Ie],X=B[Ie];if(V.hasOwnProperty(Ie))continue;let me=!1;np(ve)&&np(X)?me=!JC(ve,X):me=ve!==X,me?ve!==void 0?Ve(Ie):b.add(Ie):ve!==void 0&&b.has(Ie)?Ve(Ie):H.protectedKeys[Ie]=!0}H.prevProp=J,H.prevResolvedValues=U,H.isActive&&(V={...V,...U}),r&&n.blockInitialAnimation&&(j=!1),j&&(!F||G)&&S.push(...q.map(Ie=>({animation:Ie,options:{type:z,...p}})))}if(b.size){const Z={};b.forEach(z=>{const H=n.getBaseTarget(z);H!==void 0&&(Z[z]=H)}),S.push({animation:Z})}let M=!!S.length;return r&&(v.initial===!1||v.initial===v.animate)&&!n.manuallyAnimateOnMount&&(M=!1),r=!1,M?e(S):Promise.resolve()}function d(p,y,v){var T;if(t[p].isActive===y)return Promise.resolve();(T=n.variantChildren)===null||T===void 0||T.forEach(b=>{var V;return(V=b.animationState)===null||V===void 0?void 0:V.setActive(p,y)}),t[p].isActive=y;const S=u(v,p);for(const b in t)t[b].protectedKeys={};return S}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>t}}function N4(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!JC(e,n):!1}function vl(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function L4(){return{animate:vl(!0),whileInView:vl(),whileHover:vl(),whileTap:vl(),whileDrag:vl(),whileFocus:vl(),exit:vl()}}class M4 extends ja{constructor(e){super(e),e.animationState||(e.animationState=k4(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Vp(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let O4=0;class D4 extends ja{constructor(){super(...arguments),this.id=O4++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const l=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});t&&!e&&l.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const V4={animation:{Feature:M4},exit:{Feature:D4}},kE=(n,e)=>Math.abs(n-e);function j4(n,e){const t=kE(n.x,e.x),r=kE(n.y,e.y);return Math.sqrt(t**2+r**2)}class kI{constructor(e,t,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Vg(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,b=j4(T.offset,{x:0,y:0})>=3;if(!S&&!b)return;const{point:V}=T,{timestamp:R}=qn;this.history.push({...V,timestamp:R});const{onStart:M,onMove:Z}=this.handlers;S||(M&&M(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),Z&&Z(this.lastMoveEvent,T)},this.handlePointerMove=(T,S)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=Dg(S,this.transformPagePoint),Rt.update(this.updatePoint,!0)},this.handlePointerUp=(T,S)=>{this.end();const{onEnd:b,onSessionEnd:V,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=Vg(T.type==="pointercancel"?this.lastMoveEventInfo:Dg(S,this.transformPagePoint),this.history);this.startEvent&&b&&b(T,M),V&&V(T,M)},!KC(e))return;this.dragSnapToOrigin=l,this.handlers=t,this.transformPagePoint=r,this.contextWindow=s||window;const u=Bp(e),d=Dg(u,this.transformPagePoint),{point:p}=d,{timestamp:y}=qn;this.history=[{...p,timestamp:y}];const{onSessionStart:v}=t;v&&v(e,Vg(d,this.history)),this.removeListeners=Ea(uo(this.contextWindow,"pointermove",this.handlePointerMove),uo(this.contextWindow,"pointerup",this.handlePointerUp),uo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),go(this.updatePoint)}}function Dg(n,e){return e?{point:e(n.point)}:n}function NE(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Vg({point:n},e){return{point:n,delta:NE(n,NI(e)),offset:NE(n,F4(e)),velocity:B4(e,.1)}}function F4(n){return n[0]}function NI(n){return n[n.length-1]}function B4(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const s=NI(n);for(;t>=0&&(r=n[t],!(s.timestamp-r.timestamp>kl(e)));)t--;if(!r)return{x:0,y:0};const l=co(s.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const u={x:(s.x-r.x)/l,y:(s.y-r.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Br(n){return n.max-n.min}function jy(n,e=0,t=.01){return Math.abs(n-e)<=t}function LE(n,e,t,r=.5){n.origin=r,n.originPoint=$t(e.min,e.max,n.origin),n.scale=Br(t)/Br(e),(jy(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=$t(t.min,t.max,n.origin)-n.originPoint,(jy(n.translate)||isNaN(n.translate))&&(n.translate=0)}function ph(n,e,t,r){LE(n.x,e.x,t.x,r?r.originX:void 0),LE(n.y,e.y,t.y,r?r.originY:void 0)}function ME(n,e,t){n.min=t.min+e.min,n.max=n.min+Br(e)}function U4(n,e,t){ME(n.x,e.x,t.x),ME(n.y,e.y,t.y)}function OE(n,e,t){n.min=e.min-t.min,n.max=n.min+Br(e)}function mh(n,e,t){OE(n.x,e.x,t.x),OE(n.y,e.y,t.y)}function z4(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?$t(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?$t(t,n,r.max):Math.min(n,t)),n}function DE(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function H4(n,{top:e,left:t,bottom:r,right:s}){return{x:DE(n.x,t,s),y:DE(n.y,e,r)}}function VE(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function W4(n,e){return{x:VE(n.x,e.x),y:VE(n.y,e.y)}}function $4(n,e){let t=.5;const r=Br(n),s=Br(e);return s>r?t=Rh(e.min,e.max-r,n.min):r>s&&(t=Rh(n.min,n.max-s,e.min)),ka(0,1,t)}function q4(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Fy=.35;function G4(n=Fy){return n===!1?n=0:n===!0&&(n=Fy),{x:jE(n,"left","right"),y:jE(n,"top","bottom")}}function jE(n,e,t){return{min:FE(n,e),max:FE(n,t)}}function FE(n,e){return typeof n=="number"?n:n[e]||0}const BE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Uu=()=>({x:BE(),y:BE()}),UE=()=>({min:0,max:0}),on=()=>({x:UE(),y:UE()});function gi(n){return[n("x"),n("y")]}function LI({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function K4({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Z4(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function jg(n){return n===void 0||n===1}function By({scale:n,scaleX:e,scaleY:t}){return!jg(n)||!jg(e)||!jg(t)}function wl(n){return By(n)||MI(n)||n.z||n.rotate||n.rotateX||n.rotateY}function MI(n){return zE(n.x)||zE(n.y)}function zE(n){return n&&n!=="0%"}function ap(n,e,t){const r=n-t,s=e*r;return t+s}function HE(n,e,t,r,s){return s!==void 0&&(n=ap(n,s,r)),ap(n,t,r)+e}function Uy(n,e=0,t=1,r,s){n.min=HE(n.min,e,t,r,s),n.max=HE(n.max,e,t,r,s)}function OI(n,{x:e,y:t}){Uy(n.x,e.translate,e.scale,e.originPoint),Uy(n.y,t.translate,t.scale,t.originPoint)}function Q4(n,e,t,r=!1){const s=t.length;if(!s)return;e.x=e.y=1;let l,u;for(let d=0;d<s;d++){l=t[d],u=l.projectionDelta;const p=l.instance;p&&p.style&&p.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&zu(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,OI(n,u)),r&&wl(l.latestValues)&&zu(n,l.latestValues))}e.x=WE(e.x),e.y=WE(e.y)}function WE(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function ua(n,e){n.min=n.min+e,n.max=n.max+e}function $E(n,e,[t,r,s]){const l=e[s]!==void 0?e[s]:.5,u=$t(n.min,n.max,l);Uy(n,e[t],e[r],u,e.scale)}const Y4=["x","scaleX","originX"],X4=["y","scaleY","originY"];function zu(n,e){$E(n.x,e,Y4),$E(n.y,e,X4)}function DI(n,e){return LI(Z4(n.getBoundingClientRect(),e))}function J4(n,e,t){const r=DI(n,t),{scroll:s}=e;return s&&(ua(r.x,s.offset.x),ua(r.y,s.offset.y)),r}const VI=({current:n})=>n?n.ownerDocument.defaultView:null,eF=new WeakMap;class tF{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=on(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=v=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Bp(v,"page").point)},l=(v,T)=>{const{drag:S,dragPropagation:b,onDragStart:V}=this.getProps();if(S&&!b&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=QC(S),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gi(M=>{let Z=this.getAxisMotionValue(M).get()||0;if(xs.test(Z)){const{projection:z}=this.visualElement;if(z&&z.layout){const H=z.layout.layoutBox[M];H&&(Z=Br(H)*(parseFloat(Z)/100))}}this.originPoint[M]=Z}),V&&Rt.update(()=>V(v,T),!1,!0);const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},u=(v,T)=>{const{dragPropagation:S,dragDirectionLock:b,onDirectionLock:V,onDrag:R}=this.getProps();if(!S&&!this.openGlobalLock)return;const{offset:M}=T;if(b&&this.currentDirection===null){this.currentDirection=nF(M),this.currentDirection!==null&&V&&V(this.currentDirection);return}this.updateAxis("x",T.point,M),this.updateAxis("y",T.point,M),this.visualElement.render(),R&&R(v,T)},d=(v,T)=>this.stop(v,T),p=()=>gi(v=>{var T;return this.getAnimationState(v)==="paused"&&((T=this.getAxisMotionValue(v).animation)===null||T===void 0?void 0:T.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new kI(e,{onSessionStart:s,onStart:l,onMove:u,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,contextWindow:VI(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:l}=this.getProps();l&&Rt.update(()=>l(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:s}=this.getProps();if(!r||!cf(e,s,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=z4(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;t&&Fu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=H4(s.layoutBox,t):this.constraints=!1,this.elastic=G4(r),l!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&gi(u=>{this.getAxisMotionValue(u)&&(this.constraints[u]=q4(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Fu(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const l=J4(r,s.root,this.visualElement.getTransformPagePoint());let u=W4(s.layout.layoutBox,l);if(t){const d=t(K4(u));this.hasMutatedConstraints=!!d,d&&(u=LI(d))}return u}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:s,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},y=gi(v=>{if(!cf(v,t,this.currentDirection))return;let T=p&&p[v]||{};u&&(T={min:0,max:0});const S=s?200:1e6,b=s?40:1e7,V={type:"inertia",velocity:r?e[v]:0,bounceStiffness:S,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...l,...T};return this.startAxisValueAnimation(v,V)});return Promise.all(y).then(d)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(g_(e,r,0,t))}stopAnimation(){gi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){gi(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[t];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){gi(t=>{const{drag:r}=this.getProps();if(!cf(t,r,this.currentDirection))return;const{projection:s}=this.visualElement,l=this.getAxisMotionValue(t);if(s&&s.layout){const{min:u,max:d}=s.layout.layoutBox[t];l.set(e[t]-$t(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Fu(t)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};gi(u=>{const d=this.getAxisMotionValue(u);if(d){const p=d.get();s[u]=$4({min:p,max:p},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),gi(u=>{if(!cf(u,e,null))return;const d=this.getAxisMotionValue(u),{min:p,max:y}=this.constraints[u];d.set($t(p,y,s[u]))})}addListeners(){if(!this.visualElement.current)return;eF.set(this.visualElement,this);const e=this.visualElement.current,t=uo(e,"pointerdown",p=>{const{drag:y,dragListener:v=!0}=this.getProps();y&&v&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();Fu(p)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,l=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const u=ao(window,"resize",()=>this.scalePositionWithinConstraints()),d=s.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:y})=>{this.isDragging&&y&&(gi(v=>{const T=this.getAxisMotionValue(v);T&&(this.originPoint[v]+=p[v].translate,T.set(T.get()+p[v].translate))}),this.visualElement.render())}));return()=>{u(),t(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:l=!1,dragElastic:u=Fy,dragMomentum:d=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:s,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function cf(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function nF(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class rF extends ja{constructor(e){super(e),this.removeGroupControls=Jt,this.removeListeners=Jt,this.controls=new tF(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jt}unmount(){this.removeGroupControls(),this.removeListeners()}}const qE=n=>(e,t)=>{n&&Rt.update(()=>n(e,t))};class iF extends ja{constructor(){super(...arguments),this.removePointerDownListener=Jt}onPointerDown(e){this.session=new kI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:VI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:qE(e),onStart:qE(t),onMove:r,onEnd:(l,u)=>{delete this.session,s&&Rt.update(()=>s(l,u))}}}mount(){this.removePointerDownListener=uo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function sF(){const n=A.useContext(Op);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,s=A.useId();return A.useEffect(()=>r(s),[]),!e&&t?[!1,()=>t&&t(s)]:[!0]}const Rf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function GE(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Zc={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if($e.test(n))n=parseFloat(n);else return n;const t=GE(n,e.target.x),r=GE(n,e.target.y);return`${t}% ${r}%`}},oF={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,s=Na.parse(n);if(s.length>5)return r;const l=Na.createTransformer(n),u=typeof s[0]!="number"?1:0,d=t.x.scale*e.x,p=t.y.scale*e.y;s[0+u]/=d,s[1+u]/=p;const y=$t(d,p,.5);return typeof s[2+u]=="number"&&(s[2+u]/=y),typeof s[3+u]=="number"&&(s[3+u]/=y),l(s)}};class aF extends wt.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:s}=this.props,{projection:l}=e;pV(lF),l&&(t.group&&t.group.add(l),r&&r.register&&s&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Rf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:s,isPresent:l}=this.props,u=r.projection;return u&&(u.isPresent=l,s||e.layoutDependency!==t||t===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Rt.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function jI(n){const[e,t]=sF(),r=A.useContext(n_);return wt.createElement(aF,{...n,layoutGroup:r,switchLayoutGroup:A.useContext(LC),isPresent:e,safeToRemove:t})}const lF={borderRadius:{...Zc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zc,borderTopRightRadius:Zc,borderBottomLeftRadius:Zc,borderBottomRightRadius:Zc,boxShadow:oF},FI=["TopLeft","TopRight","BottomLeft","BottomRight"],uF=FI.length,KE=n=>typeof n=="string"?parseFloat(n):n,ZE=n=>typeof n=="number"||$e.test(n);function cF(n,e,t,r,s,l){s?(n.opacity=$t(0,t.opacity!==void 0?t.opacity:1,hF(r)),n.opacityExit=$t(e.opacity!==void 0?e.opacity:1,0,dF(r))):l&&(n.opacity=$t(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let u=0;u<uF;u++){const d=`border${FI[u]}Radius`;let p=QE(e,d),y=QE(t,d);if(p===void 0&&y===void 0)continue;p||(p=0),y||(y=0),p===0||y===0||ZE(p)===ZE(y)?(n[d]=Math.max($t(KE(p),KE(y),r),0),(xs.test(y)||xs.test(p))&&(n[d]+="%")):n[d]=y}(e.rotate||t.rotate)&&(n.rotate=$t(e.rotate||0,t.rotate||0,r))}function QE(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const hF=BI(0,.5,lI),dF=BI(.5,.95,Jt);function BI(n,e,t){return r=>r<n?0:r>e?1:t(Rh(n,e,r))}function YE(n,e){n.min=e.min,n.max=e.max}function mi(n,e){YE(n.x,e.x),YE(n.y,e.y)}function XE(n,e,t,r,s){return n-=e,n=ap(n,1/t,r),s!==void 0&&(n=ap(n,1/s,r)),n}function fF(n,e=0,t=1,r=.5,s,l=n,u=n){if(xs.test(e)&&(e=parseFloat(e),e=$t(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=$t(l.min,l.max,r);n===l&&(d-=e),n.min=XE(n.min,e,t,d,s),n.max=XE(n.max,e,t,d,s)}function JE(n,e,[t,r,s],l,u){fF(n,e[t],e[r],e[s],e.scale,l,u)}const pF=["x","scaleX","originX"],mF=["y","scaleY","originY"];function ex(n,e,t,r){JE(n.x,e,pF,t?t.x:void 0,r?r.x:void 0),JE(n.y,e,mF,t?t.y:void 0,r?r.y:void 0)}function tx(n){return n.translate===0&&n.scale===1}function UI(n){return tx(n.x)&&tx(n.y)}function gF(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function zI(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function nx(n){return Br(n.x)/Br(n.y)}class yF{constructor(){this.members=[]}add(e){y_(this.members,e),e.scheduleRender()}remove(e){if(v_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let r;for(let s=t;s>=0;s--){const l=this.members[s];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function rx(n,e,t){let r="";const s=n.x.translate/e.x,l=n.y.translate/e.y;if((s||l)&&(r=`translate3d(${s}px, ${l}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:p,rotateX:y,rotateY:v}=t;p&&(r+=`rotate(${p}deg) `),y&&(r+=`rotateX(${y}deg) `),v&&(r+=`rotateY(${v}deg) `)}const u=n.x.scale*e.x,d=n.y.scale*e.y;return(u!==1||d!==1)&&(r+=`scale(${u}, ${d})`),r||"none"}const vF=(n,e)=>n.depth-e.depth;class _F{constructor(){this.children=[],this.isDirty=!1}add(e){y_(this.children,e),this.isDirty=!0}remove(e){v_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(vF),this.isDirty=!1,this.children.forEach(e)}}function wF(n,e){const t=performance.now(),r=({timestamp:s})=>{const l=s-t;l>=e&&(go(r),n(l-e))};return Rt.read(r,!0),()=>go(r)}function TF(n){window.MotionDebug&&window.MotionDebug.record(n)}function EF(n){return n instanceof SVGElement&&n.tagName!=="svg"}function xF(n,e,t){const r=Ir(n)?n:ic(n);return r.start(g_("",r,e,t)),r.animation}const ix=["","X","Y","Z"],PF={visibility:"hidden"},sx=1e3;let SF=0;const Tl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function HI({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(u={},d=e?.()){this.id=SF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Tl.totalNodes=Tl.resolvedTargetDeltas=Tl.recalculatedProjection=0,this.nodes.forEach(bF),this.nodes.forEach(LF),this.nodes.forEach(MF),this.nodes.forEach(AF),TF(Tl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new _F)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new __),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const p=this.eventHandlers.get(u);p&&p.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=EF(u),this.instance=u;const{layoutId:p,layout:y,visualElement:v}=this.options;if(v&&!v.current&&v.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(y||p)&&(this.isLayoutDirty=!0),n){let T;const S=()=>this.root.updateBlockedByResize=!1;n(u,()=>{this.root.updateBlockedByResize=!0,T&&T(),T=wF(S,250),Rf.hasAnimatedSinceResize&&(Rf.hasAnimatedSinceResize=!1,this.nodes.forEach(ax))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&v&&(p||y)&&this.addEventListener("didUpdate",({delta:T,hasLayoutChanged:S,hasRelativeTargetChanged:b,layout:V})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||v.getDefaultTransition()||FF,{onLayoutAnimationStart:M,onLayoutAnimationComplete:Z}=v.getProps(),z=!this.targetLayout||!zI(this.targetLayout,V)||b,H=!S&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||H||S&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(T,H);const J={...m_(R,"layout"),onPlay:M,onComplete:Z};(v.shouldReduceMotion||this.options.layoutRoot)&&(J.delay=0,J.type=!1),this.startAnimation(J)}else S||ax(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=V})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,go(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(OF),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const T=this.path[v];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const y=this.getTransformTemplate();this.prevTransformTemplateValue=y?y(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ox);return}this.isUpdating||this.nodes.forEach(kF),this.isUpdating=!1,this.nodes.forEach(NF),this.nodes.forEach(CF),this.nodes.forEach(IF),this.clearAllSnapshots();const d=performance.now();qn.delta=ka(0,1e3/60,d-qn.timestamp),qn.timestamp=d,qn.isProcessing=!0,bg.update.process(qn),bg.preRender.process(qn),bg.render.process(qn),qn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(RF),this.sharedNodes.forEach(DF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=on(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&(this.scroll={animationId:this.root.animationId,phase:u,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform,d=this.projectionDelta&&!UI(this.projectionDelta),p=this.getTransformTemplate(),y=p?p(this.latestValues,""):void 0,v=y!==this.prevTransformTemplateValue;u&&(d||wl(this.latestValues)||v)&&(s(this.instance,y),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return u&&(p=this.removeTransform(p)),BF(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return on();const d=u.measureViewportBox(),{scroll:p}=this.root;return p&&(ua(d.x,p.offset.x),ua(d.y,p.offset.y)),d}removeElementScroll(u){const d=on();mi(d,u);for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:v,options:T}=y;if(y!==this.root&&v&&T.layoutScroll){if(v.isRoot){mi(d,u);const{scroll:S}=this.root;S&&(ua(d.x,-S.offset.x),ua(d.y,-S.offset.y))}ua(d.x,v.offset.x),ua(d.y,v.offset.y)}}return d}applyTransform(u,d=!1){const p=on();mi(p,u);for(let y=0;y<this.path.length;y++){const v=this.path[y];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&zu(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),wl(v.latestValues)&&zu(p,v.latestValues)}return wl(this.latestValues)&&zu(p,this.latestValues),p}removeTransform(u){const d=on();mi(d,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];if(!y.instance||!wl(y.latestValues))continue;By(y.latestValues)&&y.updateSnapshot();const v=on(),T=y.measurePageBox();mi(v,T),ex(d,y.latestValues,y.snapshot?y.snapshot.layoutBox:void 0,v)}return wl(this.latestValues)&&ex(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var d;const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==p;if(!(u||y&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:T,layoutId:S}=this.options;if(!(!this.layout||!(T||S))){if(this.resolvedRelativeTargetAt=qn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=on(),this.relativeTargetOrigin=on(),mh(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),mi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=on(),this.targetWithTransforms=on()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),U4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mi(this.target,this.layout.layoutBox),OI(this.target,this.targetDelta)):mi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=on(),this.relativeTargetOrigin=on(),mh(this.relativeTargetOrigin,this.target,b.target),mi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Tl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||By(this.parent.latestValues)||MI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const d=this.getLead(),p=!!this.resumingFrom||this!==d;let y=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(y=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===qn.timestamp&&(y=!1),y)return;const{layout:v,layoutId:T}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||T))return;mi(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,b=this.treeScale.y;Q4(this.layoutCorrected,this.treeScale,this.path,p),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox);const{target:V}=d;if(!V){this.projectionTransform&&(this.projectionDelta=Uu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Uu(),this.projectionDeltaWithTransform=Uu());const R=this.projectionTransform;ph(this.projectionDelta,this.layoutCorrected,V,this.latestValues),this.projectionTransform=rx(this.projectionDelta,this.treeScale),(this.projectionTransform!==R||this.treeScale.x!==S||this.treeScale.y!==b)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",V)),Tl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(u,d=!1){const p=this.snapshot,y=p?p.latestValues:{},v={...this.latestValues},T=Uu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const S=on(),b=p?p.source:void 0,V=this.layout?this.layout.source:void 0,R=b!==V,M=this.getStack(),Z=!M||M.members.length<=1,z=!!(R&&!Z&&this.options.crossfade===!0&&!this.path.some(jF));this.animationProgress=0;let H;this.mixTargetDelta=J=>{const le=J/1e3;lx(T.x,u.x,le),lx(T.y,u.y,le),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(mh(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),VF(this.relativeTarget,this.relativeTargetOrigin,S,le),H&&gF(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=on()),mi(H,this.relativeTarget)),R&&(this.animationValues=v,cF(v,y,this.latestValues,le,z,Z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=le},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(go(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Rt.update(()=>{Rf.hasAnimatedSinceResize=!0,this.currentAnimation=xF(0,sx,{...u,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(sx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:p,layout:y,latestValues:v}=u;if(!(!d||!p||!y)){if(this!==u&&this.layout&&y&&WI(this.options.animationType,this.layout.layoutBox,y.layoutBox)){p=this.target||on();const T=Br(this.layout.layoutBox.x);p.x.min=u.target.x.min,p.x.max=p.x.min+T;const S=Br(this.layout.layoutBox.y);p.y.min=u.target.y.min,p.y.max=p.y.min+S}mi(d,p),zu(d,v),ph(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new yF),this.sharedNodes.get(u).add(d);const y=d.options.initialPromotionConfig;d.promote({transition:y?y.transition:void 0,preserveFollowOpacity:y&&y.shouldPreserveFollowOpacity?y.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:d}=this.options;return d?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:d}=this.options;return d?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:p}={}){const y=this.getStack();y&&y.promote(this,p),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:p}=u;if((p.rotate||p.rotateX||p.rotateY||p.rotateZ)&&(d=!0),!d)return;const y={};for(let v=0;v<ix.length;v++){const T="rotate"+ix[v];p[T]&&(y[T]=p[T],u.setStaticValue(T,0))}u.render();for(const v in y)u.setStaticValue(v,y[v]);u.scheduleRender()}getProjectionStyles(u){var d,p;if(!this.instance||this.isSVG)return;if(!this.isVisible)return PF;const y={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,y.opacity="",y.pointerEvents=Af(u?.pointerEvents)||"",y.transform=v?v(this.latestValues,""):"none",y;const T=this.getLead();if(!this.projectionDelta||!this.layout||!T.target){const R={};return this.options.layoutId&&(R.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,R.pointerEvents=Af(u?.pointerEvents)||""),this.hasProjected&&!wl(this.latestValues)&&(R.transform=v?v({},""):"none",this.hasProjected=!1),R}const S=T.animationValues||T.latestValues;this.applyTransformsToTarget(),y.transform=rx(this.projectionDeltaWithTransform,this.treeScale,S),v&&(y.transform=v(S,y.transform));const{x:b,y:V}=this.projectionDelta;y.transformOrigin=`${b.origin*100}% ${V.origin*100}% 0`,T.animationValues?y.opacity=T===this?(p=(d=S.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&p!==void 0?p:1:this.preserveOpacity?this.latestValues.opacity:S.opacityExit:y.opacity=T===this?S.opacity!==void 0?S.opacity:"":S.opacityExit!==void 0?S.opacityExit:0;for(const R in ep){if(S[R]===void 0)continue;const{correct:M,applyTo:Z}=ep[R],z=y.transform==="none"?S[R]:M(S[R],T);if(Z){const H=Z.length;for(let J=0;J<H;J++)y[Z[J]]=z}else y[R]=z}return this.options.layoutId&&(y.pointerEvents=T===this?Af(u?.pointerEvents)||"":"none"),y}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(ox),this.root.sharedNodes.clear()}}}function CF(n){n.updateLayout()}function IF(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=n.layout,{animationType:l}=n.options,u=t.source!==n.layout.source;l==="size"?gi(T=>{const S=u?t.measuredBox[T]:t.layoutBox[T],b=Br(S);S.min=r[T].min,S.max=S.min+b}):WI(l,t.layoutBox,r)&&gi(T=>{const S=u?t.measuredBox[T]:t.layoutBox[T],b=Br(r[T]);S.max=S.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[T].max=n.relativeTarget[T].min+b)});const d=Uu();ph(d,r,t.layoutBox);const p=Uu();u?ph(p,n.applyTransform(s,!0),t.measuredBox):ph(p,r,t.layoutBox);const y=!UI(d);let v=!1;if(!n.resumeFrom){const T=n.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:S,layout:b}=T;if(S&&b){const V=on();mh(V,t.layoutBox,S.layoutBox);const R=on();mh(R,r,b.layoutBox),zI(V,R)||(v=!0),T.options.layoutRoot&&(n.relativeTarget=R,n.relativeTargetOrigin=V,n.relativeParent=T)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:p,layoutDelta:d,hasLayoutChanged:y,hasRelativeTargetChanged:v})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function bF(n){Tl.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function AF(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function RF(n){n.clearSnapshot()}function ox(n){n.clearMeasurements()}function kF(n){n.isLayoutDirty=!1}function NF(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function ax(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function LF(n){n.resolveTargetDelta()}function MF(n){n.calcProjection()}function OF(n){n.resetRotation()}function DF(n){n.removeLeadSnapshot()}function lx(n,e,t){n.translate=$t(e.translate,0,t),n.scale=$t(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function ux(n,e,t,r){n.min=$t(e.min,t.min,r),n.max=$t(e.max,t.max,r)}function VF(n,e,t,r){ux(n.x,e.x,t.x,r),ux(n.y,e.y,t.y,r)}function jF(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const FF={duration:.45,ease:[.4,0,.1,1]},cx=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),hx=cx("applewebkit/")&&!cx("chrome/")?Math.round:Jt;function dx(n){n.min=hx(n.min),n.max=hx(n.max)}function BF(n){dx(n.x),dx(n.y)}function WI(n,e,t){return n==="position"||n==="preserve-aspect"&&!jy(nx(e),nx(t),.2)}const UF=HI({attachResizeListener:(n,e)=>ao(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fg={current:void 0},$I=HI({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Fg.current){const n=new UF({});n.mount(window),n.setOptions({layoutScroll:!0}),Fg.current=n}return Fg.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),zF={pan:{Feature:iF},drag:{Feature:rF,ProjectionNode:$I,MeasureLayout:jI}},HF=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function WF(n){const e=HF.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function zy(n,e,t=1){const[r,s]=WF(n);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const u=l.trim();return II(u)?parseFloat(u):u}else return ky(s)?zy(s,e,t+1):s}function $F(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(s=>{const l=s.get();if(!ky(l))return;const u=zy(l,r);u&&s.set(u)});for(const s in e){const l=e[s];if(!ky(l))continue;const u=zy(l,r);u&&(e[s]=u,t||(t={}),t[s]===void 0&&(t[s]=l))}return{target:e,transitionEnd:t}}const qF=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),qI=n=>qF.has(n),GF=n=>Object.keys(n).some(qI),fx=n=>n===Gl||n===$e,px=(n,e)=>parseFloat(n.split(", ")[e]),mx=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return px(s[1],e);{const l=r.match(/^matrix\((.+)\)$/);return l?px(l[1],n):0}},KF=new Set(["x","y","z"]),ZF=Kh.filter(n=>!KF.has(n));function QF(n){const e=[];return ZF.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const sc={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:mx(4,13),y:mx(5,14)};sc.translateX=sc.x;sc.translateY=sc.y;const YF=(n,e,t)=>{const r=e.measureViewportBox(),s=e.current,l=getComputedStyle(s),{display:u}=l,d={};u==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(y=>{d[y]=sc[y](r,l)}),e.render();const p=e.measureViewportBox();return t.forEach(y=>{const v=e.getValue(y);v&&v.jump(d[y]),n[y]=sc[y](p,l)}),n},XF=(n,e,t={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(qI);let l=[],u=!1;const d=[];if(s.forEach(p=>{const y=n.getValue(p);if(!n.hasValue(p))return;let v=t[p],T=Kc(v);const S=e[p];let b;if(np(S)){const V=S.length,R=S[0]===null?1:0;v=S[R],T=Kc(v);for(let M=R;M<V&&S[M]!==null;M++)b?c_(Kc(S[M])===b):b=Kc(S[M])}else b=Kc(S);if(T!==b)if(fx(T)&&fx(b)){const V=y.get();typeof V=="string"&&y.set(parseFloat(V)),typeof S=="string"?e[p]=parseFloat(S):Array.isArray(S)&&b===$e&&(e[p]=S.map(parseFloat))}else T?.transform&&b?.transform&&(v===0||S===0)?v===0?y.set(b.transform(v)):e[p]=T.transform(S):(u||(l=QF(n),u=!0),d.push(p),r[p]=r[p]!==void 0?r[p]:e[p],y.jump(S))}),d.length){const p=d.indexOf("height")>=0?window.pageYOffset:null,y=YF(e,n,d);return l.length&&l.forEach(([v,T])=>{n.getValue(v).set(T)}),n.render(),Dp&&p!==null&&window.scrollTo({top:p}),{target:y,transitionEnd:r}}else return{target:e,transitionEnd:r}};function JF(n,e,t,r){return GF(e)?XF(n,e,t,r):{target:e,transitionEnd:r}}const e3=(n,e,t,r)=>{const s=$F(n,e,r);return e=s.target,r=s.transitionEnd,JF(n,e,t,r)},Hy={current:null},GI={current:!1};function t3(){if(GI.current=!0,!!Dp)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Hy.current=n.matches;n.addListener(e),e()}else Hy.current=!1}function n3(n,e,t){const{willChange:r}=e;for(const s in e){const l=e[s],u=t[s];if(Ir(l))n.addValue(s,l),op(r)&&r.add(s);else if(Ir(u))n.addValue(s,ic(l,{owner:n})),op(r)&&r.remove(s);else if(u!==l)if(n.hasValue(s)){const d=n.getValue(s);!d.hasAnimated&&d.set(l)}else{const d=n.getStaticValue(s);n.addValue(s,ic(d!==void 0?d:l,{owner:n}))}}for(const s in t)e[s]===void 0&&n.removeValue(s);return e}const gx=new WeakMap,KI=Object.keys(Ah),r3=KI.length,yx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],i3=t_.length;class s3{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:s,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Rt.render(this.render,!1,!0);const{latestValues:d,renderState:p}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=t.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.isControllingVariants=jp(t),this.isVariantNode=NC(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(t,{});for(const T in v){const S=v[T];d[T]!==void 0&&Ir(S)&&(S.set(d[T],!1),op(y)&&y.add(T))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,gx.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),GI.current||t3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Hy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){gx.delete(this.current),this.projection&&this.projection.unmount(),go(this.notifyUpdate),go(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=ql.has(e),s=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Rt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),l()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,s,l){let u,d;for(let p=0;p<r3;p++){const y=KI[p],{isEnabled:v,Feature:T,ProjectionNode:S,MeasureLayout:b}=Ah[y];S&&(u=S),v(t)&&(!this.features[y]&&T&&(this.features[y]=new T(this)),b&&(d=b))}if((this.type==="html"||this.type==="svg")&&!this.projection&&u){this.projection=new u(this.latestValues,this.parent&&this.parent.projection);const{layoutId:p,layout:y,drag:v,dragConstraints:T,layoutScroll:S,layoutRoot:b}=t;this.projection.setOptions({layoutId:p,layout:y,alwaysMeasureLayout:!!v||T&&Fu(T),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof y=="string"?y:"both",initialPromotionConfig:l,layoutScroll:S,layoutRoot:b})}return d}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):on()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<yx.length;r++){const s=yx[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const l=e["on"+s];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=n3(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const t={};for(let r=0;r<i3;r++){const s=t_[r],l=this.props[s];(bh(l)||l===!1)&&(t[s]=l)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=ic(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(t=u_(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&s!==void 0)return s;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!Ir(l)?l:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new __),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class ZI extends s3{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:s},l){let u=E4(r,e||{},this);if(s&&(t&&(t=s(t)),r&&(r=s(r)),u&&(u=s(u))),l){w4(this,r,u);const d=e3(this,r,u,t);t=d.transitionEnd,r=d.target}return{transition:e,transitionEnd:t,...r}}}function o3(n){return window.getComputedStyle(n)}class a3 extends ZI{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(ql.has(t)){const r=p_(t);return r&&r.default||0}else{const r=o3(e),s=(DC(t)?r.getPropertyValue(t):r[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return DI(e,t)}build(e,t,r,s){i_(e,t,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,t){return l_(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ir(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,s){zC(e,t,r,s)}}class l3 extends ZI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(ql.has(t)){const r=p_(t);return r&&r.default||0}return t=HC.has(t)?t:Jv(t),e.getAttribute(t)}measureInstanceViewportBox(){return on()}scrapeMotionValuesFromProps(e,t){return $C(e,t)}build(e,t,r,s){o_(e,t,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,t,r,s){WC(e,t,r,s)}mount(e){this.isSVGTag=a_(e.tagName),super.mount(e)}}const u3=(n,e)=>r_(n)?new l3(e,{enableHardwareAcceleration:!1}):new a3(e,{enableHardwareAcceleration:!0}),c3={layout:{ProjectionNode:$I,MeasureLayout:jI}},h3={...V4,...rj,...zF,...c3},cr=dV((n,e)=>WV(n,e,h3,u3));function QI(){const n=A.useRef(!1);return Xv(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function d3(){const n=QI(),[e,t]=A.useState(0),r=A.useCallback(()=>{n.current&&t(e+1)},[e]);return[A.useCallback(()=>Rt.postRender(r),[r]),e]}class f3 extends A.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function p3({children:n,isPresent:e}){const t=A.useId(),r=A.useRef(null),s=A.useRef({width:0,height:0,top:0,left:0});return A.useInsertionEffect(()=>{const{width:l,height:u,top:d,left:p}=s.current;if(e||!r.current||!l||!u)return;r.current.dataset.motionPopId=t;const y=document.createElement("style");return document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            top: ${d}px !important;
            left: ${p}px !important;
          }
        `),()=>{document.head.removeChild(y)}},[e]),A.createElement(f3,{isPresent:e,childRef:r,sizeRef:s},A.cloneElement(n,{ref:r}))}const Bg=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:s,presenceAffectsLayout:l,mode:u})=>{const d=qC(m3),p=A.useId(),y=A.useMemo(()=>({id:p,initial:e,isPresent:t,custom:s,onExitComplete:v=>{d.set(v,!0);for(const T of d.values())if(!T)return;r&&r()},register:v=>(d.set(v,!1),()=>d.delete(v))}),l?void 0:[t]);return A.useMemo(()=>{d.forEach((v,T)=>d.set(T,!1))},[t]),A.useEffect(()=>{!t&&!d.size&&r&&r()},[t]),u==="popLayout"&&(n=A.createElement(p3,{isPresent:t},n)),A.createElement(Op.Provider,{value:y},n)};function m3(){return new Map}function g3(n){return A.useEffect(()=>()=>n(),[])}const El=n=>n.key||"";function y3(n,e){n.forEach(t=>{const r=El(t);e.set(r,t)})}function v3(n){const e=[];return A.Children.forEach(n,t=>{A.isValidElement(t)&&e.push(t)}),e}const _3=({children:n,custom:e,initial:t=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:l=!0,mode:u="sync"})=>{const d=A.useContext(n_).forceRender||d3()[0],p=QI(),y=v3(n);let v=y;const T=A.useRef(new Map).current,S=A.useRef(v),b=A.useRef(new Map).current,V=A.useRef(!0);if(Xv(()=>{V.current=!1,y3(y,b),S.current=v}),g3(()=>{V.current=!0,b.clear(),T.clear()}),V.current)return A.createElement(A.Fragment,null,v.map(z=>A.createElement(Bg,{key:El(z),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:l,mode:u},z)));v=[...v];const R=S.current.map(El),M=y.map(El),Z=R.length;for(let z=0;z<Z;z++){const H=R[z];M.indexOf(H)===-1&&!T.has(H)&&T.set(H,void 0)}return u==="wait"&&T.size&&(v=[]),T.forEach((z,H)=>{if(M.indexOf(H)!==-1)return;const J=b.get(H);if(!J)return;const le=R.indexOf(H);let ce=z;if(!ce){const F=()=>{T.delete(H);const O=Array.from(b.keys()).filter(j=>!M.includes(j));if(O.forEach(j=>b.delete(j)),S.current=y.filter(j=>{const G=El(j);return G===H||O.includes(G)}),!T.size){if(p.current===!1)return;d(),r&&r()}};ce=A.createElement(Bg,{key:El(J),isPresent:!1,onExitComplete:F,custom:e,presenceAffectsLayout:l,mode:u},J),T.set(H,ce)}v.splice(le,0,ce)}),v=v.map(z=>{const H=z.key;return T.has(H)?z:A.createElement(Bg,{key:El(z),isPresent:!0,presenceAffectsLayout:l,mode:u},z)}),A.createElement(A.Fragment,null,T.size?v:v.map(z=>A.cloneElement(z)))};var w3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const T3=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ct=(n,e)=>{const t=A.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:u,children:d,...p},y)=>A.createElement("svg",{ref:y,...w3,width:s,height:s,stroke:r,strokeWidth:u?Number(l)*24/Number(s):l,className:`lucide lucide-${T3(n)}`,...p},[...e.map(([v,T])=>A.createElement(v,T)),...(Array.isArray(d)?d:[d])||[]]));return t.displayName=`${n}`,t},E3=Ct("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),x3=Ct("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),P3=Ct("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),S3=Ct("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),oc=Ct("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),C3=Ct("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),I3=Ct("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),b3=Ct("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),kh=Ct("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),zp=Ct("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),YI=Ct("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),A3=Ct("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Zu=Ct("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),R3=Ct("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),k3=Ct("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),N3=Ct("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),L3=Ct("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),M3=Ct("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Wy=Ct("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),lp=Ct("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),ac=Ct("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),O3=Ct("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),lc=Ct("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),D3=Ct("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),V3=Ct("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),up=Ct("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),w_=Ct("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function XI(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=XI(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function JI(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=XI(n))&&(r&&(r+=" "),r+=e);return r}function j3(){for(var n=0,e,t,r="";n<arguments.length;)(e=arguments[n++])&&(t=e1(e))&&(r&&(r+=" "),r+=t);return r}function e1(n){if(typeof n=="string")return n;for(var e,t="",r=0;r<n.length;r++)n[r]&&(e=e1(n[r]))&&(t&&(t+=" "),t+=e);return t}var T_="-";function F3(n){var e=U3(n),t=n.conflictingClassGroups,r=n.conflictingClassGroupModifiers,s=r===void 0?{}:r;function l(d){var p=d.split(T_);return p[0]===""&&p.length!==1&&p.shift(),t1(p,e)||B3(d)}function u(d,p){var y=t[d]||[];return p&&s[d]?[].concat(y,s[d]):y}return{getClassGroupId:l,getConflictingClassGroupIds:u}}function t1(n,e){if(n.length===0)return e.classGroupId;var t=n[0],r=e.nextPart.get(t),s=r?t1(n.slice(1),r):void 0;if(s)return s;if(e.validators.length!==0){var l=n.join(T_);return e.validators.find(function(u){var d=u.validator;return d(l)})?.classGroupId}}var vx=/^\[(.+)\]$/;function B3(n){if(vx.test(n)){var e=vx.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}}function U3(n){var e=n.theme,t=n.prefix,r={nextPart:new Map,validators:[]},s=H3(Object.entries(n.classGroups),t);return s.forEach(function(l){var u=l[0],d=l[1];$y(d,r,u,e)}),r}function $y(n,e,t,r){n.forEach(function(s){if(typeof s=="string"){var l=s===""?e:_x(e,s);l.classGroupId=t;return}if(typeof s=="function"){if(z3(s)){$y(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(function(u){var d=u[0],p=u[1];$y(p,_x(e,d),t,r)})})}function _x(n,e){var t=n;return e.split(T_).forEach(function(r){t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t}function z3(n){return n.isThemeGetter}function H3(n,e){return e?n.map(function(t){var r=t[0],s=t[1],l=s.map(function(u){return typeof u=="string"?e+u:typeof u=="object"?Object.fromEntries(Object.entries(u).map(function(d){var p=d[0],y=d[1];return[e+p,y]})):u});return[r,l]}):n}function W3(n){if(n<1)return{get:function(){},set:function(){}};var e=0,t=new Map,r=new Map;function s(l,u){t.set(l,u),e++,e>n&&(e=0,r=t,t=new Map)}return{get:function(u){var d=t.get(u);if(d!==void 0)return d;if((d=r.get(u))!==void 0)return s(u,d),d},set:function(u,d){t.has(u)?t.set(u,d):s(u,d)}}}var n1="!";function $3(n){var e=n.separator||":",t=e.length===1,r=e[0],s=e.length;return function(u){for(var d=[],p=0,y=0,v,T=0;T<u.length;T++){var S=u[T];if(p===0){if(S===r&&(t||u.slice(T,T+s)===e)){d.push(u.slice(y,T)),y=T+s;continue}if(S==="/"){v=T;continue}}S==="["?p++:S==="]"&&p--}var b=d.length===0?u:u.substring(y),V=b.startsWith(n1),R=V?b.substring(1):b,M=v&&v>y?v-y:void 0;return{modifiers:d,hasImportantModifier:V,baseClassName:R,maybePostfixModifierPosition:M}}}function q3(n){if(n.length<=1)return n;var e=[],t=[];return n.forEach(function(r){var s=r[0]==="[";s?(e.push.apply(e,t.sort().concat([r])),t=[]):t.push(r)}),e.push.apply(e,t.sort()),e}function G3(n){return{cache:W3(n.cacheSize),splitModifiers:$3(n),...F3(n)}}var K3=/\s+/;function Z3(n,e){var t=e.splitModifiers,r=e.getClassGroupId,s=e.getConflictingClassGroupIds,l=new Set;return n.trim().split(K3).map(function(u){var d=t(u),p=d.modifiers,y=d.hasImportantModifier,v=d.baseClassName,T=d.maybePostfixModifierPosition,S=r(T?v.substring(0,T):v),b=!!T;if(!S){if(!T)return{isTailwindClass:!1,originalClassName:u};if(S=r(v),!S)return{isTailwindClass:!1,originalClassName:u};b=!1}var V=q3(p).join(":"),R=y?V+n1:V;return{isTailwindClass:!0,modifierId:R,classGroupId:S,originalClassName:u,hasPostfixModifier:b}}).reverse().filter(function(u){if(!u.isTailwindClass)return!0;var d=u.modifierId,p=u.classGroupId,y=u.hasPostfixModifier,v=d+p;return l.has(v)?!1:(l.add(v),s(p,y).forEach(function(T){return l.add(d+T)}),!0)}).reverse().map(function(u){return u.originalClassName}).join(" ")}function Q3(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r,s,l,u=d;function d(y){var v=e[0],T=e.slice(1),S=T.reduce(function(b,V){return V(b)},v());return r=G3(S),s=r.cache.get,l=r.cache.set,u=p,p(y)}function p(y){var v=s(y);if(v)return v;var T=Z3(y,r);return l(y,T),T}return function(){return u(j3.apply(null,arguments))}}function Lt(n){var e=function(r){return r[n]||[]};return e.isThemeGetter=!0,e}var r1=/^\[(?:([a-z-]+):)?(.+)\]$/i,Y3=/^\d+\/\d+$/,X3=new Set(["px","full","screen"]),J3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tB=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Li(n){return Sl(n)||X3.has(n)||Y3.test(n)||qy(n)}function qy(n){return Kl(n,"length",aB)}function nB(n){return Kl(n,"size",i1)}function rB(n){return Kl(n,"position",i1)}function iB(n){return Kl(n,"url",lB)}function hf(n){return Kl(n,"number",Sl)}function Sl(n){return!Number.isNaN(Number(n))}function sB(n){return n.endsWith("%")&&Sl(n.slice(0,-1))}function Qc(n){return wx(n)||Kl(n,"number",wx)}function st(n){return r1.test(n)}function Yc(){return!0}function oa(n){return J3.test(n)}function oB(n){return Kl(n,"",uB)}function Kl(n,e,t){var r=r1.exec(n);return r?r[1]?r[1]===e:t(r[2]):!1}function aB(n){return eB.test(n)}function i1(){return!1}function lB(n){return n.startsWith("url(")}function wx(n){return Number.isInteger(Number(n))}function uB(n){return tB.test(n)}function cB(){var n=Lt("colors"),e=Lt("spacing"),t=Lt("blur"),r=Lt("brightness"),s=Lt("borderColor"),l=Lt("borderRadius"),u=Lt("borderSpacing"),d=Lt("borderWidth"),p=Lt("contrast"),y=Lt("grayscale"),v=Lt("hueRotate"),T=Lt("invert"),S=Lt("gap"),b=Lt("gradientColorStops"),V=Lt("gradientColorStopPositions"),R=Lt("inset"),M=Lt("margin"),Z=Lt("opacity"),z=Lt("padding"),H=Lt("saturate"),J=Lt("scale"),le=Lt("sepia"),ce=Lt("skew"),F=Lt("space"),O=Lt("translate"),j=function(){return["auto","contain","none"]},G=function(){return["auto","hidden","clip","visible","scroll"]},q=function(){return["auto",st,e]},U=function(){return[st,e]},B=function(){return["",Li]},fe=function(){return["auto",Sl,st]},Ve=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},Ie=function(){return["solid","dashed","dotted","double","none"]},ve=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},X=function(){return["start","end","center","between","around","evenly","stretch"]},me=function(){return["","0",st]},ae=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},$=function(){return[Sl,hf]},ue=function(){return[Sl,st]};return{cacheSize:500,theme:{colors:[Yc],spacing:[Li],blur:["none","",oa,st],brightness:$(),borderColor:[n],borderRadius:["none","","full",oa,st],borderSpacing:U(),borderWidth:B(),contrast:$(),grayscale:me(),hueRotate:ue(),invert:me(),gap:U(),gradientColorStops:[n],gradientColorStopPositions:[sB,qy],inset:q(),margin:q(),opacity:$(),padding:U(),saturate:$(),scale:$(),sepia:me(),skew:ue(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",st]}],container:["container"],columns:[{columns:[oa]}],"break-after":[{"break-after":ae()}],"break-before":[{"break-before":ae()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(Ve(),[st])}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[R]}],"inset-x":[{"inset-x":[R]}],"inset-y":[{"inset-y":[R]}],start:[{start:[R]}],end:[{end:[R]}],top:[{top:[R]}],right:[{right:[R]}],bottom:[{bottom:[R]}],left:[{left:[R]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Qc]}],basis:[{basis:q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",st]}],grow:[{grow:me()}],shrink:[{shrink:me()}],order:[{order:["first","last","none",Qc]}],"grid-cols":[{"grid-cols":[Yc]}],"col-start-end":[{col:["auto",{span:["full",Qc]},st]}],"col-start":[{"col-start":fe()}],"col-end":[{"col-end":fe()}],"grid-rows":[{"grid-rows":[Yc]}],"row-start-end":[{row:["auto",{span:[Qc]},st]}],"row-start":[{"row-start":fe()}],"row-end":[{"row-end":fe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",st]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",st]}],gap:[{gap:[S]}],"gap-x":[{"gap-x":[S]}],"gap-y":[{"gap-y":[S]}],"justify-content":[{justify:["normal"].concat(X())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(X(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(X(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[z]}],px:[{px:[z]}],py:[{py:[z]}],ps:[{ps:[z]}],pe:[{pe:[z]}],pt:[{pt:[z]}],pr:[{pr:[z]}],pb:[{pb:[z]}],pl:[{pl:[z]}],m:[{m:[M]}],mx:[{mx:[M]}],my:[{my:[M]}],ms:[{ms:[M]}],me:[{me:[M]}],mt:[{mt:[M]}],mr:[{mr:[M]}],mb:[{mb:[M]}],ml:[{ml:[M]}],"space-x":[{"space-x":[F]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[F]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",st,e]}],"min-w":[{"min-w":["min","max","fit",st,Li]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[oa]},oa,st]}],h:[{h:[st,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",st,Li]}],"max-h":[{"max-h":[st,e,"min","max","fit"]}],"font-size":[{text:["base",oa,qy]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",hf]}],"font-family":[{font:[Yc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",st]}],"line-clamp":[{"line-clamp":["none",Sl,hf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",st,Li]}],"list-image":[{"list-image":["none",st]}],"list-style-type":[{list:["none","disc","decimal",st]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[Z]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[Z]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(Ie(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Li]}],"underline-offset":[{"underline-offset":["auto",st,Li]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",st]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",st]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[Z]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(Ve(),[rB])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",nB]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},iB]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[V]}],"gradient-via-pos":[{via:[V]}],"gradient-to-pos":[{to:[V]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[Z]}],"border-style":[{border:[].concat(Ie(),["hidden"])}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[Z]}],"divide-style":[{divide:Ie()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(Ie())}],"outline-offset":[{"outline-offset":[st,Li]}],"outline-w":[{outline:[Li]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[Z]}],"ring-offset-w":[{"ring-offset":[Li]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",oa,oB]}],"shadow-color":[{shadow:[Yc]}],opacity:[{opacity:[Z]}],"mix-blend":[{"mix-blend":ve()}],"bg-blend":[{"bg-blend":ve()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[p]}],"drop-shadow":[{"drop-shadow":["","none",oa,st]}],grayscale:[{grayscale:[y]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[T]}],saturate:[{saturate:[H]}],sepia:[{sepia:[le]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[p]}],"backdrop-grayscale":[{"backdrop-grayscale":[y]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[T]}],"backdrop-opacity":[{"backdrop-opacity":[Z]}],"backdrop-saturate":[{"backdrop-saturate":[H]}],"backdrop-sepia":[{"backdrop-sepia":[le]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",st]}],duration:[{duration:ue()}],ease:[{ease:["linear","in","out","in-out",st]}],delay:[{delay:ue()}],animate:[{animate:["none","spin","ping","pulse","bounce",st]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[J]}],"scale-x":[{"scale-x":[J]}],"scale-y":[{"scale-y":[J]}],rotate:[{rotate:[Qc,st]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[ce]}],"skew-y":[{"skew-y":[ce]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",st]}],accent:[{accent:["auto",n]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",st]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",st]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Li,hf]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var hB=Q3(cB);function br(...n){return hB(JI(n))}function Tx(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function s1(...n){return e=>{let t=!1;const r=n.map(s=>{const l=Tx(s,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let s=0;s<r.length;s++){const l=r[s];typeof l=="function"?l():Tx(n[s],null)}}}}function Bi(...n){return A.useCallback(s1(...n),n)}function Nh(n){const e=fB(n),t=A.forwardRef((r,s)=>{const{children:l,...u}=r,d=A.Children.toArray(l),p=d.find(mB);if(p){const y=p.props.children,v=d.map(T=>T===p?A.Children.count(y)>1?A.Children.only(null):A.isValidElement(y)?y.props.children:null:T);return P.jsx(e,{...u,ref:s,children:A.isValidElement(y)?A.cloneElement(y,void 0,v):null})}return P.jsx(e,{...u,ref:s,children:l})});return t.displayName=`${n}.Slot`,t}var dB=Nh("Slot");function fB(n){const e=A.forwardRef((t,r)=>{const{children:s,...l}=t;if(A.isValidElement(s)){const u=yB(s),d=gB(l,s.props);return s.type!==A.Fragment&&(d.ref=r?s1(r,u):u),A.cloneElement(s,d)}return A.Children.count(s)>1?A.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var pB=Symbol("radix.slottable");function mB(n){return A.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===pB}function gB(n,e){const t={...e};for(const r in e){const s=n[r],l=e[r];/^on[A-Z]/.test(r)?s&&l?t[r]=(...d)=>{const p=l(...d);return s(...d),p}:s&&(t[r]=s):r==="style"?t[r]={...s,...l}:r==="className"&&(t[r]=[s,l].filter(Boolean).join(" "))}return{...n,...t}}function yB(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}const Ex=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,xx=JI,o1=(n,e)=>t=>{var r;if(e?.variants==null)return xx(n,t?.class,t?.className);const{variants:s,defaultVariants:l}=e,u=Object.keys(s).map(y=>{const v=t?.[y],T=l?.[y];if(v===null)return null;const S=Ex(v)||Ex(T);return s[y][S]}),d=t&&Object.entries(t).reduce((y,v)=>{let[T,S]=v;return S===void 0||(y[T]=S),y},{}),p=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((y,v)=>{let{class:T,className:S,...b}=v;return Object.entries(b).every(V=>{let[R,M]=V;return Array.isArray(M)?M.includes({...l,...d}[R]):{...l,...d}[R]===M})?[...y,T,S]:y},[]);return xx(n,u,p,t?.class,t?.className)},vB=o1("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),yt=wt.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...s},l)=>{const u=r?dB:"button";return P.jsx(u,{className:br(vB({variant:e,size:t,className:n})),ref:l,...s})});yt.displayName="Button";const Yt=wt.forwardRef(({className:n,type:e,...t},r)=>P.jsx("input",{type:e,className:br("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:r,...t}));Yt.displayName="Input";var _B=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Mn=_B.reduce((n,e)=>{const t=Nh(`Primitive.${e}`),r=A.forwardRef((s,l)=>{const{asChild:u,...d}=s,p=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),P.jsx(p,{...d,ref:l})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function a1(n,e){n&&dp.flushSync(()=>n.dispatchEvent(e))}var wB="Label",l1=A.forwardRef((n,e)=>P.jsx(Mn.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l1.displayName=wB;var u1=l1;const Pt=wt.forwardRef(({className:n,...e},t)=>P.jsx(u1,{ref:t,className:br("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",n),...e}));Pt.displayName=u1.displayName;const TB=1;let Ug=0;function EB(){return Ug=(Ug+1)%Number.MAX_VALUE,Ug.toString()}const ur={state:{toasts:[]},listeners:[],getState:()=>ur.state,setState:n=>{typeof n=="function"?ur.state=n(ur.state):ur.state={...ur.state,...n},ur.listeners.forEach(e=>e(ur.state))},subscribe:n=>(ur.listeners.push(n),()=>{ur.listeners=ur.listeners.filter(e=>e!==n)})},je=({...n})=>{const e=EB(),t=s=>ur.setState(l=>({...l,toasts:l.toasts.map(u=>u.id===e?{...u,...s}:u)})),r=()=>ur.setState(s=>({...s,toasts:s.toasts.filter(l=>l.id!==e)}));return ur.setState(s=>({...s,toasts:[{...n,id:e,dismiss:r},...s.toasts].slice(0,TB)})),{id:e,dismiss:r,update:t}};function xB(){const[n,e]=A.useState(ur.getState());return A.useEffect(()=>ur.subscribe(r=>{e(r)}),[]),A.useEffect(()=>{const t=[];return n.toasts.forEach(r=>{if(r.duration===1/0)return;const s=setTimeout(()=>{r.dismiss()},r.duration||5e3);t.push(s)}),()=>{t.forEach(r=>clearTimeout(r))}},[n.toasts]),{toast:je,toasts:n.toasts}}const PB=({auth:n})=>{const[e,t]=A.useState(""),[r,s]=A.useState(""),[l,u]=A.useState(!1),d=v=>v.preventDefault(),p=async()=>{u(!0);try{await AL(n,e,r),je({title:"Login Successful! ",description:"Welcome back!"})}catch(v){je({title:"Login Failed",description:v.message,variant:"destructive"})}u(!1)},y=async()=>{u(!0);try{await bL(n,e,r),je({title:"Registration Successful! ",description:"Welcome to Field ERP!"})}catch(v){je({title:"Registration Failed",description:v.message,variant:"destructive"})}u(!1)};return P.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative overflow-hidden",children:[P.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 opacity-50"}),P.jsx(cr.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"relative z-10 w-full max-w-md",children:P.jsxs("div",{className:"glass-panel neon-border rounded-2xl p-8 space-y-6",children:[P.jsxs("div",{className:"text-center space-y-2",children:[P.jsx(cr.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"inline-block",children:P.jsx(O3,{className:"w-16 h-16 text-indigo-400 mx-auto"})}),P.jsx("h1",{className:"text-4xl font-bold neon-text",children:"FIELD ERP"}),P.jsx("p",{className:"text-gray-400",children:"Enterprise Resource Planning"})]}),P.jsxs("form",{onSubmit:d,className:"space-y-4",children:[P.jsxs("div",{className:"space-y-2",children:[P.jsx(Pt,{htmlFor:"email",className:"text-indigo-300",children:"Email"}),P.jsxs("div",{className:"relative",children:[P.jsx(N3,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),P.jsx(Yt,{id:"email",type:"email",value:e,onChange:v=>t(v.target.value),className:"pl-10 bg-slate-900/50 border-indigo-500/30 focus:border-pink-500",placeholder:"Enter your email",required:!0})]})]}),P.jsxs("div",{className:"space-y-2",children:[P.jsx(Pt,{htmlFor:"password",className:"text-indigo-300",children:"Password"}),P.jsxs("div",{className:"relative",children:[P.jsx(R3,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),P.jsx(Yt,{id:"password",type:"password",value:r,onChange:v=>s(v.target.value),className:"pl-10 bg-slate-900/50 border-indigo-500/30 focus:border-pink-500",placeholder:"Enter password (min 6 chars)",required:!0})]})]}),P.jsx(yt,{onClick:p,disabled:l,className:"w-full bg-gradient-to-r from-indigo-600 to-pink-600 hover:from-indigo-700 hover:to-pink-700 text-white font-bold py-3 pulse-glow",children:l?"Loading...":"LOGIN"}),P.jsx(yt,{type:"button",variant:"outline",onClick:y,disabled:l,className:"w-full bg-transparent text-indigo-300 border-indigo-500 hover:bg-indigo-900/30 hover:text-indigo-200",children:l?"Loading...":"REGISTER"})]}),P.jsx("div",{className:"text-center text-sm text-gray-400 space-y-1",children:P.jsx("p",{children:"Register a new account or use a demo account."})})]})})]})},SB=({title:n,icon:e,color:t,link:r,delay:s})=>{const l=nv();return P.jsxs(cr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(r),className:"glass-panel rounded-xl p-6 cursor-pointer neon-border hover:shadow-2xl transition-all",children:[P.jsx("div",{className:`w-16 h-16 rounded-full bg-gradient-to-br ${t} flex items-center justify-center mb-4 pulse-glow`,children:P.jsx(e,{className:"w-8 h-8 text-white"})}),P.jsx("h3",{className:"text-xl font-bold text-white",children:n})]})},CB=({user:n,onLogout:e})=>{const t=[{title:"Time & Attendance",icon:kh,color:"from-cyan-500 to-blue-500",link:"/time-attendance",delay:.1},{title:"Project Management",icon:oc,color:"from-green-500 to-teal-500",link:"/projects",delay:.2},{title:"Inventory",icon:P3,color:"from-orange-500 to-amber-500",link:"/inventory",delay:.3},{title:"HR Management",icon:up,color:"from-purple-500 to-indigo-500",link:"/hr",delay:.4},{title:"Finance",icon:zp,color:"from-red-500 to-pink-500",link:"/finance",delay:.5},{title:"Reports",icon:S3,color:"from-yellow-500 to-lime-500",link:"/reports",delay:.6}];return P.jsxs("div",{className:"flex flex-col min-h-screen p-4 md:p-8",children:[P.jsxs("header",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between pb-4 border-b border-slate-700",children:[P.jsxs("div",{className:"mb-4 sm:mb-0",children:[P.jsx("h1",{className:"text-2xl md:text-3xl font-orbitron neon-text",children:"Dashboard"}),P.jsxs("p",{className:"text-gray-400",children:["Welcome, ",n.email||"User"]})]}),P.jsxs("div",{className:"flex items-center space-x-4",children:[P.jsxs("span",{className:"hidden text-sm text-gray-300 md:block",children:["User ID: ",n.uid]}),P.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-white bg-pink-600 rounded-md shadow-lg hover:bg-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500 focus:ring-offset-slate-900",children:"Logout"})]})]}),P.jsx("main",{className:"flex-1 py-8",children:P.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:t.map(r=>P.jsx(SB,{title:r.title,icon:r.icon,color:r.color,link:r.link,delay:r.delay},r.title))})})]})},Fl=({children:n,user:e,onLogout:t,title:r})=>{const[s,l]=A.useState(!1),u=nv(),d=[{icon:A3,label:"Dashboard",path:"/dashboard"},{icon:kh,label:"Time & Attendance",path:"/time-attendance"},{icon:oc,label:"Project Management",path:"/projects"},{icon:Wy,label:"Inventory",path:"/inventory"},{icon:up,label:"HR",path:"/hr"},{icon:zp,label:"Finance",path:"/finance"},{icon:YI,label:"Reports",path:"/reports"}],p=e.role==="Field Employee"?d.filter(y=>y.label==="Time & Attendance"||y.label==="Reports"):d;return P.jsxs("div",{className:"min-h-screen",children:[P.jsx("nav",{className:"glass-panel border-b border-indigo-500/30 sticky top-0 z-50",children:P.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:P.jsxs("div",{className:"flex justify-between items-center h-16",children:[P.jsxs("div",{className:"flex items-center gap-3",children:[P.jsx(yt,{variant:"ghost",size:"icon",onClick:()=>l(!s),className:"text-white hover:bg-indigo-500/20",children:s?P.jsx(w_,{className:"w-6 h-6"}):P.jsx(M3,{className:"w-6 h-6"})}),P.jsx("h1",{className:"text-xl font-bold neon-text",children:r})]}),P.jsxs("div",{className:"flex items-center gap-4",children:[P.jsx("span",{className:"text-sm text-gray-400 hidden sm:block",children:e.name}),P.jsx(yt,{variant:"ghost",size:"icon",onClick:t,className:"text-red-400 hover:bg-red-500/20",children:P.jsx(k3,{className:"w-5 h-5"})})]})]})})}),P.jsx(_3,{children:s&&P.jsx(cr.div,{initial:{x:-300},animate:{x:0},exit:{x:-300},transition:{type:"spring",damping:20},className:"fixed left-0 top-16 bottom-0 w-64 glass-panel border-r border-indigo-500/30 z-40 overflow-y-auto",children:P.jsx("div",{className:"p-4 space-y-2",children:p.map(y=>P.jsxs(yt,{onClick:()=>{u(y.path),l(!1)},className:"w-full justify-start gap-3 bg-slate-800/50 hover:bg-indigo-600/30 text-white",children:[P.jsx(y.icon,{className:"w-5 h-5"}),y.label]},y.path))})})}),P.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n})]})};function c1(n,e){const t=A.useRef(e);A.useEffect(function(){e!==t.current&&n.attributionControl!=null&&(t.current!=null&&n.attributionControl.removeAttribution(t.current),e!=null&&n.attributionControl.addAttribution(e)),t.current=e},[n,e])}const IB=1;function bB(n){return Object.freeze({__version:IB,map:n})}function AB(n,e){return Object.freeze({...n,...e})}const h1=A.createContext(null),d1=h1.Provider;function f1(){const n=A.useContext(h1);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function RB(n){function e(t,r){const{instance:s,context:l}=n(t).current;return A.useImperativeHandle(r,()=>s),t.children==null?null:wt.createElement(d1,{value:l},t.children)}return A.forwardRef(e)}function kB(n){function e(t,r){const[s,l]=A.useState(!1),{instance:u}=n(t,l).current;A.useImperativeHandle(r,()=>u),A.useEffect(function(){s&&u.update()},[u,s,t.children]);const d=u._contentNode;return d?dp.createPortal(t.children,d):null}return A.forwardRef(e)}function NB(n){function e(t,r){const{instance:s}=n(t).current;return A.useImperativeHandle(r,()=>s),null}return A.forwardRef(e)}function p1(n,e){const t=A.useRef();A.useEffect(function(){return e!=null&&n.instance.on(e),t.current=e,function(){t.current!=null&&n.instance.off(t.current),t.current=null}},[n,e])}function E_(n,e){const t=n.pane??e.pane;return t?{...n,pane:t}:n}function LB(n,e){return function(r,s){const l=f1(),u=n(E_(r,l),l);return c1(l.map,r.attribution),p1(u.current,r.eventHandlers),e(u.current,l,r,s),u}}var sh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var MB=sh.exports,Px;function OB(){return Px||(Px=1,(function(n,e){(function(t,r){r(e)})(MB,(function(t){var r="1.9.4";function s(o){var c,m,_,C;for(m=1,_=arguments.length;m<_;m++){C=arguments[m];for(c in C)o[c]=C[c]}return o}var l=Object.create||(function(){function o(){}return function(c){return o.prototype=c,new o}})();function u(o,c){var m=Array.prototype.slice;if(o.bind)return o.bind.apply(o,m.call(arguments,1));var _=m.call(arguments,2);return function(){return o.apply(c,_.length?_.concat(m.call(arguments)):arguments)}}var d=0;function p(o){return"_leaflet_id"in o||(o._leaflet_id=++d),o._leaflet_id}function y(o,c,m){var _,C,N,K;return K=function(){_=!1,C&&(N.apply(m,C),C=!1)},N=function(){_?C=arguments:(o.apply(m,arguments),setTimeout(K,c),_=!0)},N}function v(o,c,m){var _=c[1],C=c[0],N=_-C;return o===_&&m?o:((o-C)%N+N)%N+C}function T(){return!1}function S(o,c){if(c===!1)return o;var m=Math.pow(10,c===void 0?6:c);return Math.round(o*m)/m}function b(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function V(o){return b(o).split(/\s+/)}function R(o,c){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?l(o.options):{});for(var m in c)o.options[m]=c[m];return o.options}function M(o,c,m){var _=[];for(var C in o)_.push(encodeURIComponent(m?C.toUpperCase():C)+"="+encodeURIComponent(o[C]));return(!c||c.indexOf("?")===-1?"?":"&")+_.join("&")}var Z=/\{ *([\w_ -]+) *\}/g;function z(o,c){return o.replace(Z,function(m,_){var C=c[_];if(C===void 0)throw new Error("No value provided for variable "+m);return typeof C=="function"&&(C=C(c)),C})}var H=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function J(o,c){for(var m=0;m<o.length;m++)if(o[m]===c)return m;return-1}var le="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ce(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var F=0;function O(o){var c=+new Date,m=Math.max(0,16-(c-F));return F=c+m,window.setTimeout(o,m)}var j=window.requestAnimationFrame||ce("RequestAnimationFrame")||O,G=window.cancelAnimationFrame||ce("CancelAnimationFrame")||ce("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function q(o,c,m){if(m&&j===O)o.call(c);else return j.call(window,u(o,c))}function U(o){o&&G.call(window,o)}var B={__proto__:null,extend:s,create:l,bind:u,get lastId(){return d},stamp:p,throttle:y,wrapNum:v,falseFn:T,formatNum:S,trim:b,splitWords:V,setOptions:R,getParamString:M,template:z,isArray:H,indexOf:J,emptyImageUrl:le,requestFn:j,cancelFn:G,requestAnimFrame:q,cancelAnimFrame:U};function fe(){}fe.extend=function(o){var c=function(){R(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=c.__super__=this.prototype,_=l(m);_.constructor=c,c.prototype=_;for(var C in this)Object.prototype.hasOwnProperty.call(this,C)&&C!=="prototype"&&C!=="__super__"&&(c[C]=this[C]);return o.statics&&s(c,o.statics),o.includes&&(Ve(o.includes),s.apply(null,[_].concat(o.includes))),s(_,o),delete _.statics,delete _.includes,_.options&&(_.options=m.options?l(m.options):{},s(_.options,o.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var N=0,K=_._initHooks.length;N<K;N++)_._initHooks[N].call(this)}},c},fe.include=function(o){var c=this.prototype.options;return s(this.prototype,o),o.options&&(this.prototype.options=c,this.mergeOptions(o.options)),this},fe.mergeOptions=function(o){return s(this.prototype.options,o),this},fe.addInitHook=function(o){var c=Array.prototype.slice.call(arguments,1),m=typeof o=="function"?o:function(){this[o].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function Ve(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=H(o)?o:[o];for(var c=0;c<o.length;c++)o[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ie={on:function(o,c,m){if(typeof o=="object")for(var _ in o)this._on(_,o[_],c);else{o=V(o);for(var C=0,N=o.length;C<N;C++)this._on(o[C],c,m)}return this},off:function(o,c,m){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var _ in o)this._off(_,o[_],c);else{o=V(o);for(var C=arguments.length===1,N=0,K=o.length;N<K;N++)C?this._off(o[N]):this._off(o[N],c,m)}return this},_on:function(o,c,m,_){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(o,c,m)===!1){m===this&&(m=void 0);var C={fn:c,ctx:m};_&&(C.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(C)}},_off:function(o,c,m){var _,C,N;if(this._events&&(_=this._events[o],!!_)){if(arguments.length===1){if(this._firingCount)for(C=0,N=_.length;C<N;C++)_[C].fn=T;delete this._events[o];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var K=this._listens(o,c,m);if(K!==!1){var te=_[K];this._firingCount&&(te.fn=T,this._events[o]=_=_.slice()),_.splice(K,1)}}},fire:function(o,c,m){if(!this.listens(o,m))return this;var _=s({},c,{type:o,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var C=this._events[o];if(C){this._firingCount=this._firingCount+1||1;for(var N=0,K=C.length;N<K;N++){var te=C[N],se=te.fn;te.once&&this.off(o,se,te.ctx),se.call(te.ctx||this,_)}this._firingCount--}}return m&&this._propagateEvent(_),this},listens:function(o,c,m,_){typeof o!="string"&&console.warn('"string" type argument expected');var C=c;typeof c!="function"&&(_=!!c,C=void 0,m=void 0);var N=this._events&&this._events[o];if(N&&N.length&&this._listens(o,C,m)!==!1)return!0;if(_){for(var K in this._eventParents)if(this._eventParents[K].listens(o,c,m,_))return!0}return!1},_listens:function(o,c,m){if(!this._events)return!1;var _=this._events[o]||[];if(!c)return!!_.length;m===this&&(m=void 0);for(var C=0,N=_.length;C<N;C++)if(_[C].fn===c&&_[C].ctx===m)return C;return!1},once:function(o,c,m){if(typeof o=="object")for(var _ in o)this._on(_,o[_],c,!0);else{o=V(o);for(var C=0,N=o.length;C<N;C++)this._on(o[C],c,m,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[p(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[p(o)],this},_propagateEvent:function(o){for(var c in this._eventParents)this._eventParents[c].fire(o.type,s({layer:o.target,propagatedFrom:o.target},o),!0)}};Ie.addEventListener=Ie.on,Ie.removeEventListener=Ie.clearAllEventListeners=Ie.off,Ie.addOneTimeEventListener=Ie.once,Ie.fireEvent=Ie.fire,Ie.hasEventListeners=Ie.listens;var ve=fe.extend(Ie);function X(o,c,m){this.x=m?Math.round(o):o,this.y=m?Math.round(c):c}var me=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};X.prototype={clone:function(){return new X(this.x,this.y)},add:function(o){return this.clone()._add(ae(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(ae(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new X(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new X(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=me(this.x),this.y=me(this.y),this},distanceTo:function(o){o=ae(o);var c=o.x-this.x,m=o.y-this.y;return Math.sqrt(c*c+m*m)},equals:function(o){return o=ae(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=ae(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+S(this.x)+", "+S(this.y)+")"}};function ae(o,c,m){return o instanceof X?o:H(o)?new X(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new X(o.x,o.y):new X(o,c,m)}function $(o,c){if(o)for(var m=c?[o,c]:o,_=0,C=m.length;_<C;_++)this.extend(m[_])}$.prototype={extend:function(o){var c,m;if(!o)return this;if(o instanceof X||typeof o[0]=="number"||"x"in o)c=m=ae(o);else if(o=ue(o),c=o.min,m=o.max,!c||!m)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=m.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(o){return ae((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return ae(this.min.x,this.max.y)},getTopRight:function(){return ae(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var c,m;return typeof o[0]=="number"||o instanceof X?o=ae(o):o=ue(o),o instanceof $?(c=o.min,m=o.max):c=m=o,c.x>=this.min.x&&m.x<=this.max.x&&c.y>=this.min.y&&m.y<=this.max.y},intersects:function(o){o=ue(o);var c=this.min,m=this.max,_=o.min,C=o.max,N=C.x>=c.x&&_.x<=m.x,K=C.y>=c.y&&_.y<=m.y;return N&&K},overlaps:function(o){o=ue(o);var c=this.min,m=this.max,_=o.min,C=o.max,N=C.x>c.x&&_.x<m.x,K=C.y>c.y&&_.y<m.y;return N&&K},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var c=this.min,m=this.max,_=Math.abs(c.x-m.x)*o,C=Math.abs(c.y-m.y)*o;return ue(ae(c.x-_,c.y-C),ae(m.x+_,m.y+C))},equals:function(o){return o?(o=ue(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function ue(o,c){return!o||o instanceof $?o:new $(o,c)}function Ee(o,c){if(o)for(var m=c?[o,c]:o,_=0,C=m.length;_<C;_++)this.extend(m[_])}Ee.prototype={extend:function(o){var c=this._southWest,m=this._northEast,_,C;if(o instanceof Re)_=o,C=o;else if(o instanceof Ee){if(_=o._southWest,C=o._northEast,!_||!C)return this}else return o?this.extend(xe(o)||be(o)):this;return!c&&!m?(this._southWest=new Re(_.lat,_.lng),this._northEast=new Re(C.lat,C.lng)):(c.lat=Math.min(_.lat,c.lat),c.lng=Math.min(_.lng,c.lng),m.lat=Math.max(C.lat,m.lat),m.lng=Math.max(C.lng,m.lng)),this},pad:function(o){var c=this._southWest,m=this._northEast,_=Math.abs(c.lat-m.lat)*o,C=Math.abs(c.lng-m.lng)*o;return new Ee(new Re(c.lat-_,c.lng-C),new Re(m.lat+_,m.lng+C))},getCenter:function(){return new Re((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Re(this.getNorth(),this.getWest())},getSouthEast:function(){return new Re(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof Re||"lat"in o?o=xe(o):o=be(o);var c=this._southWest,m=this._northEast,_,C;return o instanceof Ee?(_=o.getSouthWest(),C=o.getNorthEast()):_=C=o,_.lat>=c.lat&&C.lat<=m.lat&&_.lng>=c.lng&&C.lng<=m.lng},intersects:function(o){o=be(o);var c=this._southWest,m=this._northEast,_=o.getSouthWest(),C=o.getNorthEast(),N=C.lat>=c.lat&&_.lat<=m.lat,K=C.lng>=c.lng&&_.lng<=m.lng;return N&&K},overlaps:function(o){o=be(o);var c=this._southWest,m=this._northEast,_=o.getSouthWest(),C=o.getNorthEast(),N=C.lat>c.lat&&_.lat<m.lat,K=C.lng>c.lng&&_.lng<m.lng;return N&&K},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,c){return o?(o=be(o),this._southWest.equals(o.getSouthWest(),c)&&this._northEast.equals(o.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function be(o,c){return o instanceof Ee?o:new Ee(o,c)}function Re(o,c,m){if(isNaN(o)||isNaN(c))throw new Error("Invalid LatLng object: ("+o+", "+c+")");this.lat=+o,this.lng=+c,m!==void 0&&(this.alt=+m)}Re.prototype={equals:function(o,c){if(!o)return!1;o=xe(o);var m=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return m<=(c===void 0?1e-9:c)},toString:function(o){return"LatLng("+S(this.lat,o)+", "+S(this.lng,o)+")"},distanceTo:function(o){return Ye.distance(this,xe(o))},wrap:function(){return Ye.wrapLatLng(this)},toBounds:function(o){var c=180*o/40075017,m=c/Math.cos(Math.PI/180*this.lat);return be([this.lat-c,this.lng-m],[this.lat+c,this.lng+m])},clone:function(){return new Re(this.lat,this.lng,this.alt)}};function xe(o,c,m){return o instanceof Re?o:H(o)&&typeof o[0]!="object"?o.length===3?new Re(o[0],o[1],o[2]):o.length===2?new Re(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new Re(o.lat,"lng"in o?o.lng:o.lon,o.alt):c===void 0?null:new Re(o,c,m)}var Je={latLngToPoint:function(o,c){var m=this.projection.project(o),_=this.scale(c);return this.transformation._transform(m,_)},pointToLatLng:function(o,c){var m=this.scale(c),_=this.transformation.untransform(o,m);return this.projection.unproject(_)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var c=this.projection.bounds,m=this.scale(o),_=this.transformation.transform(c.min,m),C=this.transformation.transform(c.max,m);return new $(_,C)},infinite:!1,wrapLatLng:function(o){var c=this.wrapLng?v(o.lng,this.wrapLng,!0):o.lng,m=this.wrapLat?v(o.lat,this.wrapLat,!0):o.lat,_=o.alt;return new Re(m,c,_)},wrapLatLngBounds:function(o){var c=o.getCenter(),m=this.wrapLatLng(c),_=c.lat-m.lat,C=c.lng-m.lng;if(_===0&&C===0)return o;var N=o.getSouthWest(),K=o.getNorthEast(),te=new Re(N.lat-_,N.lng-C),se=new Re(K.lat-_,K.lng-C);return new Ee(te,se)}},Ye=s({},Je,{wrapLng:[-180,180],R:6371e3,distance:function(o,c){var m=Math.PI/180,_=o.lat*m,C=c.lat*m,N=Math.sin((c.lat-o.lat)*m/2),K=Math.sin((c.lng-o.lng)*m/2),te=N*N+Math.cos(_)*Math.cos(C)*K*K,se=2*Math.atan2(Math.sqrt(te),Math.sqrt(1-te));return this.R*se}}),ct=6378137,Ot={R:ct,MAX_LATITUDE:85.0511287798,project:function(o){var c=Math.PI/180,m=this.MAX_LATITUDE,_=Math.max(Math.min(m,o.lat),-m),C=Math.sin(_*c);return new X(this.R*o.lng*c,this.R*Math.log((1+C)/(1-C))/2)},unproject:function(o){var c=180/Math.PI;return new Re((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*c,o.x*c/this.R)},bounds:(function(){var o=ct*Math.PI;return new $([-o,-o],[o,o])})()};function yn(o,c,m,_){if(H(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=c,this._c=m,this._d=_}yn.prototype={transform:function(o,c){return this._transform(o.clone(),c)},_transform:function(o,c){return c=c||1,o.x=c*(this._a*o.x+this._b),o.y=c*(this._c*o.y+this._d),o},untransform:function(o,c){return c=c||1,new X((o.x/c-this._b)/this._a,(o.y/c-this._d)/this._c)}};function Ur(o,c,m,_){return new yn(o,c,m,_)}var zr=s({},Ye,{code:"EPSG:3857",projection:Ot,transformation:(function(){var o=.5/(Math.PI*Ot.R);return Ur(o,.5,-o,.5)})()}),_o=s({},zr,{code:"EPSG:900913"});function za(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Ss(o,c){var m="",_,C,N,K,te,se;for(_=0,N=o.length;_<N;_++){for(te=o[_],C=0,K=te.length;C<K;C++)se=te[C],m+=(C?"L":"M")+se.x+" "+se.y;m+=c?Ne.svg?"z":"x":""}return m||"M0 0"}var _i=document.documentElement.style,zi="ActiveXObject"in window,Gt=zi&&!document.addEventListener,Dt="msLaunchUri"in navigator&&!("documentMode"in document),Qn=en("webkit"),wo=en("android"),To=en("android 2")||en("android 3"),Ql=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Hi=wo&&en("Google")&&Ql<537&&!("AudioNode"in window),Cs=!!window.opera,Is=!Dt&&en("chrome"),wi=en("gecko")&&!Qn&&!Cs&&!zi,Yl=!Is&&en("safari"),Wi=en("phantom"),Ti="OTransition"in _i,Xl=navigator.platform.indexOf("Win")===0,Ei=zi&&"transition"in _i,$i="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!To,Eo="MozPerspective"in _i,Ar=!window.L_DISABLE_3D&&(Ei||$i||Eo)&&!Ti&&!Wi,Hr=typeof orientation<"u"||en("mobile"),qi=Hr&&Qn,xo=Hr&&$i,Wr=!window.PointerEvent&&window.MSPointerEvent,$r=!!(window.PointerEvent||Wr),kt="ontouchstart"in window||!!window.TouchEvent,Ha=!window.L_NO_TOUCH&&(kt||$r),Gi=Hr&&Cs,Ki=Hr&&wi,Jl=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,eu=(function(){var o=!1;try{var c=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",T,c),window.removeEventListener("testPassiveEventSupport",T,c)}catch{}return o})(),qr=(function(){return!!document.createElement("canvas").getContext})(),Po=!!(document.createElementNS&&za("svg").createSVGRect),bs=!!Po&&(function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Zi=!Po&&(function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var c=o.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}})(),Qi=navigator.platform.indexOf("Mac")===0,tu=navigator.platform.indexOf("Linux")===0;function en(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Ne={ie:zi,ielt9:Gt,edge:Dt,webkit:Qn,android:wo,android23:To,androidStock:Hi,opera:Cs,chrome:Is,gecko:wi,safari:Yl,phantom:Wi,opera12:Ti,win:Xl,ie3d:Ei,webkit3d:$i,gecko3d:Eo,any3d:Ar,mobile:Hr,mobileWebkit:qi,mobileWebkit3d:xo,msPointer:Wr,pointer:$r,touch:Ha,touchNative:kt,mobileOpera:Gi,mobileGecko:Ki,retina:Jl,passiveEvents:eu,canvas:qr,svg:Po,vml:Zi,inlineSvg:bs,mac:Qi,linux:tu},As=Ne.msPointer?"MSPointerDown":"pointerdown",Yn=Ne.msPointer?"MSPointerMove":"pointermove",Wa=Ne.msPointer?"MSPointerUp":"pointerup",$a=Ne.msPointer?"MSPointerCancel":"pointercancel",Rs={touchstart:As,touchmove:Yn,touchend:Wa,touchcancel:$a},hr={touchstart:St,touchmove:dr,touchend:dr,touchcancel:dr},Gr={},qa=!1;function nu(o,c,m){return c==="touchstart"&&Ls(),hr[c]?(m=hr[c].bind(this,m),o.addEventListener(Rs[c],m,!1),m):(console.warn("wrong event specified:",c),T)}function ru(o,c,m){if(!Rs[c]){console.warn("wrong event specified:",c);return}o.removeEventListener(Rs[c],m,!1)}function ks(o){Gr[o.pointerId]=o}function Ga(o){Gr[o.pointerId]&&(Gr[o.pointerId]=o)}function Ns(o){delete Gr[o.pointerId]}function Ls(){qa||(document.addEventListener(As,ks,!0),document.addEventListener(Yn,Ga,!0),document.addEventListener(Wa,Ns,!0),document.addEventListener($a,Ns,!0),qa=!0)}function dr(o,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var m in Gr)c.touches.push(Gr[m]);c.changedTouches=[c],o(c)}}function St(o,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&It(c),dr(o,c)}function vc(o){var c={},m,_;for(_ in o)m=o[_],c[_]=m&&m.bind?m.bind(o):m;return o=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var So=200;function Ka(o,c){o.addEventListener("dblclick",c);var m=0,_;function C(N){if(N.detail!==1){_=N.detail;return}if(!(N.pointerType==="mouse"||N.sourceCapabilities&&!N.sourceCapabilities.firesTouchEvents)){var K=Xr(N);if(!(K.some(function(se){return se instanceof HTMLLabelElement&&se.attributes.for})&&!K.some(function(se){return se instanceof HTMLInputElement||se instanceof HTMLSelectElement}))){var te=Date.now();te-m<=So?(_++,_===2&&c(vc(N))):_=1,m=te}}}return o.addEventListener("click",C),{dblclick:c,simDblclick:C}}function Ms(o,c){o.removeEventListener("dblclick",c.dblclick),o.removeEventListener("click",c.simDblclick)}var Os=Ji(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Kr=Ji(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Yi=Kr==="webkitTransition"||Kr==="OTransition"?Kr+"End":"transitionend";function On(o){return typeof o=="string"?document.getElementById(o):o}function Xi(o,c){var m=o.style[c]||o.currentStyle&&o.currentStyle[c];if((!m||m==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(o,null);m=_?_[c]:null}return m==="auto"?null:m}function Ze(o,c,m){var _=document.createElement(o);return _.className=c||"",m&&m.appendChild(_),_}function ht(o){var c=o.parentNode;c&&c.removeChild(o)}function Cn(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function fr(o){var c=o.parentNode;c&&c.lastChild!==o&&c.appendChild(o)}function In(o){var c=o.parentNode;c&&c.firstChild!==o&&c.insertBefore(o,c.firstChild)}function Zr(o,c){if(o.classList!==void 0)return o.classList.contains(c);var m=Qr(o);return m.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(m)}function Se(o,c){if(o.classList!==void 0)for(var m=V(c),_=0,C=m.length;_<C;_++)o.classList.add(m[_]);else if(!Zr(o,c)){var N=Qr(o);xi(o,(N?N+" ":"")+c)}}function vt(o,c){o.classList!==void 0?o.classList.remove(c):xi(o,b((" "+Qr(o)+" ").replace(" "+c+" "," ")))}function xi(o,c){o.className.baseVal===void 0?o.className=c:o.className.baseVal=c}function Qr(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function vn(o,c){"opacity"in o.style?o.style.opacity=c:"filter"in o.style&&Za(o,c)}function Za(o,c){var m=!1,_="DXImageTransform.Microsoft.Alpha";try{m=o.filters.item(_)}catch{if(c===1)return}c=Math.round(c*100),m?(m.Enabled=c!==100,m.Opacity=c):o.style.filter+=" progid:"+_+"(opacity="+c+")"}function Ji(o){for(var c=document.documentElement.style,m=0;m<o.length;m++)if(o[m]in c)return o[m];return!1}function Xn(o,c,m){var _=c||new X(0,0);o.style[Os]=(Ne.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(m?" scale("+m+")":"")}function Vt(o,c){o._leaflet_pos=c,Ne.any3d?Xn(o,c):(o.style.left=c.x+"px",o.style.top=c.y+"px")}function Rr(o){return o._leaflet_pos||new X(0,0)}var nt,Dn,Ds;if("onselectstart"in document)nt=function(){Ue(window,"selectstart",It)},Dn=function(){_t(window,"selectstart",It)};else{var Yr=Ji(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);nt=function(){if(Yr){var o=document.documentElement.style;Ds=o[Yr],o[Yr]="none"}},Dn=function(){Yr&&(document.documentElement.style[Yr]=Ds,Ds=void 0)}}function Vs(){Ue(window,"dragstart",It)}function js(){_t(window,"dragstart",It)}var es,pr;function ts(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Jn(),es=o,pr=o.style.outlineStyle,o.style.outlineStyle="none",Ue(window,"keydown",Jn))}function Jn(){es&&(es.style.outlineStyle=pr,es=void 0,pr=void 0,_t(window,"keydown",Jn))}function kr(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Zt(o){var c=o.getBoundingClientRect();return{x:c.width/o.offsetWidth||1,y:c.height/o.offsetHeight||1,boundingClientRect:c}}var Fs={__proto__:null,TRANSFORM:Os,TRANSITION:Kr,TRANSITION_END:Yi,get:On,getStyle:Xi,create:Ze,remove:ht,empty:Cn,toFront:fr,toBack:In,hasClass:Zr,addClass:Se,removeClass:vt,setClass:xi,getClass:Qr,setOpacity:vn,testProp:Ji,setTransform:Xn,setPosition:Vt,getPosition:Rr,get disableTextSelection(){return nt},get enableTextSelection(){return Dn},disableImageDrag:Vs,enableImageDrag:js,preventOutline:ts,restoreOutline:Jn,getSizedParentNode:kr,getScale:Zt};function Ue(o,c,m,_){if(c&&typeof c=="object")for(var C in c)Co(o,C,c[C],m);else{c=V(c);for(var N=0,K=c.length;N<K;N++)Co(o,c[N],m,_)}return this}var jt="_leaflet_events";function _t(o,c,m,_){if(arguments.length===1)Pi(o),delete o[jt];else if(c&&typeof c=="object")for(var C in c)ns(o,C,c[C],m);else if(c=V(c),arguments.length===2)Pi(o,function(te){return J(c,te)!==-1});else for(var N=0,K=c.length;N<K;N++)ns(o,c[N],m,_);return this}function Pi(o,c){for(var m in o[jt]){var _=m.split(/\d/)[0];(!c||c(_))&&ns(o,_,null,null,m)}}var er={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Co(o,c,m,_){var C=c+p(m)+(_?"_"+p(_):"");if(o[jt]&&o[jt][C])return this;var N=function(te){return m.call(_||o,te||window.event)},K=N;!Ne.touchNative&&Ne.pointer&&c.indexOf("touch")===0?N=nu(o,c,N):Ne.touch&&c==="dblclick"?N=Ka(o,N):"addEventListener"in o?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?o.addEventListener(er[c]||c,N,Ne.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(N=function(te){te=te||window.event,Us(o,te)&&K(te)},o.addEventListener(er[c],N,!1)):o.addEventListener(c,K,!1):o.attachEvent("on"+c,N),o[jt]=o[jt]||{},o[jt][C]=N}function ns(o,c,m,_,C){C=C||c+p(m)+(_?"_"+p(_):"");var N=o[jt]&&o[jt][C];if(!N)return this;!Ne.touchNative&&Ne.pointer&&c.indexOf("touch")===0?ru(o,c,N):Ne.touch&&c==="dblclick"?Ms(o,N):"removeEventListener"in o?o.removeEventListener(er[c]||c,N,!1):o.detachEvent("on"+c,N),o[jt][C]=null}function ut(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function Io(o){return Co(o,"wheel",ut),this}function Bs(o){return Ue(o,"mousedown touchstart dblclick contextmenu",ut),o._leaflet_disable_click=!0,this}function It(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function Vn(o){return It(o),ut(o),this}function Xr(o){if(o.composedPath)return o.composedPath();for(var c=[],m=o.target;m;)c.push(m),m=m.parentNode;return c}function Jr(o,c){if(!c)return new X(o.clientX,o.clientY);var m=Zt(c),_=m.boundingClientRect;return new X((o.clientX-_.left)/m.x-c.clientLeft,(o.clientY-_.top)/m.y-c.clientTop)}var ei=Ne.linux&&Ne.chrome?window.devicePixelRatio:Ne.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Qa(o){return Ne.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/ei:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Us(o,c){var m=c.relatedTarget;if(!m)return!0;try{for(;m&&m!==o;)m=m.parentNode}catch{return!1}return m!==o}var ti={__proto__:null,on:Ue,off:_t,stopPropagation:ut,disableScrollPropagation:Io,disableClickPropagation:Bs,preventDefault:It,stop:Vn,getPropagationPath:Xr,getMousePosition:Jr,getWheelDelta:Qa,isExternalTarget:Us,addListener:Ue,removeListener:_t},zs=ve.extend({run:function(o,c,m,_){this.stop(),this._el=o,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Rr(o),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=q(this._animate,this),this._step()},_step:function(o){var c=+new Date-this._startTime,m=this._duration*1e3;c<m?this._runFrame(this._easeOut(c/m),o):(this._runFrame(1),this._complete())},_runFrame:function(o,c){var m=this._startPos.add(this._offset.multiplyBy(o));c&&m._round(),Vt(this._el,m),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),rt=ve.extend({options:{crs:zr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,c){c=R(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(xe(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Kr&&Ne.any3d&&!Ne.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ue(this._proxy,Yi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,c,m){if(c=c===void 0?this._zoom:this._limitZoom(c),o=this._limitCenter(xe(o),c,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=s({animate:m.animate},m.zoom),m.pan=s({animate:m.animate,duration:m.duration},m.pan));var _=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,c,m.zoom):this._tryAnimatedPan(o,m.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(o,c,m.pan&&m.pan.noMoveStart),this},setZoom:function(o,c){return this._loaded?this.setView(this.getCenter(),o,{zoom:c}):(this._zoom=o,this)},zoomIn:function(o,c){return o=o||(Ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,c)},zoomOut:function(o,c){return o=o||(Ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,c)},setZoomAround:function(o,c,m){var _=this.getZoomScale(c),C=this.getSize().divideBy(2),N=o instanceof X?o:this.latLngToContainerPoint(o),K=N.subtract(C).multiplyBy(1-1/_),te=this.containerPointToLatLng(C.add(K));return this.setView(te,c,{zoom:m})},_getBoundsCenterZoom:function(o,c){c=c||{},o=o.getBounds?o.getBounds():be(o);var m=ae(c.paddingTopLeft||c.padding||[0,0]),_=ae(c.paddingBottomRight||c.padding||[0,0]),C=this.getBoundsZoom(o,!1,m.add(_));if(C=typeof c.maxZoom=="number"?Math.min(c.maxZoom,C):C,C===1/0)return{center:o.getCenter(),zoom:C};var N=_.subtract(m).divideBy(2),K=this.project(o.getSouthWest(),C),te=this.project(o.getNorthEast(),C),se=this.unproject(K.add(te).divideBy(2).add(N),C);return{center:se,zoom:C}},fitBounds:function(o,c){if(o=be(o),!o.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(o,c);return this.setView(m.center,m.zoom,c)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,c){return this.setView(o,this._zoom,{pan:c})},panBy:function(o,c){if(o=ae(o).round(),c=c||{},!o.x&&!o.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new zs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Se(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,m,c.duration||.25,c.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,c,m){if(m=m||{},m.animate===!1||!Ne.any3d)return this.setView(o,c,m);this._stop();var _=this.project(this.getCenter()),C=this.project(o),N=this.getSize(),K=this._zoom;o=xe(o),c=c===void 0?K:c;var te=Math.max(N.x,N.y),se=te*this.getZoomScale(K,c),pe=C.distanceTo(_)||1,Pe=1.42,Be=Pe*Pe;function tt(Tt){var qo=Tt?-1:1,Xp=Tt?se:te,Jp=se*se-te*te+qo*Be*Be*pe*pe,Ks=2*Xp*Be*pe,Zs=Jp/Ks,Qs=Math.sqrt(Zs*Zs+1)-Zs,mu=Qs<1e-9?-18:Math.log(Qs);return mu}function dn(Tt){return(Math.exp(Tt)-Math.exp(-Tt))/2}function nn(Tt){return(Math.exp(Tt)+Math.exp(-Tt))/2}function sr(Tt){return dn(Tt)/nn(Tt)}var Bn=tt(0);function Wo(Tt){return te*(nn(Bn)/nn(Bn+Pe*Tt))}function Rc(Tt){return te*(nn(Bn)*sr(Bn+Pe*Tt)-dn(Bn))/Be}function us(Tt){return 1-Math.pow(1-Tt,1.5)}var fd=Date.now(),Gs=(tt(1)-Bn)/Pe,li=m.duration?1e3*m.duration:1e3*Gs*.8;function $o(){var Tt=(Date.now()-fd)/li,qo=us(Tt)*Gs;Tt<=1?(this._flyToFrame=q($o,this),this._move(this.unproject(_.add(C.subtract(_).multiplyBy(Rc(qo)/pe)),K),this.getScaleZoom(te/Wo(qo),K),{flyTo:!0})):this._move(o,c)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),$o.call(this),this},flyToBounds:function(o,c){var m=this._getBoundsCenterZoom(o,c);return this.flyTo(m.center,m.zoom,c)},setMaxBounds:function(o){return o=be(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var c=this.options.minZoom;return this.options.minZoom=o,this._loaded&&c!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var c=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&c!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,c){this._enforcingBounds=!0;var m=this.getCenter(),_=this._limitCenter(m,this._zoom,be(o));return m.equals(_)||this.panTo(_,c),this._enforcingBounds=!1,this},panInside:function(o,c){c=c||{};var m=ae(c.paddingTopLeft||c.padding||[0,0]),_=ae(c.paddingBottomRight||c.padding||[0,0]),C=this.project(this.getCenter()),N=this.project(o),K=this.getPixelBounds(),te=ue([K.min.add(m),K.max.subtract(_)]),se=te.getSize();if(!te.contains(N)){this._enforcingBounds=!0;var pe=N.subtract(te.getCenter()),Pe=te.extend(N).getSize().subtract(se);C.x+=pe.x<0?-Pe.x:Pe.x,C.y+=pe.y<0?-Pe.y:Pe.y,this.panTo(this.unproject(C),c),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=s({animate:!1,pan:!0},o===!0?{animate:!0}:o);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),_=c.divideBy(2).round(),C=m.divideBy(2).round(),N=_.subtract(C);return!N.x&&!N.y?this:(o.animate&&o.pan?this.panBy(N):(o.pan&&this._rawPanBy(N),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=s({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=u(this._handleGeolocationResponse,this),m=u(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,m,o):navigator.geolocation.getCurrentPosition(c,m,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var c=o.code,m=o.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var c=o.coords.latitude,m=o.coords.longitude,_=new Re(c,m),C=_.toBounds(o.coords.accuracy*2),N=this._locateOptions;if(N.setView){var K=this.getBoundsZoom(C);this.setView(_,N.maxZoom?Math.min(K,N.maxZoom):K)}var te={latlng:_,bounds:C,timestamp:o.timestamp};for(var se in o.coords)typeof o.coords[se]=="number"&&(te[se]=o.coords[se]);this.fire("locationfound",te)}},addHandler:function(o,c){if(!c)return this;var m=this[o]=new c(this);return this._handlers.push(m),this.options[o]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ht(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)ht(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,c){var m="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),_=Ze("div",m,c||this._mapPane);return o&&(this._panes[o]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),c=this.unproject(o.getBottomLeft()),m=this.unproject(o.getTopRight());return new Ee(c,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,c,m){o=be(o),m=ae(m||[0,0]);var _=this.getZoom()||0,C=this.getMinZoom(),N=this.getMaxZoom(),K=o.getNorthWest(),te=o.getSouthEast(),se=this.getSize().subtract(m),pe=ue(this.project(te,_),this.project(K,_)).getSize(),Pe=Ne.any3d?this.options.zoomSnap:1,Be=se.x/pe.x,tt=se.y/pe.y,dn=c?Math.max(Be,tt):Math.min(Be,tt);return _=this.getScaleZoom(dn,_),Pe&&(_=Math.round(_/(Pe/100))*(Pe/100),_=c?Math.ceil(_/Pe)*Pe:Math.floor(_/Pe)*Pe),Math.max(C,Math.min(N,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new X(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,c){var m=this._getTopLeftPoint(o,c);return new $(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,c){var m=this.options.crs;return c=c===void 0?this._zoom:c,m.scale(o)/m.scale(c)},getScaleZoom:function(o,c){var m=this.options.crs;c=c===void 0?this._zoom:c;var _=m.zoom(o*m.scale(c));return isNaN(_)?1/0:_},project:function(o,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(xe(o),c)},unproject:function(o,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(ae(o),c)},layerPointToLatLng:function(o){var c=ae(o).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(o){var c=this.project(xe(o))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(xe(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(be(o))},distance:function(o,c){return this.options.crs.distance(xe(o),xe(c))},containerPointToLayerPoint:function(o){return ae(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return ae(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var c=this.containerPointToLayerPoint(ae(o));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(xe(o)))},mouseEventToContainerPoint:function(o){return Jr(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var c=this._container=On(o);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ue(c,"scroll",this._onScroll,this),this._containerId=p(c)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ne.any3d,Se(o,"leaflet-container"+(Ne.touch?" leaflet-touch":"")+(Ne.retina?" leaflet-retina":"")+(Ne.ielt9?" leaflet-oldie":"")+(Ne.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=Xi(o,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Vt(this._mapPane,new X(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Se(o.markerPane,"leaflet-zoom-hide"),Se(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,c,m){Vt(this._mapPane,new X(0,0));var _=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var C=this._zoom!==c;this._moveStart(C,m)._move(o,c)._moveEnd(C),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(o,c){return o&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(o,c,m,_){c===void 0&&(c=this._zoom);var C=this._zoom!==c;return this._zoom=c,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),_?m&&m.pinch&&this.fire("zoom",m):((C||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Vt(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[p(this._container)]=this;var c=o?_t:Ue;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Ne.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,c){for(var m=[],_,C=c==="mouseout"||c==="mouseover",N=o.target||o.srcElement,K=!1;N;){if(_=this._targets[p(N)],_&&(c==="click"||c==="preclick")&&this._draggableMoved(_)){K=!0;break}if(_&&_.listens(c,!0)&&(C&&!Us(N,o)||(m.push(_),C))||N===this._container)break;N=N.parentNode}return!m.length&&!K&&!C&&this.listens(c,!0)&&(m=[this]),m},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var c=o.target||o.srcElement;if(!(!this._loaded||c._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(c))){var m=o.type;m==="mousedown"&&ts(c),this._fireDOMEvent(o,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,c,m){if(o.type==="click"){var _=s({},o);_.type="preclick",this._fireDOMEvent(_,_.type,m)}var C=this._findEventTargets(o,c);if(m){for(var N=[],K=0;K<m.length;K++)m[K].listens(c,!0)&&N.push(m[K]);C=N.concat(C)}if(C.length){c==="contextmenu"&&It(o);var te=C[0],se={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var pe=te.getLatLng&&(!te._radius||te._radius<=10);se.containerPoint=pe?this.latLngToContainerPoint(te.getLatLng()):this.mouseEventToContainerPoint(o),se.layerPoint=this.containerPointToLayerPoint(se.containerPoint),se.latlng=pe?te.getLatLng():this.layerPointToLatLng(se.layerPoint)}for(K=0;K<C.length;K++)if(C[K].fire(c,se,!0),se.originalEvent._stopped||C[K].options.bubblingMouseEvents===!1&&J(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,c=this._handlers.length;o<c;o++)this._handlers[o].disable()},whenReady:function(o,c){return this._loaded?o.call(c||this,{target:this}):this.on("load",o,c),this},_getMapPanePos:function(){return Rr(this._mapPane)||new X(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,c){var m=o&&c!==void 0?this._getNewPixelOrigin(o,c):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,c){var m=this.getSize()._divideBy(2);return this.project(o,c)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,c,m){var _=this._getNewPixelOrigin(m,c);return this.project(o,c)._subtract(_)},_latLngBoundsToNewLayerBounds:function(o,c,m){var _=this._getNewPixelOrigin(m,c);return ue([this.project(o.getSouthWest(),c)._subtract(_),this.project(o.getNorthWest(),c)._subtract(_),this.project(o.getSouthEast(),c)._subtract(_),this.project(o.getNorthEast(),c)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,c,m){if(!m)return o;var _=this.project(o,c),C=this.getSize().divideBy(2),N=new $(_.subtract(C),_.add(C)),K=this._getBoundsOffset(N,m,c);return Math.abs(K.x)<=1&&Math.abs(K.y)<=1?o:this.unproject(_.add(K),c)},_limitOffset:function(o,c){if(!c)return o;var m=this.getPixelBounds(),_=new $(m.min.add(o),m.max.add(o));return o.add(this._getBoundsOffset(_,c))},_getBoundsOffset:function(o,c,m){var _=ue(this.project(c.getNorthEast(),m),this.project(c.getSouthWest(),m)),C=_.min.subtract(o.min),N=_.max.subtract(o.max),K=this._rebound(C.x,-N.x),te=this._rebound(C.y,-N.y);return new X(K,te)},_rebound:function(o,c){return o+c>0?Math.round(o-c)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(c))},_limitZoom:function(o){var c=this.getMinZoom(),m=this.getMaxZoom(),_=Ne.any3d?this.options.zoomSnap:1;return _&&(o=Math.round(o/_)*_),Math.max(c,Math.min(m,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){vt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,c){var m=this._getCenterOffset(o)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,c),!0)},_createAnimProxy:function(){var o=this._proxy=Ze("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(c){var m=Os,_=this._proxy.style[m];Xn(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),_===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ht(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),c=this.getZoom();Xn(this._proxy,this.project(o,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,c,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(c),C=this._getCenterOffset(o)._divideBy(1-1/_);return m.animate!==!0&&!this.getSize().contains(C)?!1:(q(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(o,c,!0)},this),!0)},_animateZoom:function(o,c,m,_){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=c,Se(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:c,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&vt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function tr(o,c){return new rt(o,c)}var _n=fe.extend({options:{position:"topright"},initialize:function(o){R(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var c=this._map;return c&&c.removeControl(this),this.options.position=o,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var c=this._container=this.onAdd(o),m=this.getPosition(),_=o._controlCorners[m];return Se(c,"leaflet-control"),m.indexOf("bottom")!==-1?_.insertBefore(c,_.firstChild):_.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ht(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),nr=function(o){return new _n(o)};rt.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},c="leaflet-",m=this._controlContainer=Ze("div",c+"control-container",this._container);function _(C,N){var K=c+C+" "+c+N;o[C+N]=Ze("div",K,m)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)ht(this._controlCorners[o]);ht(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ya=_n.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,c,m,_){return m<_?-1:_<m?1:0}},initialize:function(o,c,m){R(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in o)this._addLayer(o[_],_);for(_ in c)this._addLayer(c[_],_,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return _n.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,c){return this._addLayer(o,c),this._map?this._update():this},addOverlay:function(o,c){return this._addLayer(o,c,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var c=this._getLayer(p(o));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Se(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Se(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):vt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return vt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",c=this._container=Ze("div",o),m=this.options.collapsed;c.setAttribute("aria-haspopup",!0),Bs(c),Io(c);var _=this._section=Ze("section",o+"-list");m&&(this._map.on("click",this.collapse,this),Ue(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var C=this._layersLink=Ze("a",o+"-toggle",c);C.href="#",C.title="Layers",C.setAttribute("role","button"),Ue(C,{keydown:function(N){N.keyCode===13&&this._expandSafely()},click:function(N){It(N),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=Ze("div",o+"-base",_),this._separator=Ze("div",o+"-separator",_),this._overlaysList=Ze("div",o+"-overlays",_),c.appendChild(_)},_getLayer:function(o){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&p(this._layers[c].layer)===o)return this._layers[c]},_addLayer:function(o,c,m){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:c,overlay:m}),this.options.sortLayers&&this._layers.sort(u(function(_,C){return this.options.sortFunction(_.layer,C.layer,_.name,C.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Cn(this._baseLayersList),Cn(this._overlaysList),this._layerControlInputs=[];var o,c,m,_,C=0;for(m=0;m<this._layers.length;m++)_=this._layers[m],this._addItem(_),c=c||_.overlay,o=o||!_.overlay,C+=_.overlay?0:1;return this.options.hideSingleBase&&(o=o&&C>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=c&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var c=this._getLayer(p(o.target)),m=c.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;m&&this._map.fire(m,c)},_createRadioElement:function(o,c){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(c?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=m,_.firstChild},_addItem:function(o){var c=document.createElement("label"),m=this._map.hasLayer(o.layer),_;o.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=m):_=this._createRadioElement("leaflet-base-layers_"+p(this),m),this._layerControlInputs.push(_),_.layerId=p(o.layer),Ue(_,"click",this._onInputClick,this);var C=document.createElement("span");C.innerHTML=" "+o.name;var N=document.createElement("span");c.appendChild(N),N.appendChild(_),N.appendChild(C);var K=o.overlay?this._overlaysList:this._baseLayersList;return K.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,c,m,_=[],C=[];this._handlingClick=!0;for(var N=o.length-1;N>=0;N--)c=o[N],m=this._getLayer(c.layerId).layer,c.checked?_.push(m):c.checked||C.push(m);for(N=0;N<C.length;N++)this._map.hasLayer(C[N])&&this._map.removeLayer(C[N]);for(N=0;N<_.length;N++)this._map.hasLayer(_[N])||this._map.addLayer(_[N]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,c,m,_=this._map.getZoom(),C=o.length-1;C>=0;C--)c=o[C],m=this._getLayer(c.layerId).layer,c.disabled=m.options.minZoom!==void 0&&_<m.options.minZoom||m.options.maxZoom!==void 0&&_>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,Ue(o,"click",It),this.expand();var c=this;setTimeout(function(){_t(o,"click",It),c._preventClick=!1})}}),Hs=function(o,c,m){return new Ya(o,c,m)},mr=_n.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var c="leaflet-control-zoom",m=Ze("div",c+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,c+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,c+"-out",m,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,c,m,_,C){var N=Ze("a",m,_);return N.innerHTML=o,N.href="#",N.title=c,N.setAttribute("role","button"),N.setAttribute("aria-label",c),Bs(N),Ue(N,"click",Vn),Ue(N,"click",C,this),Ue(N,"click",this._refocusOnMap,this),N},_updateDisabled:function(){var o=this._map,c="leaflet-disabled";vt(this._zoomInButton,c),vt(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Se(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Se(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});rt.mergeOptions({zoomControl:!0}),rt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new mr,this.addControl(this.zoomControl))});var Xa=function(o){return new mr(o)},hn=_n.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var c="leaflet-control-scale",m=Ze("div",c),_=this.options;return this._addScales(_,c+"-line",m),o.on(_.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),m},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,c,m){o.metric&&(this._mScale=Ze("div",c,m)),o.imperial&&(this._iScale=Ze("div",c,m))},_update:function(){var o=this._map,c=o.getSize().y/2,m=o.distance(o.containerPointToLatLng([0,c]),o.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(m)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var c=this._getRoundNum(o),m=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,m,c/o)},_updateImperial:function(o){var c=o*3.2808399,m,_,C;c>5280?(m=c/5280,_=this._getRoundNum(m),this._updateScale(this._iScale,_+" mi",_/m)):(C=this._getRoundNum(c),this._updateScale(this._iScale,C+" ft",C/c))},_updateScale:function(o,c,m){o.style.width=Math.round(this.options.maxWidth*m)+"px",o.innerHTML=c},_getRoundNum:function(o){var c=Math.pow(10,(Math.floor(o)+"").length-1),m=o/c;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,c*m}}),ni=function(o){return new hn(o)},Ws='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ri=_n.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ne.inlineSvg?Ws+" ":"")+"Leaflet</a>"},initialize:function(o){R(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=Ze("div","leaflet-control-attribution"),Bs(this._container);for(var c in o._layers)o._layers[c].getAttribution&&this.addAttribution(o._layers[c].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var c in this._attributions)this._attributions[c]&&o.push(c);var m=[];this.options.prefix&&m.push(this.options.prefix),o.length&&m.push(o.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});rt.mergeOptions({attributionControl:!0}),rt.addInitHook(function(){this.options.attributionControl&&new ri().addTo(this)});var bo=function(o){return new ri(o)};_n.Layers=Ya,_n.Zoom=mr,_n.Scale=hn,_n.Attribution=ri,nr.layers=Hs,nr.zoom=Xa,nr.scale=ni,nr.attribution=bo;var bn=fe.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});bn.addTo=function(o,c){return o.addHandler(c,this),this};var Ao={Events:Ie},jn=Ne.touch?"touchstart mousedown":"mousedown",Fn=ve.extend({options:{clickTolerance:3},initialize:function(o,c,m,_){R(this,_),this._element=o,this._dragStartTarget=c||o,this._preventOutline=m},enable:function(){this._enabled||(Ue(this._dragStartTarget,jn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Fn._dragging===this&&this.finishDrag(!0),_t(this._dragStartTarget,jn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Zr(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Fn._dragging===this&&this.finishDrag();return}if(!(Fn._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Fn._dragging=this,this._preventOutline&&ts(this._element),Vs(),nt(),!this._moving)){this.fire("down");var c=o.touches?o.touches[0]:o,m=kr(this._element);this._startPoint=new X(c.clientX,c.clientY),this._startPos=Rr(this._element),this._parentScale=Zt(m);var _=o.type==="mousedown";Ue(document,_?"mousemove":"touchmove",this._onMove,this),Ue(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var c=o.touches&&o.touches.length===1?o.touches[0]:o,m=new X(c.clientX,c.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,It(o),this._moved||(this.fire("dragstart"),this._moved=!0,Se(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Se(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Vt(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){vt(document.body,"leaflet-dragging"),this._lastTarget&&(vt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),_t(document,"mousemove touchmove",this._onMove,this),_t(document,"mouseup touchend touchcancel",this._onUp,this),js(),Dn();var c=this._moved&&this._moving;this._moving=!1,Fn._dragging=!1,c&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function Ro(o,c,m){var _,C=[1,4,2,8],N,K,te,se,pe,Pe,Be,tt;for(N=0,Pe=o.length;N<Pe;N++)o[N]._code=ie(o[N],c);for(te=0;te<4;te++){for(Be=C[te],_=[],N=0,Pe=o.length,K=Pe-1;N<Pe;K=N++)se=o[N],pe=o[K],se._code&Be?pe._code&Be||(tt=ee(pe,se,Be,c,m),tt._code=ie(tt,c),_.push(tt)):(pe._code&Be&&(tt=ee(pe,se,Be,c,m),tt._code=ie(tt,c),_.push(tt)),_.push(se));o=_}return o}function Ja(o,c){var m,_,C,N,K,te,se,pe,Pe;if(!o||o.length===0)throw new Error("latlngs not passed");dt(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Be=xe([0,0]),tt=be(o),dn=tt.getNorthWest().distanceTo(tt.getSouthWest())*tt.getNorthEast().distanceTo(tt.getNorthWest());dn<1700&&(Be=ko(o));var nn=o.length,sr=[];for(m=0;m<nn;m++){var Bn=xe(o[m]);sr.push(c.project(xe([Bn.lat-Be.lat,Bn.lng-Be.lng])))}for(te=se=pe=0,m=0,_=nn-1;m<nn;_=m++)C=sr[m],N=sr[_],K=C.y*N.x-N.y*C.x,se+=(C.x+N.x)*K,pe+=(C.y+N.y)*K,te+=K*3;te===0?Pe=sr[0]:Pe=[se/te,pe/te];var Wo=c.unproject(ae(Pe));return xe([Wo.lat+Be.lat,Wo.lng+Be.lng])}function ko(o){for(var c=0,m=0,_=0,C=0;C<o.length;C++){var N=xe(o[C]);c+=N.lat,m+=N.lng,_++}return xe([c/_,m/_])}var No={__proto__:null,clipPolygon:Ro,polygonCenter:Ja,centroid:ko};function tn(o,c){if(!c||!o.length)return o.slice();var m=c*c;return o=x(o,m),o=rs(o,m),o}function el(o,c,m){return Math.sqrt(We(o,c,m,!0))}function iu(o,c,m){return We(o,c,m)}function rs(o,c){var m=o.length,_=typeof Uint8Array<"u"?Uint8Array:Array,C=new _(m);C[0]=C[m-1]=1,f(o,C,c,0,m-1);var N,K=[];for(N=0;N<m;N++)C[N]&&K.push(o[N]);return K}function f(o,c,m,_,C){var N=0,K,te,se;for(te=_+1;te<=C-1;te++)se=We(o[te],o[_],o[C],!0),se>N&&(K=te,N=se);N>m&&(c[K]=1,f(o,c,m,_,K),f(o,c,m,K,C))}function x(o,c){for(var m=[o[0]],_=1,C=0,N=o.length;_<N;_++)Te(o[_],o[C])>c&&(m.push(o[_]),C=_);return C<N-1&&m.push(o[N-1]),m}var I;function D(o,c,m,_,C){var N=_?I:ie(o,m),K=ie(c,m),te,se,pe;for(I=K;;){if(!(N|K))return[o,c];if(N&K)return!1;te=N||K,se=ee(o,c,te,m,C),pe=ie(se,m),te===N?(o=se,N=pe):(c=se,K=pe)}}function ee(o,c,m,_,C){var N=c.x-o.x,K=c.y-o.y,te=_.min,se=_.max,pe,Pe;return m&8?(pe=o.x+N*(se.y-o.y)/K,Pe=se.y):m&4?(pe=o.x+N*(te.y-o.y)/K,Pe=te.y):m&2?(pe=se.x,Pe=o.y+K*(se.x-o.x)/N):m&1&&(pe=te.x,Pe=o.y+K*(te.x-o.x)/N),new X(pe,Pe,C)}function ie(o,c){var m=0;return o.x<c.min.x?m|=1:o.x>c.max.x&&(m|=2),o.y<c.min.y?m|=4:o.y>c.max.y&&(m|=8),m}function Te(o,c){var m=c.x-o.x,_=c.y-o.y;return m*m+_*_}function We(o,c,m,_){var C=c.x,N=c.y,K=m.x-C,te=m.y-N,se=K*K+te*te,pe;return se>0&&(pe=((o.x-C)*K+(o.y-N)*te)/se,pe>1?(C=m.x,N=m.y):pe>0&&(C+=K*pe,N+=te*pe)),K=o.x-C,te=o.y-N,_?K*K+te*te:new X(C,N)}function dt(o){return!H(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function mt(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),dt(o)}function zt(o,c){var m,_,C,N,K,te,se,pe;if(!o||o.length===0)throw new Error("latlngs not passed");dt(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Pe=xe([0,0]),Be=be(o),tt=Be.getNorthWest().distanceTo(Be.getSouthWest())*Be.getNorthEast().distanceTo(Be.getNorthWest());tt<1700&&(Pe=ko(o));var dn=o.length,nn=[];for(m=0;m<dn;m++){var sr=xe(o[m]);nn.push(c.project(xe([sr.lat-Pe.lat,sr.lng-Pe.lng])))}for(m=0,_=0;m<dn-1;m++)_+=nn[m].distanceTo(nn[m+1])/2;if(_===0)pe=nn[0];else for(m=0,N=0;m<dn-1;m++)if(K=nn[m],te=nn[m+1],C=K.distanceTo(te),N+=C,N>_){se=(N-_)/C,pe=[te.x-se*(te.x-K.x),te.y-se*(te.y-K.y)];break}var Bn=c.unproject(ae(pe));return xe([Bn.lat+Pe.lat,Bn.lng+Pe.lng])}var rr={__proto__:null,simplify:tn,pointToSegmentDistance:el,closestPointOnSegment:iu,clipSegment:D,_getEdgeIntersection:ee,_getBitCode:ie,_sqClosestPointOnSegment:We,isFlat:dt,_flat:mt,polylineCenter:zt},Nr={project:function(o){return new X(o.lng,o.lat)},unproject:function(o){return new Re(o.y,o.x)},bounds:new $([-180,-90],[180,90])},gr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new $([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var c=Math.PI/180,m=this.R,_=o.lat*c,C=this.R_MINOR/m,N=Math.sqrt(1-C*C),K=N*Math.sin(_),te=Math.tan(Math.PI/4-_/2)/Math.pow((1-K)/(1+K),N/2);return _=-m*Math.log(Math.max(te,1e-10)),new X(o.lng*c*m,_)},unproject:function(o){for(var c=180/Math.PI,m=this.R,_=this.R_MINOR/m,C=Math.sqrt(1-_*_),N=Math.exp(-o.y/m),K=Math.PI/2-2*Math.atan(N),te=0,se=.1,pe;te<15&&Math.abs(se)>1e-7;te++)pe=C*Math.sin(K),pe=Math.pow((1-pe)/(1+pe),C/2),se=Math.PI/2-2*Math.atan(N*pe)-K,K+=se;return new Re(K*c,o.x*c/m)}},ii={__proto__:null,LonLat:Nr,Mercator:gr,SphericalMercator:Ot},Lo=s({},Ye,{code:"EPSG:3395",projection:gr,transformation:(function(){var o=.5/(Math.PI*gr.R);return Ur(o,.5,-o,.5)})()}),Mo=s({},Ye,{code:"EPSG:4326",projection:Nr,transformation:Ur(1/180,1,-1/180,.5)}),Gp=s({},Je,{projection:Nr,transformation:Ur(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,c){var m=c.lng-o.lng,_=c.lat-o.lat;return Math.sqrt(m*m+_*_)},infinite:!0});Je.Earth=Ye,Je.EPSG3395=Lo,Je.EPSG3857=zr,Je.EPSG900913=_o,Je.EPSG4326=Mo,Je.Simple=Gp;var Lr=ve.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[p(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[p(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var c=o.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var m=this.getEvents();c.on(m,this),this.once("remove",function(){c.off(m,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});rt.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var c=p(o);return this._layers[c]?this:(this._layers[c]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var c=p(o);return this._layers[c]?(this._loaded&&o.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return p(o)in this._layers},eachLayer:function(o,c){for(var m in this._layers)o.call(c,this._layers[m]);return this},_addLayers:function(o){o=o?H(o)?o:[o]:[];for(var c=0,m=o.length;c<m;c++)this.addLayer(o[c])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[p(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var c=p(o);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,c=-1/0,m=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var C=this._zoomBoundLayers[_].options;o=C.minZoom===void 0?o:Math.min(o,C.minZoom),c=C.maxZoom===void 0?c:Math.max(c,C.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=o===1/0?void 0:o,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var is=Lr.extend({initialize:function(o,c){R(this,c),this._layers={};var m,_;if(o)for(m=0,_=o.length;m<_;m++)this.addLayer(o[m])},addLayer:function(o){var c=this.getLayerId(o);return this._layers[c]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var c=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(o){var c=typeof o=="number"?o:this.getLayerId(o);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var c=Array.prototype.slice.call(arguments,1),m,_;for(m in this._layers)_=this._layers[m],_[o]&&_[o].apply(_,c);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,c){for(var m in this._layers)o.call(c,this._layers[m]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return p(o)}}),tl=function(o,c){return new is(o,c)},Si=is.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),is.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),is.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Ee;for(var c in this._layers){var m=this._layers[c];o.extend(m.getBounds?m.getBounds():m.getLatLng())}return o}}),td=function(o,c){return new Si(o,c)},$s=fe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){R(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,c){var m=this._getIconUrl(o);if(!m){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(m,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(_,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(o,c){var m=this.options,_=m[c+"Size"];typeof _=="number"&&(_=[_,_]);var C=ae(_),N=ae(c==="shadow"&&m.shadowAnchor||m.iconAnchor||C&&C.divideBy(2,!0));o.className="leaflet-marker-"+c+" "+(m.className||""),N&&(o.style.marginLeft=-N.x+"px",o.style.marginTop=-N.y+"px"),C&&(o.style.width=C.x+"px",o.style.height=C.y+"px")},_createImg:function(o,c){return c=c||document.createElement("img"),c.src=o,c},_getIconUrl:function(o){return Ne.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function nd(o){return new $s(o)}var Oo=$s.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Oo.imagePath!="string"&&(Oo.imagePath=this._detectIconPath()),(this.options.imagePath||Oo.imagePath)+$s.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var c=function(m,_,C){var N=_.exec(m);return N&&N[C]};return o=c(o,/^url\((['"])?(.+)\1\)$/,2),o&&c(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=Ze("div","leaflet-default-icon-path",document.body),c=Xi(o,"background-image")||Xi(o,"backgroundImage");if(document.body.removeChild(o),c=this._stripUrl(c),c)return c;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),_c=bn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Fn(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Se(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&vt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var c=this._marker,m=c._map,_=this._marker.options.autoPanSpeed,C=this._marker.options.autoPanPadding,N=Rr(c._icon),K=m.getPixelBounds(),te=m.getPixelOrigin(),se=ue(K.min._subtract(te).add(C),K.max._subtract(te).subtract(C));if(!se.contains(N)){var pe=ae((Math.max(se.max.x,N.x)-se.max.x)/(K.max.x-se.max.x)-(Math.min(se.min.x,N.x)-se.min.x)/(K.min.x-se.min.x),(Math.max(se.max.y,N.y)-se.max.y)/(K.max.y-se.max.y)-(Math.min(se.min.y,N.y)-se.min.y)/(K.min.y-se.min.y)).multiplyBy(_);m.panBy(pe,{animate:!1}),this._draggable._newPos._add(pe),this._draggable._startPos._add(pe),Vt(c._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=q(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=q(this._adjustPan.bind(this,o)))},_onDrag:function(o){var c=this._marker,m=c._shadow,_=Rr(c._icon),C=c._map.layerPointToLatLng(_);m&&Vt(m,_),c._latlng=C,o.latlng=C,o.oldLatLng=this._oldLatLng,c.fire("move",o).fire("drag",o)},_onDragEnd:function(o){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Ci=Lr.extend({options:{icon:new Oo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,c){R(this,c),this._latlng=xe(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var c=this._latlng;return this._latlng=xe(o),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=o.icon.createIcon(this._icon),_=!1;m!==this._icon&&(this._icon&&this._removeIcon(),_=!0,o.title&&(m.title=o.title),m.tagName==="IMG"&&(m.alt=o.alt||"")),Se(m,c),o.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ue(m,"focus",this._panOnFocus,this);var C=o.icon.createShadow(this._shadow),N=!1;C!==this._shadow&&(this._removeShadow(),N=!0),C&&(Se(C,c),C.alt=""),this._shadow=C,o.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),C&&N&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_t(this._icon,"focus",this._panOnFocus,this),ht(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ht(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Vt(this._icon,o),this._shadow&&Vt(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Se(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),_c)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new _c(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&vn(this._icon,o),this._shadow&&vn(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var c=this.options.icon.options,m=c.iconSize?ae(c.iconSize):ae(0,0),_=c.iconAnchor?ae(c.iconAnchor):ae(0,0);o.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:m.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Kp(o,c){return new Ci(o,c)}var ss=Lr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return R(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),su=ss.extend({options:{fill:!0,radius:10},initialize:function(o,c){R(this,c),this._latlng=xe(o),this._radius=this.options.radius},setLatLng:function(o){var c=this._latlng;return this._latlng=xe(o),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var c=o&&o.radius||this._radius;return ss.prototype.setStyle.call(this,o),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,c=this._radiusY||o,m=this._clickTolerance(),_=[o+m,c+m];this._pxBounds=new $(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function rd(o,c){return new su(o,c)}var ou=su.extend({initialize:function(o,c,m){if(typeof c=="number"&&(c=s({},m,{radius:c})),R(this,c),this._latlng=xe(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Ee(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:ss.prototype.setStyle,_project:function(){var o=this._latlng.lng,c=this._latlng.lat,m=this._map,_=m.options.crs;if(_.distance===Ye.distance){var C=Math.PI/180,N=this._mRadius/Ye.R/C,K=m.project([c+N,o]),te=m.project([c-N,o]),se=K.add(te).divideBy(2),pe=m.unproject(se).lat,Pe=Math.acos((Math.cos(N*C)-Math.sin(c*C)*Math.sin(pe*C))/(Math.cos(c*C)*Math.cos(pe*C)))/C;(isNaN(Pe)||Pe===0)&&(Pe=N/Math.cos(Math.PI/180*c)),this._point=se.subtract(m.getPixelOrigin()),this._radius=isNaN(Pe)?0:se.x-m.project([pe,o-Pe]).x,this._radiusY=se.y-K.y}else{var Be=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(Be).x}this._updateBounds()}});function nl(o,c,m){return new ou(o,c,m)}var ir=ss.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,c){R(this,c),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var c=1/0,m=null,_=We,C,N,K=0,te=this._parts.length;K<te;K++)for(var se=this._parts[K],pe=1,Pe=se.length;pe<Pe;pe++){C=se[pe-1],N=se[pe];var Be=_(o,C,N,!0);Be<c&&(c=Be,m=_(o,C,N))}return m&&(m.distance=Math.sqrt(c)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return zt(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,c){return c=c||this._defaultShape(),o=xe(o),c.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Ee,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return dt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var c=[],m=dt(o),_=0,C=o.length;_<C;_++)m?(c[_]=xe(o[_]),this._bounds.extend(c[_])):c[_]=this._convertLatLngs(o[_]);return c},_project:function(){var o=new $;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),c=new X(o,o);this._rawPxBounds&&(this._pxBounds=new $([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(o,c,m){var _=o[0]instanceof Re,C=o.length,N,K;if(_){for(K=[],N=0;N<C;N++)K[N]=this._map.latLngToLayerPoint(o[N]),m.extend(K[N]);c.push(K)}else for(N=0;N<C;N++)this._projectLatlngs(o[N],c,m)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,m,_,C,N,K,te,se;for(m=0,C=0,N=this._rings.length;m<N;m++)for(se=this._rings[m],_=0,K=se.length;_<K-1;_++)te=D(se[_],se[_+1],o,_,!0),te&&(c[C]=c[C]||[],c[C].push(te[0]),(te[1]!==se[_+1]||_===K-2)&&(c[C].push(te[1]),C++))}},_simplifyPoints:function(){for(var o=this._parts,c=this.options.smoothFactor,m=0,_=o.length;m<_;m++)o[m]=tn(o[m],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,c){var m,_,C,N,K,te,se=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(m=0,N=this._parts.length;m<N;m++)for(te=this._parts[m],_=0,K=te.length,C=K-1;_<K;C=_++)if(!(!c&&_===0)&&el(o,te[C],te[_])<=se)return!0;return!1}});function Zp(o,c){return new ir(o,c)}ir._flat=mt;var Ii=ir.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ja(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var c=ir.prototype._convertLatLngs.call(this,o),m=c.length;return m>=2&&c[0]instanceof Re&&c[0].equals(c[m-1])&&c.pop(),c},_setLatLngs:function(o){ir.prototype._setLatLngs.call(this,o),dt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return dt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,c=this.options.weight,m=new X(c,c);if(o=new $(o.min.subtract(m),o.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,C=this._rings.length,N;_<C;_++)N=Ro(this._rings[_],o,!0),N.length&&this._parts.push(N)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var c=!1,m,_,C,N,K,te,se,pe;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(N=0,se=this._parts.length;N<se;N++)for(m=this._parts[N],K=0,pe=m.length,te=pe-1;K<pe;te=K++)_=m[K],C=m[te],_.y>o.y!=C.y>o.y&&o.x<(C.x-_.x)*(o.y-_.y)/(C.y-_.y)+_.x&&(c=!c);return c||ir.prototype._containsPoint.call(this,o,!0)}});function Qp(o,c){return new Ii(o,c)}var si=Si.extend({initialize:function(o,c){R(this,c),this._layers={},o&&this.addData(o)},addData:function(o){var c=H(o)?o:o.features,m,_,C;if(c){for(m=0,_=c.length;m<_;m++)C=c[m],(C.geometries||C.geometry||C.features||C.coordinates)&&this.addData(C);return this}var N=this.options;if(N.filter&&!N.filter(o))return this;var K=Do(o,N);return K?(K.feature=hu(o),K.defaultOptions=K.options,this.resetStyle(K),N.onEachFeature&&N.onEachFeature(o,K),this.addLayer(K)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=s({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(c){this._setLayerStyle(c,o)},this)},_setLayerStyle:function(o,c){o.setStyle&&(typeof c=="function"&&(c=c(o.feature)),o.setStyle(c))}});function Do(o,c){var m=o.type==="Feature"?o.geometry:o,_=m?m.coordinates:null,C=[],N=c&&c.pointToLayer,K=c&&c.coordsToLatLng||lu,te,se,pe,Pe;if(!_&&!m)return null;switch(m.type){case"Point":return te=K(_),au(N,o,te,c);case"MultiPoint":for(pe=0,Pe=_.length;pe<Pe;pe++)te=K(_[pe]),C.push(au(N,o,te,c));return new Si(C);case"LineString":case"MultiLineString":return se=rl(_,m.type==="LineString"?0:1,K),new ir(se,c);case"Polygon":case"MultiPolygon":return se=rl(_,m.type==="Polygon"?1:2,K),new Ii(se,c);case"GeometryCollection":for(pe=0,Pe=m.geometries.length;pe<Pe;pe++){var Be=Do({geometry:m.geometries[pe],type:"Feature",properties:o.properties},c);Be&&C.push(Be)}return new Si(C);case"FeatureCollection":for(pe=0,Pe=m.features.length;pe<Pe;pe++){var tt=Do(m.features[pe],c);tt&&C.push(tt)}return new Si(C);default:throw new Error("Invalid GeoJSON object.")}}function au(o,c,m,_){return o?o(c,m):new Ci(m,_&&_.markersInheritOptions&&_)}function lu(o){return new Re(o[1],o[0],o[2])}function rl(o,c,m){for(var _=[],C=0,N=o.length,K;C<N;C++)K=c?rl(o[C],c-1,m):(m||lu)(o[C]),_.push(K);return _}function uu(o,c){return o=xe(o),o.alt!==void 0?[S(o.lng,c),S(o.lat,c),S(o.alt,c)]:[S(o.lng,c),S(o.lat,c)]}function cu(o,c,m,_){for(var C=[],N=0,K=o.length;N<K;N++)C.push(c?cu(o[N],dt(o[N])?0:c-1,m,_):uu(o[N],_));return!c&&m&&C.length>0&&C.push(C[0].slice()),C}function Vo(o,c){return o.feature?s({},o.feature,{geometry:c}):hu(c)}function hu(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var wc={toGeoJSON:function(o){return Vo(this,{type:"Point",coordinates:uu(this.getLatLng(),o)})}};Ci.include(wc),ou.include(wc),su.include(wc),ir.include({toGeoJSON:function(o){var c=!dt(this._latlngs),m=cu(this._latlngs,c?1:0,!1,o);return Vo(this,{type:(c?"Multi":"")+"LineString",coordinates:m})}}),Ii.include({toGeoJSON:function(o){var c=!dt(this._latlngs),m=c&&!dt(this._latlngs[0]),_=cu(this._latlngs,m?2:c?1:0,!0,o);return c||(_=[_]),Vo(this,{type:(m?"Multi":"")+"Polygon",coordinates:_})}}),is.include({toMultiPoint:function(o){var c=[];return this.eachLayer(function(m){c.push(m.toGeoJSON(o).geometry.coordinates)}),Vo(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(o){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(o);var m=c==="GeometryCollection",_=[];return this.eachLayer(function(C){if(C.toGeoJSON){var N=C.toGeoJSON(o);if(m)_.push(N.geometry);else{var K=hu(N);K.type==="FeatureCollection"?_.push.apply(_,K.features):_.push(K)}}}),m?Vo(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function id(o,c){return new si(o,c)}var Mr=id,os=Lr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,c,m){this._url=o,this._bounds=be(c),R(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Se(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ht(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&fr(this._image),this},bringToBack:function(){return this._map&&In(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=be(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",c=this._image=o?this._url:Ze("img");if(Se(c,"leaflet-image-layer"),this._zoomAnimated&&Se(c,"leaflet-zoom-animated"),this.options.className&&Se(c,this.options.className),c.onselectstart=T,c.onmousemove=T,c.onload=u(this.fire,this,"load"),c.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(o){var c=this._map.getZoomScale(o.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Xn(this._image,m,c)},_reset:function(){var o=this._image,c=new $(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=c.getSize();Vt(o,c.min),o.style.width=m.x+"px",o.style.height=m.y+"px"},_updateOpacity:function(){vn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),sd=function(o,c,m){return new os(o,c,m)},Tc=os.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",c=this._image=o?this._url:Ze("video");if(Se(c,"leaflet-image-layer"),this._zoomAnimated&&Se(c,"leaflet-zoom-animated"),this.options.className&&Se(c,this.options.className),c.onselectstart=T,c.onmousemove=T,c.onloadeddata=u(this.fire,this,"load"),o){for(var m=c.getElementsByTagName("source"),_=[],C=0;C<m.length;C++)_.push(m[C].src);this._url=m.length>0?_:[c.src];return}H(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var N=0;N<this._url.length;N++){var K=Ze("source");K.src=this._url[N],c.appendChild(K)}}});function od(o,c,m){return new Tc(o,c,m)}var Ec=os.extend({_initImage:function(){var o=this._image=this._url;Se(o,"leaflet-image-layer"),this._zoomAnimated&&Se(o,"leaflet-zoom-animated"),this.options.className&&Se(o,this.options.className),o.onselectstart=T,o.onmousemove=T}});function xc(o,c,m){return new Ec(o,c,m)}var oi=Lr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,c){o&&(o instanceof Re||H(o))?(this._latlng=xe(o),R(this,c)):(R(this,o),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&vn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&vn(this._container,1),this.bringToFront(),this.options.interactive&&(Se(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(vn(this._container,0),this._removeTimeout=setTimeout(u(ht,void 0,this._container),200)):ht(this._container),this.options.interactive&&(vt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=xe(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&fr(this._container),this},bringToBack:function(){return this._map&&In(this._container),this},_prepareOpen:function(o){var c=this._source;if(!c._map)return!1;if(c instanceof Si){c=null;var m=this._source._layers;for(var _ in m)if(m[_]._map){c=m[_];break}if(!c)return!1;this._source=c}if(!o)if(c.getCenter)o=c.getCenter();else if(c.getLatLng)o=c.getLatLng();else if(c.getBounds)o=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")o.innerHTML=c;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),c=ae(this.options.offset),m=this._getAnchor();this._zoomAnimated?Vt(this._container,o.add(m)):c=c.add(o).add(m);var _=this._containerBottom=-c.y,C=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=_+"px",this._container.style.left=C+"px"}},_getAnchor:function(){return[0,0]}});rt.include({_initOverlay:function(o,c,m,_){var C=c;return C instanceof o||(C=new o(_).setContent(c)),m&&C.setLatLng(m),C}}),Lr.include({_initOverlay:function(o,c,m,_){var C=m;return C instanceof o?(R(C,_),C._source=this):(C=c&&!_?c:new o(_,this),C.setContent(m)),C}});var du=oi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,oi.prototype.openOn.call(this,o)},onAdd:function(o){oi.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ss||this._source.on("preclick",ut))},onRemove:function(o){oi.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ss||this._source.off("preclick",ut))},getEvents:function(){var o=oi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",c=this._container=Ze("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=Ze("div",o+"-content-wrapper",c);if(this._contentNode=Ze("div",o+"-content",m),Bs(c),Io(this._contentNode),Ue(c,"contextmenu",ut),this._tipContainer=Ze("div",o+"-tip-container",c),this._tip=Ze("div",o+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Ze("a",o+"-close-button",c);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Ue(_,"click",function(C){It(C),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,c=o.style;c.width="",c.whiteSpace="nowrap";var m=o.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),c.width=m+1+"px",c.whiteSpace="",c.height="";var _=o.offsetHeight,C=this.options.maxHeight,N="leaflet-popup-scrolled";C&&_>C?(c.height=C+"px",Se(o,N)):vt(o,N),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),m=this._getAnchor();Vt(this._container,c.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,c=parseInt(Xi(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+c,_=this._containerWidth,C=new X(this._containerLeft,-m-this._containerBottom);C._add(Rr(this._container));var N=o.layerPointToContainerPoint(C),K=ae(this.options.autoPanPadding),te=ae(this.options.autoPanPaddingTopLeft||K),se=ae(this.options.autoPanPaddingBottomRight||K),pe=o.getSize(),Pe=0,Be=0;N.x+_+se.x>pe.x&&(Pe=N.x+_-pe.x+se.x),N.x-Pe-te.x<0&&(Pe=N.x-te.x),N.y+m+se.y>pe.y&&(Be=N.y+m-pe.y+se.y),N.y-Be-te.y<0&&(Be=N.y-te.y),(Pe||Be)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([Pe,Be]))}},_getAnchor:function(){return ae(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),jo=function(o,c){return new du(o,c)};rt.mergeOptions({closePopupOnClick:!0}),rt.include({openPopup:function(o,c,m){return this._initOverlay(du,o,c,m).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),Lr.include({bindPopup:function(o,c){return this._popup=this._initOverlay(du,this._popup,o,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Si||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){Vn(o);var c=o.layer||o.target;if(this._popup._source===c&&!(c instanceof ss)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=c,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Fo=oi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){oi.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){oi.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=oi.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",c=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ze("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var c,m,_=this._map,C=this._container,N=_.latLngToContainerPoint(_.getCenter()),K=_.layerPointToContainerPoint(o),te=this.options.direction,se=C.offsetWidth,pe=C.offsetHeight,Pe=ae(this.options.offset),Be=this._getAnchor();te==="top"?(c=se/2,m=pe):te==="bottom"?(c=se/2,m=0):te==="center"?(c=se/2,m=pe/2):te==="right"?(c=0,m=pe/2):te==="left"?(c=se,m=pe/2):K.x<N.x?(te="right",c=0,m=pe/2):(te="left",c=se+(Pe.x+Be.x)*2,m=pe/2),o=o.subtract(ae(c,m,!0)).add(Pe).add(Be),vt(C,"leaflet-tooltip-right"),vt(C,"leaflet-tooltip-left"),vt(C,"leaflet-tooltip-top"),vt(C,"leaflet-tooltip-bottom"),Se(C,"leaflet-tooltip-"+te),Vt(C,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&vn(this._container,o)},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(c)},_getAnchor:function(){return ae(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),il=function(o,c){return new Fo(o,c)};rt.include({openTooltip:function(o,c,m){return this._initOverlay(Fo,o,c,m).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Lr.include({bindTooltip:function(o,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Fo,this._tooltip,o,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var c=o?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[c](m),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Si||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var c=typeof o.getElement=="function"&&o.getElement();c&&(Ue(c,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Ue(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var c=typeof o.getElement=="function"&&o.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var c=o.latlng,m,_;this._tooltip.options.sticky&&o.originalEvent&&(m=this._map.mouseEventToContainerPoint(o.originalEvent),_=this._map.containerPointToLayerPoint(m),c=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(c)}});var fu=$s.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var c=o&&o.tagName==="DIV"?o:document.createElement("div"),m=this.options;if(m.html instanceof Element?(Cn(c),c.appendChild(m.html)):c.innerHTML=m.html!==!1?m.html:"",m.bgPos){var _=ae(m.bgPos);c.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function ad(o){return new fu(o)}$s.Default=Oo;var as=Lr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ne.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){R(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),ht(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(fr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(In(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof X?o:new X(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var c=this.getPane().children,m=-o(-1/0,1/0),_=0,C=c.length,N;_<C;_++)N=c[_].style.zIndex,c[_]!==this._container&&N&&(m=o(m,+N));isFinite(m)&&(this.options.zIndex=m+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ne.ielt9){vn(this._container,this.options.opacity);var o=+new Date,c=!1,m=!1;for(var _ in this._tiles){var C=this._tiles[_];if(!(!C.current||!C.loaded)){var N=Math.min(1,(o-C.loaded)/200);vn(C.el,N),N<1?c=!0:(C.active?m=!0:this._onOpaqueTile(C),C.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),c&&(U(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this))}},_onOpaqueTile:T,_initContainer:function(){this._container||(this._container=Ze("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,c=this.options.maxZoom;if(o!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===o?(this._levels[m].el.style.zIndex=c-Math.abs(o-m),this._onUpdateLevel(m)):(ht(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var _=this._levels[o],C=this._map;return _||(_=this._levels[o]={},_.el=Ze("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=c,_.origin=C.project(C.unproject(C.getPixelOrigin()),o).round(),_.zoom=o,this._setZoomTransform(_,C.getCenter(),C.getZoom()),T(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:T,_onRemoveLevel:T,_onCreateLevel:T,_pruneTiles:function(){if(this._map){var o,c,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)c=this._tiles[o],c.retain=c.current;for(o in this._tiles)if(c=this._tiles[o],c.current&&!c.active){var _=c.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var c in this._tiles)this._tiles[c].coords.z===o&&this._removeTile(c)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)ht(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,c,m,_){var C=Math.floor(o/2),N=Math.floor(c/2),K=m-1,te=new X(+C,+N);te.z=+K;var se=this._tileCoordsToKey(te),pe=this._tiles[se];return pe&&pe.active?(pe.retain=!0,!0):(pe&&pe.loaded&&(pe.retain=!0),K>_?this._retainParent(C,N,K,_):!1)},_retainChildren:function(o,c,m,_){for(var C=2*o;C<2*o+2;C++)for(var N=2*c;N<2*c+2;N++){var K=new X(C,N);K.z=m+1;var te=this._tileCoordsToKey(K),se=this._tiles[te];if(se&&se.active){se.retain=!0;continue}else se&&se.loaded&&(se.retain=!0);m+1<_&&this._retainChildren(C,N,m+1,_)}},_resetView:function(o){var c=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var c=this.options;return c.minNativeZoom!==void 0&&o<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<o?c.maxNativeZoom:o},_setView:function(o,c,m,_){var C=Math.round(c);this.options.maxZoom!==void 0&&C>this.options.maxZoom||this.options.minZoom!==void 0&&C<this.options.minZoom?C=void 0:C=this._clampZoom(C);var N=this.options.updateWhenZooming&&C!==this._tileZoom;(!_||N)&&(this._tileZoom=C,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),C!==void 0&&this._update(o),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(o,c)},_setZoomTransforms:function(o,c){for(var m in this._levels)this._setZoomTransform(this._levels[m],o,c)},_setZoomTransform:function(o,c,m){var _=this._map.getZoomScale(m,o.zoom),C=o.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(c,m)).round();Ne.any3d?Xn(o.el,C,_):Vt(o.el,C)},_resetGrid:function(){var o=this._map,c=o.options.crs,m=this._tileSize=this.getTileSize(),_=this._tileZoom,C=this._map.getPixelWorldBounds(this._tileZoom);C&&(this._globalTileRange=this._pxBoundsToTileRange(C)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,c.wrapLng[0]],_).x/m.x),Math.ceil(o.project([0,c.wrapLng[1]],_).x/m.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([c.wrapLat[0],0],_).y/m.x),Math.ceil(o.project([c.wrapLat[1],0],_).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var c=this._map,m=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),_=c.getZoomScale(m,this._tileZoom),C=c.project(o,this._tileZoom).floor(),N=c.getSize().divideBy(_*2);return new $(C.subtract(N),C.add(N))},_update:function(o){var c=this._map;if(c){var m=this._clampZoom(c.getZoom());if(o===void 0&&(o=c.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(o),C=this._pxBoundsToTileRange(_),N=C.getCenter(),K=[],te=this.options.keepBuffer,se=new $(C.getBottomLeft().subtract([te,-te]),C.getTopRight().add([te,-te]));if(!(isFinite(C.min.x)&&isFinite(C.min.y)&&isFinite(C.max.x)&&isFinite(C.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var pe in this._tiles){var Pe=this._tiles[pe].coords;(Pe.z!==this._tileZoom||!se.contains(new X(Pe.x,Pe.y)))&&(this._tiles[pe].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(o,m);return}for(var Be=C.min.y;Be<=C.max.y;Be++)for(var tt=C.min.x;tt<=C.max.x;tt++){var dn=new X(tt,Be);if(dn.z=this._tileZoom,!!this._isValidTile(dn)){var nn=this._tiles[this._tileCoordsToKey(dn)];nn?nn.current=!0:K.push(dn)}}if(K.sort(function(Bn,Wo){return Bn.distanceTo(N)-Wo.distanceTo(N)}),K.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var sr=document.createDocumentFragment();for(tt=0;tt<K.length;tt++)this._addTile(K[tt],sr);this._level.el.appendChild(sr)}}}},_isValidTile:function(o){var c=this._map.options.crs;if(!c.infinite){var m=this._globalTileRange;if(!c.wrapLng&&(o.x<m.min.x||o.x>m.max.x)||!c.wrapLat&&(o.y<m.min.y||o.y>m.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(o);return be(this.options.bounds).overlaps(_)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var c=this._map,m=this.getTileSize(),_=o.scaleBy(m),C=_.add(m),N=c.unproject(_,o.z),K=c.unproject(C,o.z);return[N,K]},_tileCoordsToBounds:function(o){var c=this._tileCoordsToNwSe(o),m=new Ee(c[0],c[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var c=o.split(":"),m=new X(+c[0],+c[1]);return m.z=+c[2],m},_removeTile:function(o){var c=this._tiles[o];c&&(ht(c.el),delete this._tiles[o],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Se(o,"leaflet-tile");var c=this.getTileSize();o.style.width=c.x+"px",o.style.height=c.y+"px",o.onselectstart=T,o.onmousemove=T,Ne.ielt9&&this.options.opacity<1&&vn(o,this.options.opacity)},_addTile:function(o,c){var m=this._getTilePos(o),_=this._tileCoordsToKey(o),C=this.createTile(this._wrapCoords(o),u(this._tileReady,this,o));this._initTile(C),this.createTile.length<2&&q(u(this._tileReady,this,o,null,C)),Vt(C,m),this._tiles[_]={el:C,coords:o,current:!0},c.appendChild(C),this.fire("tileloadstart",{tile:C,coords:o})},_tileReady:function(o,c,m){c&&this.fire("tileerror",{error:c,tile:m,coords:o});var _=this._tileCoordsToKey(o);m=this._tiles[_],m&&(m.loaded=+new Date,this._map._fadeAnimated?(vn(m.el,0),U(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),c||(Se(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ne.ielt9||!this._map._fadeAnimated?q(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var c=new X(this._wrapX?v(o.x,this._wrapX):o.x,this._wrapY?v(o.y,this._wrapY):o.y);return c.z=o.z,c},_pxBoundsToTileRange:function(o){var c=this.getTileSize();return new $(o.min.unscaleBy(c).floor(),o.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function Bo(o){return new as(o)}var ls=as.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,c){this._url=o,c=R(this,c),c.detectRetina&&Ne.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,c){return this._url===o&&c===void 0&&(c=!0),this._url=o,c||this.redraw(),this},createTile:function(o,c){var m=document.createElement("img");return Ue(m,"load",u(this._tileOnLoad,this,c,m)),Ue(m,"error",u(this._tileOnError,this,c,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(o),m},getTileUrl:function(o){var c={r:Ne.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-o.y;this.options.tms&&(c.y=m),c["-y"]=m}return z(this._url,s(c,this.options))},_tileOnLoad:function(o,c){Ne.ielt9?setTimeout(u(o,this,null,c),0):o(null,c)},_tileOnError:function(o,c,m){var _=this.options.errorTileUrl;_&&c.getAttribute("src")!==_&&(c.src=_),o(m,c)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,c=this.options.maxZoom,m=this.options.zoomReverse,_=this.options.zoomOffset;return m&&(o=c-o),o+_},_getSubdomain:function(o){var c=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var o,c;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(c=this._tiles[o].el,c.onload=T,c.onerror=T,!c.complete)){c.src=le;var m=this._tiles[o].coords;ht(c),delete this._tiles[o],this.fire("tileabort",{tile:c,coords:m})}},_removeTile:function(o){var c=this._tiles[o];if(c)return c.el.setAttribute("src",le),as.prototype._removeTile.call(this,o)},_tileReady:function(o,c,m){if(!(!this._map||m&&m.getAttribute("src")===le))return as.prototype._tileReady.call(this,o,c,m)}});function Pc(o,c){return new ls(o,c)}var sl=ls.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,c){this._url=o;var m=s({},this.defaultWmsParams);for(var _ in c)_ in this.options||(m[_]=c[_]);c=R(this,c);var C=c.detectRetina&&Ne.retina?2:1,N=this.getTileSize();m.width=N.x*C,m.height=N.y*C,this.wmsParams=m},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,ls.prototype.onAdd.call(this,o)},getTileUrl:function(o){var c=this._tileCoordsToNwSe(o),m=this._crs,_=ue(m.project(c[0]),m.project(c[1])),C=_.min,N=_.max,K=(this._wmsVersion>=1.3&&this._crs===Mo?[C.y,C.x,N.y,N.x]:[C.x,C.y,N.x,N.y]).join(","),te=ls.prototype.getTileUrl.call(this,o);return te+M(this.wmsParams,te,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+K},setParams:function(o,c){return s(this.wmsParams,o),c||this.redraw(),this}});function ld(o,c){return new sl(o,c)}ls.WMS=sl,Pc.wms=ld;var ai=Lr.extend({options:{padding:.1},initialize:function(o){R(this,o),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Se(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,c){var m=this._map.getZoomScale(c,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),C=this._map.project(this._center,c),N=_.multiplyBy(-m).add(C).subtract(this._map._getNewPixelOrigin(o,c));Ne.any3d?Xn(this._container,N,m):Vt(this._container,N)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,c=this._map.getSize(),m=this._map.containerPointToLayerPoint(c.multiplyBy(-o)).round();this._bounds=new $(m,m.add(c.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Sc=ai.extend({options:{tolerance:0},getEvents:function(){var o=ai.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ai.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Ue(o,"mousemove",this._onMouseMove,this),Ue(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ue(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,ht(this._container),_t(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var c in this._layers)o=this._layers[c],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ai.prototype._update.call(this);var o=this._bounds,c=this._container,m=o.getSize(),_=Ne.retina?2:1;Vt(c,o.min),c.width=_*m.x,c.height=_*m.y,c.style.width=m.x+"px",c.style.height=m.y+"px",Ne.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){ai.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[p(o)]=o;var c=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var c=o._order,m=c.next,_=c.prev;m?m.prev=_:this._drawLast=_,_?_.next=m:this._drawFirst=m,delete o._order,delete this._layers[p(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var c=o.options.dashArray.split(/[, ]+/),m=[],_,C;for(C=0;C<c.length;C++){if(_=Number(c[C]),isNaN(_))return;m.push(_)}o.options._dashArray=m}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||q(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var c=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new $,this._redrawBounds.extend(o._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(o._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var c=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,c=this._redrawBounds;if(this._ctx.save(),c){var m=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)o=_.layer,(!c||o._pxBounds&&o._pxBounds.intersects(c))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,c){if(this._drawing){var m,_,C,N,K=o._parts,te=K.length,se=this._ctx;if(te){for(se.beginPath(),m=0;m<te;m++){for(_=0,C=K[m].length;_<C;_++)N=K[m][_],se[_?"lineTo":"moveTo"](N.x,N.y);c&&se.closePath()}this._fillStroke(se,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var c=o._point,m=this._ctx,_=Math.max(Math.round(o._radius),1),C=(Math.max(Math.round(o._radiusY),1)||_)/_;C!==1&&(m.save(),m.scale(1,C)),m.beginPath(),m.arc(c.x,c.y/C,_,0,Math.PI*2,!1),C!==1&&m.restore(),this._fillStroke(m,o)}},_fillStroke:function(o,c){var m=c.options;m.fill&&(o.globalAlpha=m.fillOpacity,o.fillStyle=m.fillColor||m.color,o.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(o.setLineDash&&o.setLineDash(c.options&&c.options._dashArray||[]),o.globalAlpha=m.opacity,o.lineWidth=m.weight,o.strokeStyle=m.color,o.lineCap=m.lineCap,o.lineJoin=m.lineJoin,o.stroke())},_onClick:function(o){for(var c=this._map.mouseEventToLayerPoint(o),m,_,C=this._drawFirst;C;C=C.next)m=C.layer,m.options.interactive&&m._containsPoint(c)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(m))&&(_=m);this._fireEvent(_?[_]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,c)}},_handleMouseOut:function(o){var c=this._hoveredLayer;c&&(vt(this._container,"leaflet-interactive"),this._fireEvent([c],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,c){if(!this._mouseHoverThrottled){for(var m,_,C=this._drawFirst;C;C=C.next)m=C.layer,m.options.interactive&&m._containsPoint(c)&&(_=m);_!==this._hoveredLayer&&(this._handleMouseOut(o),_&&(Se(this._container,"leaflet-interactive"),this._fireEvent([_],o,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,c,m){this._map._fireDOMEvent(c,m||c.type,o)},_bringToFront:function(o){var c=o._order;if(c){var m=c.next,_=c.prev;if(m)m.prev=_;else return;_?_.next=m:m&&(this._drawFirst=m),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(o)}},_bringToBack:function(o){var c=o._order;if(c){var m=c.next,_=c.prev;if(_)_.next=m;else return;m?m.prev=_:_&&(this._drawLast=_),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(o)}}});function Cc(o){return Ne.canvas?new Sc(o):null}var Uo=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ud={_initContainer:function(){this._container=Ze("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ai.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var c=o._container=Uo("shape");Se(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",o._path=Uo("path"),c.appendChild(o._path),this._updateStyle(o),this._layers[p(o)]=o},_addPath:function(o){var c=o._container;this._container.appendChild(c),o.options.interactive&&o.addInteractiveTarget(c)},_removePath:function(o){var c=o._container;ht(c),o.removeInteractiveTarget(c),delete this._layers[p(o)]},_updateStyle:function(o){var c=o._stroke,m=o._fill,_=o.options,C=o._container;C.stroked=!!_.stroke,C.filled=!!_.fill,_.stroke?(c||(c=o._stroke=Uo("stroke")),C.appendChild(c),c.weight=_.weight+"px",c.color=_.color,c.opacity=_.opacity,_.dashArray?c.dashStyle=H(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=_.lineCap.replace("butt","flat"),c.joinstyle=_.lineJoin):c&&(C.removeChild(c),o._stroke=null),_.fill?(m||(m=o._fill=Uo("fill")),C.appendChild(m),m.color=_.fillColor||_.color,m.opacity=_.fillOpacity):m&&(C.removeChild(m),o._fill=null)},_updateCircle:function(o){var c=o._point.round(),m=Math.round(o._radius),_=Math.round(o._radiusY||m);this._setPath(o,o._empty()?"M0 0":"AL "+c.x+","+c.y+" "+m+","+_+" 0,"+65535*360)},_setPath:function(o,c){o._path.v=c},_bringToFront:function(o){fr(o._container)},_bringToBack:function(o){In(o._container)}},Or=Ne.vml?Uo:za,qs=ai.extend({_initContainer:function(){this._container=Or("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Or("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ht(this._container),_t(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ai.prototype._update.call(this);var o=this._bounds,c=o.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,m.setAttribute("width",c.x),m.setAttribute("height",c.y)),Vt(m,o.min),m.setAttribute("viewBox",[o.min.x,o.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(o){var c=o._path=Or("path");o.options.className&&Se(c,o.options.className),o.options.interactive&&Se(c,"leaflet-interactive"),this._updateStyle(o),this._layers[p(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){ht(o._path),o.removeInteractiveTarget(o._path),delete this._layers[p(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var c=o._path,m=o.options;c&&(m.stroke?(c.setAttribute("stroke",m.color),c.setAttribute("stroke-opacity",m.opacity),c.setAttribute("stroke-width",m.weight),c.setAttribute("stroke-linecap",m.lineCap),c.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?c.setAttribute("stroke-dasharray",m.dashArray):c.removeAttribute("stroke-dasharray"),m.dashOffset?c.setAttribute("stroke-dashoffset",m.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),m.fill?(c.setAttribute("fill",m.fillColor||m.color),c.setAttribute("fill-opacity",m.fillOpacity),c.setAttribute("fill-rule",m.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(o,c){this._setPath(o,Ss(o._parts,c))},_updateCircle:function(o){var c=o._point,m=Math.max(Math.round(o._radius),1),_=Math.max(Math.round(o._radiusY),1)||m,C="a"+m+","+_+" 0 1,0 ",N=o._empty()?"M0 0":"M"+(c.x-m)+","+c.y+C+m*2+",0 "+C+-m*2+",0 ";this._setPath(o,N)},_setPath:function(o,c){o._path.setAttribute("d",c)},_bringToFront:function(o){fr(o._path)},_bringToBack:function(o){In(o._path)}});Ne.vml&&qs.include(ud);function pu(o){return Ne.svg||Ne.vml?new qs(o):null}rt.include({getRenderer:function(o){var c=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var c=this._paneRenderers[o];return c===void 0&&(c=this._createRenderer({pane:o}),this._paneRenderers[o]=c),c},_createRenderer:function(o){return this.options.preferCanvas&&Cc(o)||pu(o)}});var cd=Ii.extend({initialize:function(o,c){Ii.prototype.initialize.call(this,this._boundsToLatLngs(o),c)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=be(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function Yp(o,c){return new cd(o,c)}qs.create=Or,qs.pointsToPath=Ss,si.geometryToLayer=Do,si.coordsToLatLng=lu,si.coordsToLatLngs=rl,si.latLngToCoords=uu,si.latLngsToCoords=cu,si.getFeature=Vo,si.asFeature=hu,rt.mergeOptions({boxZoom:!0});var zo=bn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Ue(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){_t(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ht(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),nt(),Vs(),this._startPoint=this._map.mouseEventToContainerPoint(o),Ue(document,{contextmenu:Vn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=Ze("div","leaflet-zoom-box",this._container),Se(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var c=new $(this._point,this._startPoint),m=c.getSize();Vt(this._box,c.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(ht(this._box),vt(this._container,"leaflet-crosshair")),Dn(),js(),_t(document,{contextmenu:Vn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var c=new Ee(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});rt.addInitHook("addHandler","boxZoom",zo),rt.mergeOptions({doubleClickZoom:!0});var hd=bn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var c=this._map,m=c.getZoom(),_=c.options.zoomDelta,C=o.originalEvent.shiftKey?m-_:m+_;c.options.doubleClickZoom==="center"?c.setZoom(C):c.setZoomAround(o.containerPoint,C)}});rt.addInitHook("addHandler","doubleClickZoom",hd),rt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ic=bn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Fn(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Se(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){vt(this._map._container,"leaflet-grab"),vt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=be(this._map.options.maxBounds);this._offsetLimit=ue(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var c=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(c),this._prunePositions(c)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,c){return o-(o-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;o.x<c.min.x&&(o.x=this._viscousLimit(o.x,c.min.x)),o.y<c.min.y&&(o.y=this._viscousLimit(o.y,c.min.y)),o.x>c.max.x&&(o.x=this._viscousLimit(o.x,c.max.x)),o.y>c.max.y&&(o.y=this._viscousLimit(o.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,c=Math.round(o/2),m=this._initialWorldOffset,_=this._draggable._newPos.x,C=(_-c+m)%o+c-m,N=(_+c+m)%o-c-m,K=Math.abs(C+m)<Math.abs(N+m)?C:N;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=K},_onDragEnd:function(o){var c=this._map,m=c.options,_=!m.inertia||o.noInertia||this._times.length<2;if(c.fire("dragend",o),_)c.fire("moveend");else{this._prunePositions(+new Date);var C=this._lastPos.subtract(this._positions[0]),N=(this._lastTime-this._times[0])/1e3,K=m.easeLinearity,te=C.multiplyBy(K/N),se=te.distanceTo([0,0]),pe=Math.min(m.inertiaMaxSpeed,se),Pe=te.multiplyBy(pe/se),Be=pe/(m.inertiaDeceleration*K),tt=Pe.multiplyBy(-Be/2).round();!tt.x&&!tt.y?c.fire("moveend"):(tt=c._limitOffset(tt,c.options.maxBounds),q(function(){c.panBy(tt,{duration:Be,easeLinearity:K,noMoveStart:!0,animate:!0})}))}}});rt.addInitHook("addHandler","dragging",Ic),rt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var bc=bn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Ue(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),_t(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,c=document.documentElement,m=o.scrollTop||c.scrollTop,_=o.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(_,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var c=this._panKeys={},m=this.keyCodes,_,C;for(_=0,C=m.left.length;_<C;_++)c[m.left[_]]=[-1*o,0];for(_=0,C=m.right.length;_<C;_++)c[m.right[_]]=[o,0];for(_=0,C=m.down.length;_<C;_++)c[m.down[_]]=[0,o];for(_=0,C=m.up.length;_<C;_++)c[m.up[_]]=[0,-1*o]},_setZoomDelta:function(o){var c=this._zoomKeys={},m=this.keyCodes,_,C;for(_=0,C=m.zoomIn.length;_<C;_++)c[m.zoomIn[_]]=o;for(_=0,C=m.zoomOut.length;_<C;_++)c[m.zoomOut[_]]=-o},_addHooks:function(){Ue(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){_t(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var c=o.keyCode,m=this._map,_;if(c in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(_=this._panKeys[c],o.shiftKey&&(_=ae(_).multiplyBy(3)),m.options.maxBounds&&(_=m._limitOffset(ae(_),m.options.maxBounds)),m.options.worldCopyJump){var C=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(_)));m.panTo(C)}else m.panBy(_)}else if(c in this._zoomKeys)m.setZoom(m.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;Vn(o)}}});rt.addInitHook("addHandler","keyboard",bc),rt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var xt=bn.extend({addHooks:function(){Ue(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){_t(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var c=Qa(o),m=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var _=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),_),Vn(o)},_performZoom:function(){var o=this._map,c=o.getZoom(),m=this._map.options.zoomSnap||0;o._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),C=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,N=m?Math.ceil(C/m)*m:C,K=o._limitZoom(c+(this._delta>0?N:-N))-c;this._delta=0,this._startTime=null,K&&(o.options.scrollWheelZoom==="center"?o.setZoom(c+K):o.setZoomAround(this._lastMousePos,c+K))}});rt.addInitHook("addHandler","scrollWheelZoom",xt);var Ac=600;rt.mergeOptions({tapHold:Ne.touchNative&&Ne.safari&&Ne.mobile,tapTolerance:15});var ol=bn.extend({addHooks:function(){Ue(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){_t(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var c=o.touches[0];this._startPos=this._newPos=new X(c.clientX,c.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(Ue(document,"touchend",It),Ue(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),Ac),Ue(document,"touchend touchcancel contextmenu",this._cancel,this),Ue(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){_t(document,"touchend",It),_t(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),_t(document,"touchend touchcancel contextmenu",this._cancel,this),_t(document,"touchmove",this._onMove,this)},_onMove:function(o){var c=o.touches[0];this._newPos=new X(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,c){var m=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});m._simulated=!0,c.target.dispatchEvent(m)}});rt.addInitHook("addHandler","tapHold",ol),rt.mergeOptions({touchZoom:Ne.touch,bounceAtZoomLimits:!0});var Ho=bn.extend({addHooks:function(){Se(this._map._container,"leaflet-touch-zoom"),Ue(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){vt(this._map._container,"leaflet-touch-zoom"),_t(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var c=this._map;if(!(!o.touches||o.touches.length!==2||c._animatingZoom||this._zooming)){var m=c.mouseEventToContainerPoint(o.touches[0]),_=c.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(m.add(_)._divideBy(2))),this._startDist=m.distanceTo(_),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Ue(document,"touchmove",this._onTouchMove,this),Ue(document,"touchend touchcancel",this._onTouchEnd,this),It(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var c=this._map,m=c.mouseEventToContainerPoint(o.touches[0]),_=c.mouseEventToContainerPoint(o.touches[1]),C=m.distanceTo(_)/this._startDist;if(this._zoom=c.getScaleZoom(C,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&C<1||this._zoom>c.getMaxZoom()&&C>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,C===1)return}else{var N=m._add(_)._divideBy(2)._subtract(this._centerPoint);if(C===1&&N.x===0&&N.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(N),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var K=u(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=q(K,this,!0),It(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),_t(document,"touchmove",this._onTouchMove,this),_t(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});rt.addInitHook("addHandler","touchZoom",Ho),rt.BoxZoom=zo,rt.DoubleClickZoom=hd,rt.Drag=Ic,rt.Keyboard=bc,rt.ScrollWheelZoom=xt,rt.TapHold=ol,rt.TouchZoom=Ho,t.Bounds=$,t.Browser=Ne,t.CRS=Je,t.Canvas=Sc,t.Circle=ou,t.CircleMarker=su,t.Class=fe,t.Control=_n,t.DivIcon=fu,t.DivOverlay=oi,t.DomEvent=ti,t.DomUtil=Fs,t.Draggable=Fn,t.Evented=ve,t.FeatureGroup=Si,t.GeoJSON=si,t.GridLayer=as,t.Handler=bn,t.Icon=$s,t.ImageOverlay=os,t.LatLng=Re,t.LatLngBounds=Ee,t.Layer=Lr,t.LayerGroup=is,t.LineUtil=rr,t.Map=rt,t.Marker=Ci,t.Mixin=Ao,t.Path=ss,t.Point=X,t.PolyUtil=No,t.Polygon=Ii,t.Polyline=ir,t.Popup=du,t.PosAnimation=zs,t.Projection=ii,t.Rectangle=cd,t.Renderer=ai,t.SVG=qs,t.SVGOverlay=Ec,t.TileLayer=ls,t.Tooltip=Fo,t.Transformation=yn,t.Util=B,t.VideoOverlay=Tc,t.bind=u,t.bounds=ue,t.canvas=Cc,t.circle=nl,t.circleMarker=rd,t.control=nr,t.divIcon=ad,t.extend=s,t.featureGroup=td,t.geoJSON=id,t.geoJson=Mr,t.gridLayer=Bo,t.icon=nd,t.imageOverlay=sd,t.latLng=xe,t.latLngBounds=be,t.layerGroup=tl,t.map=tr,t.marker=Kp,t.point=ae,t.polygon=Qp,t.polyline=Zp,t.popup=jo,t.rectangle=Yp,t.setOptions=R,t.stamp=p,t.svg=pu,t.svgOverlay=xc,t.tileLayer=Pc,t.tooltip=il,t.transformation=Ur,t.version=r,t.videoOverlay=od;var dd=window.L;t.noConflict=function(){return window.L=dd,this},window.L=t}))})(sh,sh.exports)),sh.exports}var Xh=OB();const m1=La(Xh);function x_(n,e,t){return Object.freeze({instance:n,context:e,container:t})}function P_(n,e){return e==null?function(r,s){const l=A.useRef();return l.current||(l.current=n(r,s)),l}:function(r,s){const l=A.useRef();l.current||(l.current=n(r,s));const u=A.useRef(r),{instance:d}=l.current;return A.useEffect(function(){u.current!==r&&(e(d,r,u.current),u.current=r)},[d,r,s]),l}}function DB(n,e){A.useEffect(function(){return(e.layerContainer??e.map).addLayer(n.instance),function(){e.layerContainer?.removeLayer(n.instance),e.map.removeLayer(n.instance)}},[e,n])}function g1(n){return function(t){const r=f1(),s=n(E_(t,r),r);return c1(r.map,t.attribution),p1(s.current,t.eventHandlers),DB(s.current,r),s}}function VB(n,e){const t=P_(n,e),r=g1(t);return RB(r)}function jB(n,e){const t=P_(n),r=LB(t,e);return kB(r)}function FB(n,e){const t=P_(n,e),r=g1(t);return NB(r)}function BB(n,e,t){const{opacity:r,zIndex:s}=e;r!=null&&r!==t.opacity&&n.setOpacity(r),s!=null&&s!==t.zIndex&&n.setZIndex(s)}function Gy(){return Gy=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Gy.apply(this,arguments)}function UB({bounds:n,boundsOptions:e,center:t,children:r,className:s,id:l,placeholder:u,style:d,whenReady:p,zoom:y,...v},T){const[S]=A.useState({className:s,id:l,style:d}),[b,V]=A.useState(null);A.useImperativeHandle(T,()=>b?.map??null,[b]);const R=A.useCallback(Z=>{if(Z!==null&&b===null){const z=new Xh.Map(Z,v);t!=null&&y!=null?z.setView(t,y):n!=null&&z.fitBounds(n,e),p!=null&&z.whenReady(p),V(bB(z))}},[]);A.useEffect(()=>()=>{b?.map.remove()},[b]);const M=b?wt.createElement(d1,{value:b},r):u??null;return wt.createElement("div",Gy({},S,{ref:R}),M)}const zB=A.forwardRef(UB),HB=VB(function({position:e,...t},r){const s=new Xh.Marker(e,t);return x_(s,AB(r,{overlayContainer:s}))},function(e,t,r){t.position!==r.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==r.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==r.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==r.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())}),WB=jB(function(e,t){const r=new Xh.Popup(e,t.overlayContainer);return x_(r,t)},function(e,t,{position:r},s){A.useEffect(function(){const{instance:u}=e;function d(y){y.popup===u&&(u.update(),s(!0))}function p(y){y.popup===u&&s(!1)}return t.map.on({popupopen:d,popupclose:p}),t.overlayContainer==null?(r!=null&&u.setLatLng(r),u.openOn(t.map)):t.overlayContainer.bindPopup(u),function(){t.map.off({popupopen:d,popupclose:p}),t.overlayContainer?.unbindPopup(),t.map.removeLayer(u)}},[e,t,s,r])}),$B=FB(function({url:e,...t},r){const s=new Xh.TileLayer(e,E_(t,r));return x_(s,r)},function(e,t,r){BB(e,t,r);const{url:s}=t;s!=null&&s!==r.url&&e.setUrl(s)});delete m1.Icon.Default.prototype._getIconUrl;m1.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const qB=({location:n})=>P.jsxs(zB,{center:[n.lat,n.lng],zoom:15,style:{height:"100%",width:"100%"},children:[P.jsx($B,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),P.jsx(HB,{position:[n.lat,n.lng],children:P.jsxs(WB,{children:["Your Location",P.jsx("br",{}),"Lat: ",n.lat.toFixed(4),P.jsx("br",{}),"Lng: ",n.lng.toFixed(4)]})})]}),GB=({user:n,onLogout:e,db:t})=>{const[r,s]=A.useState(null),[l,u]=A.useState(!1),[d,p]=A.useState(new Date),[y,v]=A.useState([]),[T,S]=A.useState(!0),b=typeof __app_id<"u"?__app_id:"default-app-id",V=`artifacts/${b}/public/data/attendance`;A.useEffect(()=>{const H=setInterval(()=>p(new Date),1e3);return()=>clearInterval(H)},[]),A.useEffect(()=>{if(!t||!n)return;S(!0);const H=Es(Pn(t,V),Kv("userId","==",n.uid)),J=Ra(H,le=>{const ce=[];le.forEach(F=>{ce.push({...F.data(),id:F.id})}),ce.sort((F,O)=>new Date(O.timestamp)-new Date(F.timestamp)),v(ce),ce.length>0?u(ce[0].type==="clock-in"):u(!1),S(!1)},le=>{console.error("Error listening to attendance:",le),S(!1)});return()=>J()},[t,n,b]);const R=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(H=>{s({lat:H.coords.latitude,lng:H.coords.longitude}),je({title:"Location Captured! ",description:`Lat: ${H.coords.latitude.toFixed(4)}, Lng: ${H.coords.longitude.toFixed(4)}`})},H=>{je({title:"Location Error",description:"Unable to get your location. Please enable GPS.",variant:"destructive"})})},M=async()=>{if(!r){je({title:"Location Required",description:"Please capture your location first!",variant:"destructive"});return}const H={type:"clock-in",timestamp:new Date().toISOString(),location:r,userId:n.uid,userEmail:n.email};try{await Aa(Pn(t,V),H),je({title:"Clocked In! ",description:"Your attendance has been recorded."})}catch(J){console.error("Error clocking in:",J)}},Z=async()=>{const H={type:"clock-out",timestamp:new Date().toISOString(),location:r,userId:n.uid,userEmail:n.email};try{await Aa(Pn(t,V),H),je({title:"Clocked Out! ",description:"Have a great day!"})}catch(J){console.error("Error clocking out:",J)}},z=()=>{je({title:" Camera Feature",description:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "})};return P.jsx(Fl,{user:n,onLogout:e,title:"Time & Attendance",children:P.jsxs("div",{className:"space-y-6",children:[P.jsx(cr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass-panel rounded-xl p-6 neon-border",children:P.jsxs("div",{className:"text-center space-y-4",children:[P.jsx(kh,{className:"w-16 h-16 mx-auto text-indigo-400"}),P.jsx("h2",{className:"text-4xl font-bold neon-text",children:d.toLocaleTimeString()}),P.jsxs("p",{className:"text-gray-400 flex items-center justify-center gap-2",children:[P.jsx(C3,{className:"w-4 h-4"}),d.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]})}),P.jsxs(cr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass-panel rounded-xl p-6 neon-border space-y-4",children:[P.jsx("h3",{className:"text-xl font-bold neon-text",children:"Clock In/Out"}),P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[P.jsxs(yt,{onClick:R,className:"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700",children:[P.jsx(L3,{className:"w-4 h-4 mr-2"}),"Capture Location"]}),P.jsxs(yt,{onClick:z,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:[P.jsx(I3,{className:"w-4 h-4 mr-2"}),"Take Selfie"]})]}),r&&P.jsx("div",{className:"h-64 rounded-lg overflow-hidden",children:P.jsx(qB,{location:r})}),P.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[P.jsx(yt,{onClick:M,disabled:l||T,className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 disabled:opacity-50",children:"Clock In"}),P.jsx(yt,{onClick:Z,disabled:!l||T,className:"bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-700 hover:to-orange-700 disabled:opacity-50",children:"Clock Out"})]})]}),P.jsxs(cr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"glass-panel rounded-xl p-6 neon-border",children:[P.jsx("h3",{className:"text-xl font-bold neon-text mb-4",children:"My Recent Records"}),P.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto scrollbar-hide",children:[T&&P.jsx("p",{className:"text-gray-400 text-center",children:"Loading records..."}),!T&&y.slice(0,10).map(H=>P.jsx("div",{className:"bg-slate-900/50 rounded-lg p-3 border border-indigo-500/20",children:P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx("span",{className:`font-bold ${H.type==="clock-in"?"text-green-400":"text-red-400"}`,children:H.type==="clock-in"?" Clock In":" Clock Out"}),P.jsx("span",{className:"text-sm text-gray-400",children:new Date(H.timestamp).toLocaleString()})]})},H.id))]})]})]})})};function Sn(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n?.(s),t===!1||!s.defaultPrevented)return e?.(s)}}function KB(n,e){const t=A.createContext(e),r=l=>{const{children:u,...d}=l,p=A.useMemo(()=>d,Object.values(d));return P.jsx(t.Provider,{value:p,children:u})};r.displayName=n+"Provider";function s(l){const u=A.useContext(t);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${n}\``)}return[r,s]}function S_(n,e=[]){let t=[];function r(l,u){const d=A.createContext(u),p=t.length;t=[...t,u];const y=T=>{const{scope:S,children:b,...V}=T,R=S?.[n]?.[p]||d,M=A.useMemo(()=>V,Object.values(V));return P.jsx(R.Provider,{value:M,children:b})};y.displayName=l+"Provider";function v(T,S){const b=S?.[n]?.[p]||d,V=A.useContext(b);if(V)return V;if(u!==void 0)return u;throw new Error(`\`${T}\` must be used within \`${l}\``)}return[y,v]}const s=()=>{const l=t.map(u=>A.createContext(u));return function(d){const p=d?.[n]||l;return A.useMemo(()=>({[`__scope${n}`]:{...d,[n]:p}}),[d,p])}};return s.scopeName=n,[r,ZB(s,...e)]}function ZB(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(l){const u=r.reduce((d,{useScope:p,scopeName:y})=>{const T=p(l)[`__scope${y}`];return{...d,...T}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}var uc=globalThis?.document?A.useLayoutEffect:()=>{},QB=Jy[" useId ".trim().toString()]||(()=>{}),YB=0;function zg(n){const[e,t]=A.useState(QB());return uc(()=>{t(r=>r??String(YB++))},[n]),n||(e?`radix-${e}`:"")}var XB=Jy[" useInsertionEffect ".trim().toString()]||uc;function y1({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[s,l,u]=JB({defaultProp:e,onChange:t}),d=n!==void 0,p=d?n:s;{const v=A.useRef(n!==void 0);A.useEffect(()=>{const T=v.current;T!==d&&console.warn(`${r} is changing from ${T?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=d},[d,r])}const y=A.useCallback(v=>{if(d){const T=eU(v)?v(n):v;T!==n&&u.current?.(T)}else l(v)},[d,n,l,u]);return[p,y]}function JB({defaultProp:n,onChange:e}){const[t,r]=A.useState(n),s=A.useRef(t),l=A.useRef(e);return XB(()=>{l.current=e},[e]),A.useEffect(()=>{s.current!==t&&(l.current?.(t),s.current=t)},[t,s]),[t,r,l]}function eU(n){return typeof n=="function"}function yo(n){const e=A.useRef(n);return A.useEffect(()=>{e.current=n}),A.useMemo(()=>(...t)=>e.current?.(...t),[])}function tU(n,e=globalThis?.document){const t=yo(n);A.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var nU="DismissableLayer",Ky="dismissableLayer.update",rU="dismissableLayer.pointerDownOutside",iU="dismissableLayer.focusOutside",Sx,v1=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),C_=A.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:l,onInteractOutside:u,onDismiss:d,...p}=n,y=A.useContext(v1),[v,T]=A.useState(null),S=v?.ownerDocument??globalThis?.document,[,b]=A.useState({}),V=Bi(e,F=>T(F)),R=Array.from(y.layers),[M]=[...y.layersWithOutsidePointerEventsDisabled].slice(-1),Z=R.indexOf(M),z=v?R.indexOf(v):-1,H=y.layersWithOutsidePointerEventsDisabled.size>0,J=z>=Z,le=oU(F=>{const O=F.target,j=[...y.branches].some(G=>G.contains(O));!J||j||(s?.(F),u?.(F),F.defaultPrevented||d?.())},S),ce=aU(F=>{const O=F.target;[...y.branches].some(G=>G.contains(O))||(l?.(F),u?.(F),F.defaultPrevented||d?.())},S);return tU(F=>{z===y.layers.size-1&&(r?.(F),!F.defaultPrevented&&d&&(F.preventDefault(),d()))},S),A.useEffect(()=>{if(v)return t&&(y.layersWithOutsidePointerEventsDisabled.size===0&&(Sx=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),y.layersWithOutsidePointerEventsDisabled.add(v)),y.layers.add(v),Cx(),()=>{t&&y.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=Sx)}},[v,S,t,y]),A.useEffect(()=>()=>{v&&(y.layers.delete(v),y.layersWithOutsidePointerEventsDisabled.delete(v),Cx())},[v,y]),A.useEffect(()=>{const F=()=>b({});return document.addEventListener(Ky,F),()=>document.removeEventListener(Ky,F)},[]),P.jsx(Mn.div,{...p,ref:V,style:{pointerEvents:H?J?"auto":"none":void 0,...n.style},onFocusCapture:Sn(n.onFocusCapture,ce.onFocusCapture),onBlurCapture:Sn(n.onBlurCapture,ce.onBlurCapture),onPointerDownCapture:Sn(n.onPointerDownCapture,le.onPointerDownCapture)})});C_.displayName=nU;var sU="DismissableLayerBranch",_1=A.forwardRef((n,e)=>{const t=A.useContext(v1),r=A.useRef(null),s=Bi(e,r);return A.useEffect(()=>{const l=r.current;if(l)return t.branches.add(l),()=>{t.branches.delete(l)}},[t.branches]),P.jsx(Mn.div,{...n,ref:s})});_1.displayName=sU;function oU(n,e=globalThis?.document){const t=yo(n),r=A.useRef(!1),s=A.useRef(()=>{});return A.useEffect(()=>{const l=d=>{if(d.target&&!r.current){let p=function(){w1(rU,t,y,{discrete:!0})};const y={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=p,e.addEventListener("click",s.current,{once:!0})):p()}else e.removeEventListener("click",s.current);r.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function aU(n,e=globalThis?.document){const t=yo(n),r=A.useRef(!1);return A.useEffect(()=>{const s=l=>{l.target&&!r.current&&w1(iU,t,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Cx(){const n=new CustomEvent(Ky);document.dispatchEvent(n)}function w1(n,e,t,{discrete:r}){const s=t.originalEvent.target,l=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?a1(s,l):s.dispatchEvent(l)}var lU=C_,uU=_1,Hg="focusScope.autoFocusOnMount",Wg="focusScope.autoFocusOnUnmount",Ix={bubbles:!1,cancelable:!0},cU="FocusScope",T1=A.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:l,...u}=n,[d,p]=A.useState(null),y=yo(s),v=yo(l),T=A.useRef(null),S=Bi(e,R=>p(R)),b=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(r){let R=function(H){if(b.paused||!d)return;const J=H.target;d.contains(J)?T.current=J:la(T.current,{select:!0})},M=function(H){if(b.paused||!d)return;const J=H.relatedTarget;J!==null&&(d.contains(J)||la(T.current,{select:!0}))},Z=function(H){if(document.activeElement===document.body)for(const le of H)le.removedNodes.length>0&&la(d)};document.addEventListener("focusin",R),document.addEventListener("focusout",M);const z=new MutationObserver(Z);return d&&z.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",R),document.removeEventListener("focusout",M),z.disconnect()}}},[r,d,b.paused]),A.useEffect(()=>{if(d){Ax.add(b);const R=document.activeElement;if(!d.contains(R)){const Z=new CustomEvent(Hg,Ix);d.addEventListener(Hg,y),d.dispatchEvent(Z),Z.defaultPrevented||(hU(gU(E1(d)),{select:!0}),document.activeElement===R&&la(d))}return()=>{d.removeEventListener(Hg,y),setTimeout(()=>{const Z=new CustomEvent(Wg,Ix);d.addEventListener(Wg,v),d.dispatchEvent(Z),Z.defaultPrevented||la(R??document.body,{select:!0}),d.removeEventListener(Wg,v),Ax.remove(b)},0)}}},[d,y,v,b]);const V=A.useCallback(R=>{if(!t&&!r||b.paused)return;const M=R.key==="Tab"&&!R.altKey&&!R.ctrlKey&&!R.metaKey,Z=document.activeElement;if(M&&Z){const z=R.currentTarget,[H,J]=dU(z);H&&J?!R.shiftKey&&Z===J?(R.preventDefault(),t&&la(H,{select:!0})):R.shiftKey&&Z===H&&(R.preventDefault(),t&&la(J,{select:!0})):Z===z&&R.preventDefault()}},[t,r,b.paused]);return P.jsx(Mn.div,{tabIndex:-1,...u,ref:S,onKeyDown:V})});T1.displayName=cU;function hU(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(la(r,{select:e}),document.activeElement!==t)return}function dU(n){const e=E1(n),t=bx(e,n),r=bx(e.reverse(),n);return[t,r]}function E1(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function bx(n,e){for(const t of n)if(!fU(t,{upTo:e}))return t}function fU(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function pU(n){return n instanceof HTMLInputElement&&"select"in n}function la(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&pU(n)&&e&&n.select()}}var Ax=mU();function mU(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=Rx(n,e),n.unshift(e)},remove(e){n=Rx(n,e),n[0]?.resume()}}}function Rx(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function gU(n){return n.filter(e=>e.tagName!=="A")}var yU="Portal",I_=A.forwardRef((n,e)=>{const{container:t,...r}=n,[s,l]=A.useState(!1);uc(()=>l(!0),[]);const u=t||s&&globalThis?.document?.body;return u?mA.createPortal(P.jsx(Mn.div,{...r,ref:e}),u):null});I_.displayName=yU;function vU(n,e){return A.useReducer((t,r)=>e[t][r]??t,n)}var Jh=n=>{const{present:e,children:t}=n,r=_U(e),s=typeof t=="function"?t({present:r.isPresent}):A.Children.only(t),l=Bi(r.ref,wU(s));return typeof t=="function"||r.isPresent?A.cloneElement(s,{ref:l}):null};Jh.displayName="Presence";function _U(n){const[e,t]=A.useState(),r=A.useRef(null),s=A.useRef(n),l=A.useRef("none"),u=n?"mounted":"unmounted",[d,p]=vU(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const y=df(r.current);l.current=d==="mounted"?y:"none"},[d]),uc(()=>{const y=r.current,v=s.current;if(v!==n){const S=l.current,b=df(y);n?p("MOUNT"):b==="none"||y?.display==="none"?p("UNMOUNT"):p(v&&S!==b?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,p]),uc(()=>{if(e){let y;const v=e.ownerDocument.defaultView??window,T=b=>{const R=df(r.current).includes(CSS.escape(b.animationName));if(b.target===e&&R&&(p("ANIMATION_END"),!s.current)){const M=e.style.animationFillMode;e.style.animationFillMode="forwards",y=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=M)})}},S=b=>{b.target===e&&(l.current=df(r.current))};return e.addEventListener("animationstart",S),e.addEventListener("animationcancel",T),e.addEventListener("animationend",T),()=>{v.clearTimeout(y),e.removeEventListener("animationstart",S),e.removeEventListener("animationcancel",T),e.removeEventListener("animationend",T)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:A.useCallback(y=>{r.current=y?getComputedStyle(y):null,t(y)},[])}}function df(n){return n?.animationName||"none"}function wU(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var $g=0;function TU(){A.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??kx()),document.body.insertAdjacentElement("beforeend",n[1]??kx()),$g++,()=>{$g===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),$g--}},[])}function kx(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var ps=function(){return ps=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},ps.apply(this,arguments)};function x1(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function EU(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,l;r<s;r++)(l||!(r in e))&&(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return n.concat(l||Array.prototype.slice.call(e))}var kf="right-scroll-bar-position",Nf="width-before-scroll-bar",xU="with-scroll-bars-hidden",PU="--removed-body-scroll-bar-size";function qg(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function SU(n,e){var t=A.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var s=t.value;s!==r&&(t.value=r,t.callback(r,s))}}}})[0];return t.callback=e,t.facade}var CU=typeof window<"u"?A.useLayoutEffect:A.useEffect,Nx=new WeakMap;function IU(n,e){var t=SU(null,function(r){return n.forEach(function(s){return qg(s,r)})});return CU(function(){var r=Nx.get(t);if(r){var s=new Set(r),l=new Set(n),u=t.current;s.forEach(function(d){l.has(d)||qg(d,null)}),l.forEach(function(d){s.has(d)||qg(d,u)})}Nx.set(t,n)},[n]),t}function bU(n){return n}function AU(n,e){e===void 0&&(e=bU);var t=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(l){var u=e(l,r);return t.push(u),function(){t=t.filter(function(d){return d!==u})}},assignSyncMedium:function(l){for(r=!0;t.length;){var u=t;t=[],u.forEach(l)}t={push:function(d){return l(d)},filter:function(){return t}}},assignMedium:function(l){r=!0;var u=[];if(t.length){var d=t;t=[],d.forEach(l),u=t}var p=function(){var v=u;u=[],v.forEach(l)},y=function(){return Promise.resolve().then(p)};y(),t={push:function(v){u.push(v),y()},filter:function(v){return u=u.filter(v),t}}}};return s}function RU(n){n===void 0&&(n={});var e=AU(null);return e.options=ps({async:!0,ssr:!1},n),e}var P1=function(n){var e=n.sideCar,t=x1(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return A.createElement(r,ps({},t))};P1.isSideCarExport=!0;function kU(n,e){return n.useMedium(e),P1}var S1=RU(),Gg=function(){},Hp=A.forwardRef(function(n,e){var t=A.useRef(null),r=A.useState({onScrollCapture:Gg,onWheelCapture:Gg,onTouchMoveCapture:Gg}),s=r[0],l=r[1],u=n.forwardProps,d=n.children,p=n.className,y=n.removeScrollBar,v=n.enabled,T=n.shards,S=n.sideCar,b=n.noRelative,V=n.noIsolation,R=n.inert,M=n.allowPinchZoom,Z=n.as,z=Z===void 0?"div":Z,H=n.gapMode,J=x1(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),le=S,ce=IU([t,e]),F=ps(ps({},J),s);return A.createElement(A.Fragment,null,v&&A.createElement(le,{sideCar:S1,removeScrollBar:y,shards:T,noRelative:b,noIsolation:V,inert:R,setCallbacks:l,allowPinchZoom:!!M,lockRef:t,gapMode:H}),u?A.cloneElement(A.Children.only(d),ps(ps({},F),{ref:ce})):A.createElement(z,ps({},F,{className:p,ref:ce}),d))});Hp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hp.classNames={fullWidth:Nf,zeroRight:kf};var NU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function LU(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=NU();return e&&n.setAttribute("nonce",e),n}function MU(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function OU(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var DU=function(){var n=0,e=null;return{add:function(t){n==0&&(e=LU())&&(MU(e,t),OU(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},VU=function(){var n=DU();return function(e,t){A.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},C1=function(){var n=VU(),e=function(t){var r=t.styles,s=t.dynamic;return n(r,s),null};return e},jU={left:0,top:0,right:0,gap:0},Kg=function(n){return parseInt(n||"",10)||0},FU=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],s=e[n==="padding"?"paddingRight":"marginRight"];return[Kg(t),Kg(r),Kg(s)]},BU=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return jU;var e=FU(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},UU=C1(),Qu="data-scroll-locked",zU=function(n,e,t,r){var s=n.left,l=n.top,u=n.right,d=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(xU,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(Qu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(kf,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Nf,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(kf," .").concat(kf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Nf," .").concat(Nf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Qu,`] {
    `).concat(PU,": ").concat(d,`px;
  }
`)},Lx=function(){var n=parseInt(document.body.getAttribute(Qu)||"0",10);return isFinite(n)?n:0},HU=function(){A.useEffect(function(){return document.body.setAttribute(Qu,(Lx()+1).toString()),function(){var n=Lx()-1;n<=0?document.body.removeAttribute(Qu):document.body.setAttribute(Qu,n.toString())}},[])},WU=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,s=r===void 0?"margin":r;HU();var l=A.useMemo(function(){return BU(s)},[s]);return A.createElement(UU,{styles:zU(l,!e,s,t?"":"!important")})},Zy=!1;if(typeof window<"u")try{var ff=Object.defineProperty({},"passive",{get:function(){return Zy=!0,!0}});window.addEventListener("test",ff,ff),window.removeEventListener("test",ff,ff)}catch{Zy=!1}var ku=Zy?{passive:!1}:!1,$U=function(n){return n.tagName==="TEXTAREA"},I1=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!$U(n)&&t[e]==="visible")},qU=function(n){return I1(n,"overflowY")},GU=function(n){return I1(n,"overflowX")},Mx=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=b1(n,r);if(s){var l=A1(n,r),u=l[1],d=l[2];if(u>d)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},KU=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},ZU=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},b1=function(n,e){return n==="v"?qU(e):GU(e)},A1=function(n,e){return n==="v"?KU(e):ZU(e)},QU=function(n,e){return n==="h"&&e==="rtl"?-1:1},YU=function(n,e,t,r,s){var l=QU(n,window.getComputedStyle(e).direction),u=l*r,d=t.target,p=e.contains(d),y=!1,v=u>0,T=0,S=0;do{if(!d)break;var b=A1(n,d),V=b[0],R=b[1],M=b[2],Z=R-M-l*V;(V||Z)&&b1(n,d)&&(T+=Z,S+=V);var z=d.parentNode;d=z&&z.nodeType===Node.DOCUMENT_FRAGMENT_NODE?z.host:z}while(!p&&d!==document.body||p&&(e.contains(d)||e===d));return(v&&Math.abs(T)<1||!v&&Math.abs(S)<1)&&(y=!0),y},pf=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Ox=function(n){return[n.deltaX,n.deltaY]},Dx=function(n){return n&&"current"in n?n.current:n},XU=function(n,e){return n[0]===e[0]&&n[1]===e[1]},JU=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},ez=0,Nu=[];function tz(n){var e=A.useRef([]),t=A.useRef([0,0]),r=A.useRef(),s=A.useState(ez++)[0],l=A.useState(C1)[0],u=A.useRef(n);A.useEffect(function(){u.current=n},[n]),A.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var R=EU([n.lockRef.current],(n.shards||[]).map(Dx),!0).filter(Boolean);return R.forEach(function(M){return M.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),R.forEach(function(M){return M.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var d=A.useCallback(function(R,M){if("touches"in R&&R.touches.length===2||R.type==="wheel"&&R.ctrlKey)return!u.current.allowPinchZoom;var Z=pf(R),z=t.current,H="deltaX"in R?R.deltaX:z[0]-Z[0],J="deltaY"in R?R.deltaY:z[1]-Z[1],le,ce=R.target,F=Math.abs(H)>Math.abs(J)?"h":"v";if("touches"in R&&F==="h"&&ce.type==="range")return!1;var O=Mx(F,ce);if(!O)return!0;if(O?le=F:(le=F==="v"?"h":"v",O=Mx(F,ce)),!O)return!1;if(!r.current&&"changedTouches"in R&&(H||J)&&(r.current=le),!le)return!0;var j=r.current||le;return YU(j,M,R,j==="h"?H:J)},[]),p=A.useCallback(function(R){var M=R;if(!(!Nu.length||Nu[Nu.length-1]!==l)){var Z="deltaY"in M?Ox(M):pf(M),z=e.current.filter(function(le){return le.name===M.type&&(le.target===M.target||M.target===le.shadowParent)&&XU(le.delta,Z)})[0];if(z&&z.should){M.cancelable&&M.preventDefault();return}if(!z){var H=(u.current.shards||[]).map(Dx).filter(Boolean).filter(function(le){return le.contains(M.target)}),J=H.length>0?d(M,H[0]):!u.current.noIsolation;J&&M.cancelable&&M.preventDefault()}}},[]),y=A.useCallback(function(R,M,Z,z){var H={name:R,delta:M,target:Z,should:z,shadowParent:nz(Z)};e.current.push(H),setTimeout(function(){e.current=e.current.filter(function(J){return J!==H})},1)},[]),v=A.useCallback(function(R){t.current=pf(R),r.current=void 0},[]),T=A.useCallback(function(R){y(R.type,Ox(R),R.target,d(R,n.lockRef.current))},[]),S=A.useCallback(function(R){y(R.type,pf(R),R.target,d(R,n.lockRef.current))},[]);A.useEffect(function(){return Nu.push(l),n.setCallbacks({onScrollCapture:T,onWheelCapture:T,onTouchMoveCapture:S}),document.addEventListener("wheel",p,ku),document.addEventListener("touchmove",p,ku),document.addEventListener("touchstart",v,ku),function(){Nu=Nu.filter(function(R){return R!==l}),document.removeEventListener("wheel",p,ku),document.removeEventListener("touchmove",p,ku),document.removeEventListener("touchstart",v,ku)}},[]);var b=n.removeScrollBar,V=n.inert;return A.createElement(A.Fragment,null,V?A.createElement(l,{styles:JU(s)}):null,b?A.createElement(WU,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function nz(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const rz=kU(S1,tz);var R1=A.forwardRef(function(n,e){return A.createElement(Hp,ps({},n,{ref:e,sideCar:rz}))});R1.classNames=Hp.classNames;var iz=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Lu=new WeakMap,mf=new WeakMap,gf={},Zg=0,k1=function(n){return n&&(n.host||k1(n.parentNode))},sz=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=k1(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},oz=function(n,e,t,r){var s=sz(e,Array.isArray(n)?n:[n]);gf[t]||(gf[t]=new WeakMap);var l=gf[t],u=[],d=new Set,p=new Set(s),y=function(T){!T||d.has(T)||(d.add(T),y(T.parentNode))};s.forEach(y);var v=function(T){!T||p.has(T)||Array.prototype.forEach.call(T.children,function(S){if(d.has(S))v(S);else try{var b=S.getAttribute(r),V=b!==null&&b!=="false",R=(Lu.get(S)||0)+1,M=(l.get(S)||0)+1;Lu.set(S,R),l.set(S,M),u.push(S),R===1&&V&&mf.set(S,!0),M===1&&S.setAttribute(t,"true"),V||S.setAttribute(r,"true")}catch(Z){console.error("aria-hidden: cannot operate on ",S,Z)}})};return v(e),d.clear(),Zg++,function(){u.forEach(function(T){var S=Lu.get(T)-1,b=l.get(T)-1;Lu.set(T,S),l.set(T,b),S||(mf.has(T)||T.removeAttribute(r),mf.delete(T)),b||T.removeAttribute(t)}),Zg--,Zg||(Lu=new WeakMap,Lu=new WeakMap,mf=new WeakMap,gf={})}},az=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),s=iz(n);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),oz(r,s,t,"aria-hidden")):function(){return null}},Wp="Dialog",[N1]=S_(Wp),[lz,Ui]=N1(Wp),L1=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:s,onOpenChange:l,modal:u=!0}=n,d=A.useRef(null),p=A.useRef(null),[y,v]=y1({prop:r,defaultProp:s??!1,onChange:l,caller:Wp});return P.jsx(lz,{scope:e,triggerRef:d,contentRef:p,contentId:zg(),titleId:zg(),descriptionId:zg(),open:y,onOpenChange:v,onOpenToggle:A.useCallback(()=>v(T=>!T),[v]),modal:u,children:t})};L1.displayName=Wp;var M1="DialogTrigger",O1=A.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=Ui(M1,t),l=Bi(e,s.triggerRef);return P.jsx(Mn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":R_(s.open),...r,ref:l,onClick:Sn(n.onClick,s.onOpenToggle)})});O1.displayName=M1;var b_="DialogPortal",[uz,D1]=N1(b_,{forceMount:void 0}),V1=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:s}=n,l=Ui(b_,e);return P.jsx(uz,{scope:e,forceMount:t,children:A.Children.map(r,u=>P.jsx(Jh,{present:t||l.open,children:P.jsx(I_,{asChild:!0,container:s,children:u})}))})};V1.displayName=b_;var cp="DialogOverlay",j1=A.forwardRef((n,e)=>{const t=D1(cp,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,l=Ui(cp,n.__scopeDialog);return l.modal?P.jsx(Jh,{present:r||l.open,children:P.jsx(hz,{...s,ref:e})}):null});j1.displayName=cp;var cz=Nh("DialogOverlay.RemoveScroll"),hz=A.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=Ui(cp,t);return P.jsx(R1,{as:cz,allowPinchZoom:!0,shards:[s.contentRef],children:P.jsx(Mn.div,{"data-state":R_(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Bl="DialogContent",F1=A.forwardRef((n,e)=>{const t=D1(Bl,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,l=Ui(Bl,n.__scopeDialog);return P.jsx(Jh,{present:r||l.open,children:l.modal?P.jsx(dz,{...s,ref:e}):P.jsx(fz,{...s,ref:e})})});F1.displayName=Bl;var dz=A.forwardRef((n,e)=>{const t=Ui(Bl,n.__scopeDialog),r=A.useRef(null),s=Bi(e,t.contentRef,r);return A.useEffect(()=>{const l=r.current;if(l)return az(l)},[]),P.jsx(B1,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Sn(n.onCloseAutoFocus,l=>{l.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:Sn(n.onPointerDownOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&l.preventDefault()}),onFocusOutside:Sn(n.onFocusOutside,l=>l.preventDefault())})}),fz=A.forwardRef((n,e)=>{const t=Ui(Bl,n.__scopeDialog),r=A.useRef(!1),s=A.useRef(!1);return P.jsx(B1,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{n.onCloseAutoFocus?.(l),l.defaultPrevented||(r.current||t.triggerRef.current?.focus(),l.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:l=>{n.onInteractOutside?.(l),l.defaultPrevented||(r.current=!0,l.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const u=l.target;t.triggerRef.current?.contains(u)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&s.current&&l.preventDefault()}})}),B1=A.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:l,...u}=n,d=Ui(Bl,t),p=A.useRef(null),y=Bi(e,p);return TU(),P.jsxs(P.Fragment,{children:[P.jsx(T1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:l,children:P.jsx(C_,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":R_(d.open),...u,ref:y,onDismiss:()=>d.onOpenChange(!1)})}),P.jsxs(P.Fragment,{children:[P.jsx(mz,{titleId:d.titleId}),P.jsx(yz,{contentRef:p,descriptionId:d.descriptionId})]})]})}),A_="DialogTitle",U1=A.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=Ui(A_,t);return P.jsx(Mn.h2,{id:s.titleId,...r,ref:e})});U1.displayName=A_;var z1="DialogDescription",pz=A.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=Ui(z1,t);return P.jsx(Mn.p,{id:s.descriptionId,...r,ref:e})});pz.displayName=z1;var H1="DialogClose",W1=A.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=Ui(H1,t);return P.jsx(Mn.button,{type:"button",...r,ref:e,onClick:Sn(n.onClick,()=>s.onOpenChange(!1))})});W1.displayName=H1;function R_(n){return n?"open":"closed"}var $1="DialogTitleWarning",[d6,q1]=KB($1,{contentName:Bl,titleName:A_,docsSlug:"dialog"}),mz=({titleId:n})=>{const e=q1($1),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return A.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},gz="DialogDescriptionWarning",yz=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${q1(gz).contentName}}.`;return A.useEffect(()=>{const s=n.current?.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},vz=L1,_z=O1,wz=V1,G1=j1,K1=F1,Z1=U1,Tz=W1;const Zl=vz,Q1=_z,Ez=wz,Y1=wt.forwardRef(({className:n,...e},t)=>P.jsx(G1,{ref:t,className:br("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));Y1.displayName=G1.displayName;const Fa=wt.forwardRef(({className:n,children:e,...t},r)=>P.jsxs(Ez,{children:[P.jsx(Y1,{}),P.jsxs(K1,{ref:r,className:br("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,P.jsxs(Tz,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[P.jsx(w_,{className:"h-4 w-4"}),P.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Fa.displayName=K1.displayName;const Ba=({className:n,...e})=>P.jsx("div",{className:br("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});Ba.displayName="DialogHeader";const Ua=wt.forwardRef(({className:n,...e},t)=>P.jsx(Z1,{ref:t,className:br("text-lg font-semibold leading-none tracking-tight",n),...e}));Ua.displayName=Z1.displayName;const $p=wt.forwardRef(({className:n,...e},t)=>P.jsx("textarea",{className:br("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));$p.displayName="Textarea";const xz=({isOpen:n,onOpenChange:e,onSave:t,project:r})=>{const[s,l]=A.useState(""),[u,d]=A.useState("");A.useEffect(()=>{r?(l(r.name),d(r.description)):(l(""),d(""))},[r,n]);const p=()=>{t({id:r?.id,name:s,description:u}),e(!1)};return P.jsx(Zl,{open:n,onOpenChange:e,children:P.jsxs(Fa,{className:"bg-slate-900 border-indigo-500/30 text-white",children:[P.jsx(Ba,{children:P.jsx(Ua,{children:r?"Edit Project":"Create New Project"})}),P.jsxs("div",{className:"space-y-4 py-4",children:[P.jsxs("div",{className:"space-y-2",children:[P.jsx(Pt,{htmlFor:"name",className:"text-indigo-300",children:"Project Name"}),P.jsx(Yt,{id:"name",value:s,onChange:y=>l(y.target.value),className:"bg-slate-800 border-indigo-500/30",placeholder:"e.g., Q4 Marketing Campaign"})]}),P.jsxs("div",{className:"space-y-2",children:[P.jsx(Pt,{htmlFor:"description",className:"text-indigo-300",children:"Description"}),P.jsx($p,{id:"description",value:u,onChange:y=>d(y.target.value),className:"bg-slate-800 border-indigo-500/30",placeholder:"Briefly describe the project"})]})]}),P.jsx(yt,{onClick:p,className:"w-full bg-gradient-to-r from-green-600 to-emerald-600",children:r?"Save Changes":"Create Project"})]})})},Pz=({isOpen:n,onOpenChange:e,onSave:t,task:r,projects:s})=>{const[l,u]=A.useState(""),[d,p]=A.useState(""),[y,v]=A.useState("Medium"),[T,S]=A.useState("");A.useEffect(()=>{r?(u(r.title),p(r.description||""),v(r.priority),S(r.projectId)):(u(""),p(""),v("Medium"),S(s.length>0?s[0].id:""))},[r,n,s]);const b=()=>{t({id:r?.id,title:l,description:d,priority:y,projectId:T}),e(!1)};return P.jsx(Zl,{open:n,onOpenChange:e,children:P.jsxs(Fa,{className:"bg-slate-900 border-indigo-500/30 text-white",children:[P.jsx(Ba,{children:P.jsx(Ua,{children:r?"Edit Task":"Create New Task"})}),P.jsxs("div",{className:"space-y-4 py-4",children:[P.jsxs("div",{className:"space-y-2",children:[P.jsx(Pt,{htmlFor:"title",className:"text-indigo-300",children:"Task Title"}),P.jsx(Yt,{id:"title",value:l,onChange:V=>u(V.target.value),className:"bg-slate-800 border-indigo-500/30",placeholder:"e.g., Design new landing page"})]}),P.jsxs("div",{className:"space-y-2",children:[P.jsx(Pt,{htmlFor:"description",className:"text-indigo-300",children:"Description"}),P.jsx($p,{id:"description",value:d,onChange:V=>p(V.target.value),className:"bg-slate-800 border-indigo-500/30",placeholder:"Add more details about the task"})]}),P.jsxs("div",{className:"space-y-2",children:[P.jsx(Pt,{htmlFor:"priority",className:"text-indigo-300",children:"Priority"}),P.jsxs("select",{id:"priority",value:y,onChange:V=>v(V.target.value),className:"w-full bg-slate-800 border border-indigo-500/30 rounded-md p-2",children:[P.jsx("option",{children:"Low"}),P.jsx("option",{children:"Medium"}),P.jsx("option",{children:"High"})]})]}),P.jsxs("div",{className:"space-y-2",children:[P.jsx(Pt,{htmlFor:"project",className:"text-indigo-300",children:"Project"}),P.jsx("select",{id:"project",value:T,onChange:V=>S(V.target.value),className:"w-full bg-slate-800 border border-indigo-500/30 rounded-md p-2",disabled:!s.length,children:s.length>0?s.map(V=>P.jsx("option",{value:V.id,children:V.name},V.id)):P.jsx("option",{children:"Create a project first"})})]})]}),P.jsx(yt,{onClick:b,className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600",children:r?"Save Changes":"Create Task"})]})})},Vx=(n,e=!1)=>{const t={};for(const r in n)n[r]!==void 0&&(["description","middleName","email","department","contactNumber","profilePhoto","location"].includes(r)&&n[r]===""?t[r]=null:t[r]=n[r]);return e&&delete t.id,t.quantity!==void 0&&(t.quantity=Number(t.quantity)||0),t.reorderLevel!==void 0&&(t.reorderLevel=Number(t.reorderLevel)||0),t.dailyRate!==void 0&&(t.dailyRate=Number(t.dailyRate)||0),t.amount!==void 0&&(t.amount=Number(t.amount)||0),t.location&&(t.location.lat===void 0||t.location.lng===void 0)?(console.warn("Location data incomplete, setting to null"),t.location=null):t.location===void 0&&(t.location=null),t.projectId===""&&(t.projectId=null),t},Sz=({user:n,onLogout:e,db:t,appId:r})=>{const[s,l]=A.useState([]),[u,d]=A.useState([]),[p,y]=A.useState(null),[v,T]=A.useState(!1),[S,b]=A.useState(!1),[V,R]=A.useState(null),[M,Z]=A.useState(null),[z,H]=A.useState(!0),[J,le]=A.useState(!0),ce=`artifacts/${r}/public/data/projects`,F=`artifacts/${r}/public/data/tasks`;A.useEffect(()=>{if(!t||!r){H(!1);return}H(!0);const ve=Es(Pn(t,ce)),X=Ra(ve,me=>{const ae=me.docs.map($=>({id:$.id,...$.data()}));l(ae),ae.length>0&&(!p||!ae.some($=>$.id===p.id))?y(ae[0]):ae.length===0&&y(null),H(!1)},me=>{console.error("Error fetching projects:",me),je({title:"Error loading projects",variant:"destructive",description:me.message}),H(!1)});return()=>X()},[t,r]),A.useEffect(()=>{if(!t||!r){le(!1);return}le(!0);const ve=Es(Pn(t,F)),X=Ra(ve,me=>{const ae=me.docs.map($=>({id:$.id,...$.data()}));d(ae),le(!1)},me=>{console.error("Error fetching tasks:",me),je({title:"Error loading tasks",variant:"destructive",description:me.message}),le(!1)});return()=>X()},[t,r]);const O=async ve=>{if(!t||!r)return;const X=!ve.id,me=Vx(ve,X);if(!me.name){je({title:"Project Name is required",variant:"destructive"});return}try{if(X){me.createdAt=new Date().toISOString(),me.createdBy=n?.email||"Unknown User";const ae=await Aa(Pn(t,ce),me);je({title:"Project Created! "}),p||y({id:ae.id,...me})}else{const ae=Sr(t,ce,ve.id);await Ku(ae,me),je({title:"Project Updated! "})}T(!1),R(null)}catch(ae){console.error("Error saving project:",ae),je({title:"Error Saving Project",description:ae.message,variant:"destructive"})}},j=async ve=>{if(!(!t||!r||!ve)&&window.confirm("Are you sure you want to delete this project and ALL its tasks? This cannot be undone."))try{await Rl(Sr(t,ce,ve));const X=Es(Pn(t,F),Kv("projectId","==",ve)),ae=(await bC(X)).docs.map($=>Rl(Sr(t,F,$.id)));await Promise.all(ae),je({title:"Project and Tasks Deleted. ",variant:"destructive"})}catch(X){console.error("Error deleting project and tasks:",X),je({title:"Error Deleting Project",description:X.message,variant:"destructive"})}},G=async ve=>{if(!t||!r||!ve.projectId){je({title:"Project selection is required for task",variant:"destructive"});return}const X=!ve.id,me={...ve,...X&&{createdBy:n?.email||"Unknown User",createdAt:new Date().toISOString(),status:"To Do"},...!X&&!ve.status&&{status:"To Do"}},ae=Vx(me,X);if(!ae.title){je({title:"Task Title is required",variant:"destructive"});return}if(!ae.projectId){je({title:"Project ID missing after cleaning data",variant:"destructive"});return}try{if(X)await Aa(Pn(t,F),ae),je({title:"Task Created! "});else{const $=Sr(t,F,ve.id);delete ae.createdAt,delete ae.createdBy,await Ku($,ae),je({title:"Task Updated! "})}b(!1),Z(null)}catch($){console.error("Error saving task:",$),je({title:"Error Saving Task",description:$.message,variant:"destructive"})}},q=async ve=>{if(!(!t||!r||!ve))try{await Rl(Sr(t,F,ve)),je({title:"Task Deleted. ",variant:"destructive"})}catch(X){console.error("Error deleting task:",X),je({title:"Error Deleting Task",description:X.message,variant:"destructive"})}},U=async(ve,X)=>{if(!(!t||!r||!ve))try{const me=Sr(t,F,ve);await Ku(me,{status:X}),je({title:"Status Updated! ",description:`Task moved to ${X}`})}catch(me){console.error("Error updating task status:",me),je({title:"Error Updating Status",description:me.message,variant:"destructive"})}},B=p?u.filter(ve=>ve.projectId===p.id):[],fe=ve=>({"To Do":P.jsx(kh,{className:"w-4 h-4 text-yellow-400"}),"In Progress":P.jsx(E3,{className:"w-4 h-4 text-blue-400"}),Done:P.jsx(b3,{className:"w-4 h-4 text-green-400"})})[ve]||P.jsx(kh,{className:"w-4 h-4 text-gray-400"}),Ve=ve=>({High:"border-red-500 bg-red-900/30 text-red-300",Medium:"border-yellow-500 bg-yellow-900/30 text-yellow-300",Low:"border-green-500 bg-green-900/30 text-green-300"})[ve]||"border-gray-600 bg-gray-800/30 text-gray-400";return(z||J)&&s.length===0&&u.length===0?P.jsx(Fl,{user:n,onLogout:e,title:"Project Management",children:P.jsxs("div",{className:"flex justify-center items-center h-64",children:[P.jsx(Zu,{className:"w-12 h-12 text-indigo-400 animate-spin"}),P.jsx("p",{className:"ml-4 text-lg",children:"Loading Projects & Tasks..."})]})}):P.jsxs(Fl,{user:n,onLogout:e,title:"Project Management",children:[P.jsx(xz,{isOpen:v,onOpenChange:ve=>{T(ve),ve||R(null)},onSave:O,project:V}),P.jsx(Pz,{isOpen:S,onOpenChange:ve=>{b(ve),ve||Z(null)},onSave:G,task:M,projects:s,selectedProjectId:p?.id}),P.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[P.jsxs("div",{className:"lg:col-span-3 space-y-4",children:[P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx("h2",{className:"text-xl font-bold neon-text",children:"Projects"}),P.jsx(yt,{size:"sm",className:"bg-gradient-to-r from-indigo-600 to-pink-600 hover:from-indigo-700 hover:to-pink-700",onClick:()=>{R(null),T(!0)},children:P.jsx(ac,{className:"w-4 h-4"})})]}),P.jsxs("div",{className:"glass-panel neon-border p-3 rounded-lg space-y-2 max-h-[70vh] overflow-y-auto scrollbar-hide",children:[z&&s.length===0&&P.jsx("div",{className:"flex justify-center items-center py-4",children:P.jsx(Zu,{className:"w-5 h-5 text-indigo-400 animate-spin"})}),!z&&s.length===0&&P.jsx("p",{className:"text-center text-gray-400 py-4 text-sm",children:"No projects yet. Add one!"}),s.map(ve=>P.jsxs("div",{onClick:()=>y(ve),className:`p-3 rounded-md cursor-pointer transition-all duration-150 ease-in-out ${p?.id===ve.id?"bg-indigo-600/50 ring-2 ring-pink-500 shadow-lg":"hover:bg-slate-700/60"}`,children:[P.jsxs("div",{className:"flex justify-between items-start",children:[P.jsx("span",{className:"font-bold text-white truncate pr-2",children:ve.name}),P.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[P.jsx(yt,{variant:"ghost",size:"icon",className:"text-yellow-400 hover:bg-yellow-500/10 h-6 w-6",onClick:X=>{X.stopPropagation(),R(ve),T(!0)},"aria-label":"Edit Project",children:P.jsx(lp,{className:"w-3 h-3"})}),P.jsx(yt,{variant:"ghost",size:"icon",className:"text-red-400 hover:bg-red-500/10 h-6 w-6",onClick:X=>{X.stopPropagation(),j(ve.id)},"aria-label":"Delete Project",children:P.jsx(lc,{className:"w-3 h-3"})})]})]}),P.jsx("p",{className:"text-xs text-gray-400 mt-1 truncate",children:ve.description||"No description"})]},ve.id))]})]}),P.jsx("div",{className:"lg:col-span-9",children:p?P.jsxs(P.Fragment,{children:[P.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center mb-4 gap-2",children:[P.jsx("h2",{className:"text-2xl font-bold neon-text truncate",children:p.name}),P.jsxs(yt,{className:"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 self-start sm:self-center",onClick:()=>{Z(null),b(!0)},children:[P.jsx(ac,{className:"w-4 h-4 mr-2"})," Add Task"]})]}),J&&B.length===0?P.jsxs("div",{className:"flex justify-center items-center h-64",children:[P.jsx(Zu,{className:"w-8 h-8 text-indigo-400 animate-spin"}),P.jsx("p",{className:"ml-3",children:"Loading tasks..."})]}):P.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["To Do","In Progress","Done"].map(ve=>P.jsxs(cr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"glass-panel rounded-xl p-4 neon-border min-h-[200px]",children:[P.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2 text-indigo-300",children:[fe(ve)," ",ve]}),P.jsxs("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto scrollbar-hide pr-1",children:[" ",B.filter(X=>X.status===ve).length===0&&P.jsx("p",{className:"text-center text-gray-500 text-sm py-4 italic",children:"No tasks here."}),B.filter(X=>X.status===ve).map(X=>P.jsxs("div",{className:`p-3 rounded-lg border-l-4 transition-shadow hover:shadow-md ${Ve(X.priority)} bg-slate-900/40`,children:[P.jsxs("div",{className:"flex justify-between items-start",children:[P.jsx("h4",{className:"font-bold text-white break-words mr-2 text-sm",children:X.title}),P.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[P.jsx(yt,{variant:"ghost",size:"icon",className:"text-yellow-400 hover:bg-yellow-500/10 h-6 w-6",onClick:()=>{Z(X),b(!0)},"aria-label":"Edit Task",children:P.jsx(lp,{className:"w-3 h-3"})}),P.jsx(yt,{variant:"ghost",size:"icon",className:"text-red-400 hover:bg-red-500/10 h-6 w-6",onClick:()=>q(X.id),"aria-label":"Delete Task",children:P.jsx(lc,{className:"w-3 h-3"})})]})]}),P.jsx("p",{className:"text-xs text-gray-300 mt-1 break-words",children:X.description||"No description"}),P.jsxs("div",{className:"flex justify-between items-center mt-2 text-xs",children:[P.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-semibold ${Ve(X.priority)}`,children:X.priority}),P.jsxs("select",{value:X.status,onChange:me=>U(X.id,me.target.value),className:"bg-slate-800/70 border border-slate-700 rounded text-[10px] p-0.5 text-white focus:ring-1 focus:ring-indigo-500",onClick:me=>me.stopPropagation(),children:[P.jsx("option",{children:"To Do"}),P.jsx("option",{children:"In Progress"}),P.jsx("option",{children:"Done"})]})]}),X.createdAt&&P.jsxs("p",{className:"text-[10px] text-gray-500 mt-2 text-right",children:["Added by ",X.createdBy?.split("@")[0]||X.createdBy," on ",new Date(X.createdAt).toLocaleDateString()]})]},X.id))]})]},ve))})]}):!z&&s.length>0?P.jsxs("div",{className:"flex flex-col items-center justify-center h-[70vh] glass-panel neon-border rounded-lg p-8 text-center",children:[P.jsx(oc,{className:"w-16 h-16 text-indigo-500/50 mb-4"}),P.jsx("h2",{className:"text-xl font-bold text-white",children:"Select a Project"}),P.jsx("p",{className:"text-gray-400 text-sm",children:"Choose a project from the list on the left to view its tasks."})]}):!z&&s.length===0?P.jsxs("div",{className:"flex flex-col items-center justify-center h-[70vh] glass-panel neon-border rounded-lg p-8 text-center",children:[P.jsx(oc,{className:"w-16 h-16 text-indigo-500/50 mb-4"}),P.jsx("h2",{className:"text-xl font-bold text-white",children:"No Projects Found"}),P.jsx("p",{className:"text-gray-400 text-sm",children:"Create your first project using the '+' button in the sidebar."})]}):null})]})]})},Cz=(n,e=!1)=>{const t={};for(const r in n)n[r]!==void 0&&(t[r]=n[r]);return e&&delete t.id,t},Iz=({user:n,onLogout:e,db:t,appId:r})=>{const[s,l]=A.useState([]),[u,d]=A.useState({name:"",quantity:0,reorderLevel:10,location:""}),[p,y]=A.useState(!1),[v,T]=A.useState(!0),S=`artifacts/${r}/public/data/inventory`;A.useEffect(()=>{if(!t||!r)return;T(!0);const R=Es(Pn(t,S)),M=Ra(R,Z=>{const z=[];Z.forEach(H=>{z.push({...H.data(),id:H.id})}),l(z),T(!1)},Z=>{console.error("Error listening to inventory:",Z),T(!1),je({title:"Error loading inventory",variant:"destructive"})});return()=>M()},[t,r,S]);const b=async()=>{if(!u.name){je({title:"Name Required",variant:"destructive"});return}const R={...u,quantity:Number(u.quantity)||0,reorderLevel:Number(u.reorderLevel)||10,addedBy:n?.email||"Unknown",addedAt:new Date().toISOString()},M=Cz(R,!0);try{await Aa(Pn(t,S),M),d({name:"",quantity:0,reorderLevel:10,location:""}),y(!1),je({title:"Item Added! "})}catch(Z){console.error("Error adding item: ",Z),je({title:"Error Adding Item",description:Z.message,variant:"destructive"})}},V=async R=>{if(window.confirm("Are you sure you want to delete this item?"))try{await Rl(Sr(t,S,R)),je({title:"Item Deleted ",variant:"destructive"})}catch(M){console.error("Error deleting item: ",M),je({title:"Error Deleting Item",description:M.message,variant:"destructive"})}};return P.jsx(Fl,{user:n,onLogout:e,title:"Inventory & Assets",children:P.jsxs("div",{className:"space-y-6",children:[P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx("h2",{className:"text-2xl font-bold neon-text",children:"Inventory"}),P.jsxs(Zl,{open:p,onOpenChange:y,children:[P.jsx(Q1,{asChild:!0,children:P.jsxs(yt,{className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700",children:[P.jsx(ac,{className:"w-4 h-4 mr-2"}),"Add Item"]})}),P.jsxs(Fa,{className:"bg-slate-900 border-indigo-500/30 text-white",children:[" ",P.jsx(Ba,{children:P.jsx(Ua,{className:"text-white",children:"Add Inventory Item"})}),P.jsxs("div",{className:"space-y-4 py-4",children:[" ",P.jsxs("div",{children:[P.jsx(Pt,{htmlFor:"name",className:"text-indigo-300",children:"Item Name"}),P.jsx(Yt,{id:"name",value:u.name,onChange:R=>d({...u,name:R.target.value}),className:"bg-slate-800 border-indigo-500/30 text-white",placeholder:"e.g., Safety Helmet"})]}),P.jsxs("div",{children:[P.jsx(Pt,{htmlFor:"quantity",className:"text-indigo-300",children:"Quantity"}),P.jsx(Yt,{id:"quantity",type:"number",min:"0",value:u.quantity,onChange:R=>d({...u,quantity:parseInt(R.target.value,10)||0}),className:"bg-slate-800 border-indigo-500/30 text-white"})]}),P.jsxs("div",{children:[P.jsx(Pt,{htmlFor:"reorder",className:"text-indigo-300",children:"Reorder Level"}),P.jsx(Yt,{id:"reorder",type:"number",min:"0",value:u.reorderLevel,onChange:R=>d({...u,reorderLevel:parseInt(R.target.value,10)||0}),className:"bg-slate-800 border-indigo-500/30 text-white"})]}),P.jsxs("div",{children:[P.jsx(Pt,{htmlFor:"location",className:"text-indigo-300",children:"Location"}),P.jsx(Yt,{id:"location",value:u.location,onChange:R=>d({...u,location:R.target.value}),className:"bg-slate-800 border-indigo-500/30 text-white",placeholder:"e.g., Warehouse A, Shelf 3"})]}),P.jsx(yt,{onClick:b,className:"w-full bg-gradient-to-r from-green-600 to-emerald-600",children:"Add Item"})]})]})]})]}),v&&P.jsxs("div",{className:"flex justify-center items-center h-64",children:[P.jsx(Zu,{className:"w-12 h-12 text-indigo-400 animate-spin"}),P.jsx("p",{className:"ml-4",children:"Loading Inventory..."})]}),!v&&s.length===0&&P.jsxs("div",{className:"text-center py-10 glass-panel rounded-xl neon-border",children:[P.jsx(Wy,{className:"w-16 h-16 mx-auto text-gray-500 mb-4"}),P.jsx("p",{className:"text-lg text-gray-400",children:"Inventory is empty."}),P.jsx("p",{className:"text-sm text-gray-500",children:'Click "Add Item" to get started.'})]}),P.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:!v&&s.map(R=>P.jsxs(cr.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`glass-panel rounded-xl p-6 neon-border relative ${R.quantity<=R.reorderLevel?"border-red-500 ring-2 ring-red-500/50":""}`,children:[P.jsx("button",{onClick:()=>V(R.id),className:"absolute top-3 right-3 p-1 text-red-500 hover:text-red-400 focus:outline-none focus:ring-2 focus:ring-red-500 rounded-full","aria-label":"Delete item",children:P.jsx(lc,{className:"w-4 h-4"})}),P.jsxs("div",{className:"flex items-start justify-between mb-4",children:[P.jsx(Wy,{className:"w-8 h-8 text-emerald-400"}),R.quantity<=R.reorderLevel&&P.jsxs("div",{className:"flex items-center text-red-400",children:[P.jsx(x3,{className:"w-5 h-5 mr-1 animate-pulse"}),P.jsx("span",{className:"text-xs font-semibold",children:"Low Stock"})]})]}),P.jsx("h3",{className:"text-xl font-bold text-white mb-2 truncate",children:R.name}),P.jsxs("div",{className:"space-y-2 text-sm",children:[P.jsxs("div",{className:"flex justify-between",children:[P.jsx("span",{className:"text-gray-400",children:"Quantity:"}),P.jsx("span",{className:`font-bold ${R.quantity<=R.reorderLevel?"text-red-400":"text-green-400"}`,children:R.quantity})]}),P.jsxs("div",{className:"flex justify-between",children:[P.jsx("span",{className:"text-gray-400",children:"Reorder Level:"}),P.jsx("span",{className:"text-yellow-400",children:R.reorderLevel})]}),P.jsxs("div",{className:"flex justify-between",children:[P.jsx("span",{className:"text-gray-400",children:"Location:"}),P.jsx("span",{className:"text-indigo-400 truncate",children:R.location||"N/A"})]}),R.addedAt&&P.jsxs("p",{className:"text-xs text-gray-500 pt-2 border-t border-slate-700/50 mt-2",children:["Added by ",R.addedBy," on ",new Date(R.addedAt).toLocaleDateString()]})]})]},R.id))})]})})},bz=({isOpen:n,onOpenChange:e,onSave:t,employee:r})=>{const[s,l]=A.useState({firstName:"",lastName:"",middleName:"",email:"",designation:"",department:"",contactNumber:"",profilePhoto:"",dailyRate:0});A.useEffect(()=>{l(r?{firstName:r.firstName||"",lastName:r.lastName||"",middleName:r.middleName||"",email:r.email||"",designation:r.designation||"",department:r.department||"",contactNumber:r.contactNumber||"",profilePhoto:r.profilePhoto||"",dailyRate:r.dailyRate||0}:{firstName:"",lastName:"",middleName:"",email:"",designation:"",department:"",contactNumber:"",profilePhoto:"",dailyRate:0})},[r,n]);const u=y=>{const{id:v,value:T}=y.target;l(S=>({...S,[v]:T}))},d=()=>{je({title:" Feature not implemented",description:"Profile photo upload is not available yet."})},p=()=>{if(!s.firstName||!s.lastName||!s.designation){je({title:"Required Fields Missing",description:"First Name, Last Name, and Designation are required.",variant:"destructive"});return}t({id:r?.id,...s})};return P.jsx(Zl,{open:n,onOpenChange:e,children:P.jsxs(Fa,{className:"bg-slate-900 border-indigo-500/30 text-white max-h-[90vh] overflow-y-auto scrollbar-hide",children:[P.jsx(Ba,{children:P.jsx(Ua,{children:r?"Edit Employee":"Add New Employee"})}),P.jsxs("div",{className:"space-y-4 py-4",children:[P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[P.jsxs("div",{className:"space-y-2",children:[P.jsx(Pt,{htmlFor:"firstName",className:"text-indigo-300",children:"First Name"}),P.jsx(Yt,{id:"firstName",value:s.firstName,onChange:u,className:"bg-slate-800 border-indigo-500/30"})]}),P.jsxs("div",{className:"space-y-2",children:[P.jsx(Pt,{htmlFor:"lastName",className:"text-indigo-300",children:"Last Name"}),P.jsx(Yt,{id:"lastName",value:s.lastName,onChange:u,className:"bg-slate-800 border-indigo-500/30"})]})]}),P.jsxs("div",{className:"space-y-2",children:[P.jsx(Pt,{htmlFor:"middleName",className:"text-indigo-300",children:"Middle Name"}),P.jsx(Yt,{id:"middleName",value:s.middleName,onChange:u,className:"bg-slate-800 border-indigo-500/30"})]}),P.jsxs("div",{className:"space-y-2",children:[P.jsx(Pt,{htmlFor:"email",className:"text-indigo-300",children:"Email"}),P.jsx(Yt,{id:"email",type:"email",value:s.email,onChange:u,className:"bg-slate-800 border-indigo-500/30"})]}),P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[P.jsxs("div",{className:"space-y-2",children:[P.jsx(Pt,{htmlFor:"designation",className:"text-indigo-300",children:"Designation"}),P.jsx(Yt,{id:"designation",value:s.designation,onChange:u,className:"bg-slate-800 border-indigo-500/30"})]}),P.jsxs("div",{className:"space-y-2",children:[P.jsx(Pt,{htmlFor:"department",className:"text-indigo-300",children:"Department"}),P.jsx(Yt,{id:"department",value:s.department,onChange:u,className:"bg-slate-800 border-indigo-500/30"})]})]}),P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[P.jsxs("div",{className:"space-y-2",children:[P.jsx(Pt,{htmlFor:"contactNumber",className:"text-indigo-300",children:"Contact Number"}),P.jsx(Yt,{id:"contactNumber",value:s.contactNumber,onChange:u,className:"bg-slate-800 border-indigo-500/30"})]}),P.jsxs("div",{className:"space-y-2",children:[P.jsx(Pt,{htmlFor:"dailyRate",className:"text-indigo-300",children:"Daily Rate ()"}),P.jsx(Yt,{id:"dailyRate",type:"number",value:s.dailyRate,onChange:u,className:"bg-slate-800 border-indigo-500/30"})]})]}),P.jsxs("div",{className:"space-y-2",children:[P.jsx(Pt,{htmlFor:"profilePhoto",className:"text-indigo-300",children:"Profile Photo"}),P.jsx(Yt,{id:"profilePhoto",type:"file",onChange:d,className:"bg-slate-800 border-indigo-500/30"})]})]}),P.jsx(yt,{onClick:p,className:"w-full bg-gradient-to-r from-green-600 to-emerald-600",children:r?"Save Changes":"Create Employee"})]})})},Az=({isOpen:n,onOpenChange:e,employee:t,onAssign:r,projects:s=[]})=>{const[l,u]=A.useState("");A.useEffect(()=>{t?.projectId?u(t.projectId):s.length>0&&u(s[0].id)},[t,s,n]);const d=()=>{r(t.id,l),e(!1),je({title:"Project Assigned! ",description:`${t.firstName} has been assigned to a new project.`})};return P.jsx(Zl,{open:n,onOpenChange:e,children:P.jsxs(Fa,{className:"bg-slate-900 border-indigo-500/30 text-white",children:[P.jsx(Ba,{children:P.jsxs(Ua,{children:["Assign Project to ",t?.firstName]})}),P.jsx("div",{className:"space-y-4 py-4",children:P.jsxs("div",{className:"space-y-2",children:[P.jsx(Pt,{htmlFor:"project",className:"text-indigo-300",children:"Select Project"}),P.jsx("select",{id:"project",value:l,onChange:p=>u(p.target.value),className:"w-full bg-slate-800 border border-indigo-500/30 rounded-md p-2 text-white",disabled:!s.length,children:s.length>0?s.map(p=>P.jsx("option",{value:p.id,children:p.name},p.id)):P.jsx("option",{children:"No projects available"})})]})}),P.jsx(yt,{onClick:d,disabled:!s.length,className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600",children:"Assign Project"})]})})},jx=(n,e=!1)=>{const t={};for(const r in n)n[r]!==void 0&&(t[r]=n[r]);return e&&delete t.id,t.dailyRate!==void 0&&(t.dailyRate=Number(t.dailyRate)||0),t.middleName===""&&(t.middleName=null),t.email===""&&(t.email=null),t.department===""&&(t.department=null),t.contactNumber===""&&(t.contactNumber=null),t.profilePhoto===""&&(t.profilePhoto=null),t.projectId===""&&(t.projectId=null),t},Rz=({user:n,onLogout:e,db:t,appId:r,projects:s})=>{const[l,u]=A.useState([]),[d,p]=A.useState(s||[]),[y,v]=A.useState(!1),[T,S]=A.useState(!1),[b,V]=A.useState(null),[R,M]=A.useState(null),[Z,z]=A.useState(!0),[H,J]=A.useState(!s),le=`artifacts/${r}/public/data/employees`,ce=`artifacts/${r}/public/data/projects`;A.useEffect(()=>{if(!t||!r)return;z(!0);const U=Es(Pn(t,le)),B=Ra(U,fe=>{const Ve=[];fe.forEach(Ie=>{Ve.push({...Ie.data(),id:Ie.id})}),u(Ve),z(!1)},fe=>{console.error("Error listening to employees:",fe),z(!1),je({title:"Error loading employees",variant:"destructive"})});return()=>B()},[t,r,le]),A.useEffect(()=>{if(s||!t||!r)return;J(!0);const U=Es(Pn(t,ce)),B=Ra(U,fe=>{const Ve=[];fe.forEach(Ie=>{Ve.push({...Ie.data(),id:Ie.id})}),p(Ve),J(!1)},fe=>{console.error("Error listening to projects:",fe),J(!1),je({title:"Error loading projects for assignment",variant:"destructive"})});return()=>B()},[t,r,s,ce]);const F=async U=>{if(!t||!r)return;const B=!U.id,fe=jx(U,B);if(!fe.firstName||!fe.lastName||!fe.designation){je({title:"Required Fields Missing",description:"First Name, Last Name, and Designation are required.",variant:"destructive"});return}try{if(B)fe.createdAt=new Date().toISOString(),await Aa(Pn(t,le),fe),je({title:"Employee Added! "});else{const Ve=Sr(t,le,U.id);await Ku(Ve,fe),je({title:"Employee Updated! "})}v(!1),V(null)}catch(Ve){console.error("Error saving employee:",Ve),je({title:"Error Saving Employee",description:Ve.message,variant:"destructive"})}},O=async U=>{if(!(!t||!r||!U)&&window.confirm("Are you sure you want to delete this employee?"))try{await Rl(Sr(t,le,U)),je({title:"Employee Deleted. ",variant:"destructive"})}catch(B){console.error("Error deleting employee:",B),je({title:"Error Deleting Employee",description:B.message,variant:"destructive"})}},j=async(U,B)=>{if(!t||!r||!U)return;const fe=jx({projectId:B||null});try{const Ve=Sr(t,le,U);await Ku(Ve,fe),je({title:"Project Assigned!"}),S(!1),M(null)}catch(Ve){console.error("Error assigning project:",Ve),je({title:"Error Assigning Project",description:Ve.message,variant:"destructive"})}},G=U=>d.find(B=>B.id===U)?.name||"Not Assigned",q=Z||H;return P.jsxs(Fl,{user:n,onLogout:e,title:"HR & Payroll",children:[P.jsx(bz,{isOpen:y,onOpenChange:U=>{v(U),U||V(null)},onSave:F,employee:b}),P.jsx(Az,{isOpen:T,onOpenChange:U=>{S(U),U||M(null)},employee:R,projects:d,onAssign:j}),P.jsxs("div",{className:"space-y-6",children:[P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx("h2",{className:"text-2xl font-bold neon-text",children:"Employees"}),P.jsxs(yt,{className:"bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700",onClick:()=>{V(null),v(!0)},children:[P.jsx(ac,{className:"w-4 h-4 mr-2"}),"Add Employee"]})]}),q&&P.jsxs("div",{className:"flex justify-center items-center h-64",children:[P.jsx(Zu,{className:"w-12 h-12 text-indigo-400 animate-spin"}),P.jsx("p",{className:"ml-4",children:"Loading HR Data..."})]}),!q&&l.length===0&&P.jsxs("div",{className:"text-center py-10 glass-panel rounded-xl neon-border",children:[P.jsx(up,{className:"w-16 h-16 mx-auto text-gray-500 mb-4"}),P.jsx("p",{className:"text-lg text-gray-400",children:"No employees found."}),P.jsx("p",{className:"text-sm text-gray-500",children:'Click "Add Employee" to get started.'})]}),P.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:!q&&l.map(U=>P.jsxs(cr.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"glass-panel rounded-xl p-4 neon-border flex flex-col justify-between",children:[P.jsxs("div",{children:[P.jsxs("div",{className:"flex items-start justify-between mb-4",children:[P.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-700 flex items-center justify-center overflow-hidden",children:P.jsx(up,{className:"w-8 h-8 text-orange-400"})}),P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx(yt,{variant:"ghost",size:"icon",className:"text-yellow-400 hover:bg-yellow-500/10 h-8 w-8",onClick:()=>{V(U),v(!0)},children:P.jsx(lp,{className:"w-4 h-4"})}),P.jsx(yt,{variant:"ghost",size:"icon",className:"text-red-400 hover:bg-red-500/10 h-8 w-8",onClick:()=>O(U.id),children:P.jsx(lc,{className:"w-4 h-4"})})]})]}),P.jsxs("h3",{className:"text-xl font-bold text-white truncate",children:[U.firstName," ",U.lastName]}),P.jsx("p",{className:"text-indigo-400 font-semibold",children:U.designation}),P.jsxs("div",{className:"space-y-1 text-sm mt-3",children:[P.jsxs("p",{className:"text-gray-400 truncate",children:[P.jsx("span",{className:"font-semibold text-gray-500",children:"Dept:"})," ",U.department||"N/A"]}),P.jsxs("p",{className:"text-gray-400 truncate",children:[P.jsx("span",{className:"font-semibold text-gray-500",children:"Email:"})," ",U.email||"N/A"]}),P.jsxs("p",{className:"text-gray-400 truncate",children:[P.jsx("span",{className:"font-semibold text-gray-500",children:"Contact:"})," ",U.contactNumber||"N/A"]}),P.jsxs("p",{className:"text-gray-400 flex items-center gap-1",children:[P.jsx(zp,{className:"w-4 h-4 text-green-500"})," ",P.jsxs("span",{className:"font-semibold text-green-400",children:["",U.dailyRate||0," / day"]})]}),P.jsxs("p",{className:"text-gray-400 flex items-center gap-1",children:[P.jsx(oc,{className:"w-4 h-4 text-purple-400"})," ",G(U.projectId)]})]})]}),P.jsxs(yt,{variant:"outline",className:"w-full mt-4 border-indigo-500/50 text-indigo-300 hover:bg-indigo-900/30 hover:text-indigo-200",onClick:()=>{M(U),S(!0)},children:[P.jsx(oc,{className:"w-4 h-4 mr-2"}),"Assign to Project"]})]},U.id))})]})]})},kz=(n,e=!1)=>{const t={};for(const r in n)n[r]!==void 0&&(t[r]=n[r]);return e&&delete t.id,t.amount!==void 0&&(t.amount=Number(t.amount)||0),t},Nz=({user:n,onLogout:e,db:t,appId:r})=>{const[s,l]=A.useState([]),[u,d]=A.useState({description:"",amount:"",category:"Operations"}),[p,y]=A.useState(!1),[v,T]=A.useState(!0),S=`artifacts/${r}/public/data/expenses`;A.useEffect(()=>{if(!t||!r)return;T(!0);const z=Es(Pn(t,S)),H=Ra(z,J=>{const le=[];J.forEach(ce=>{const F=ce.data();le.push({...F,id:ce.id,amount:Number(F.amount)||0})}),le.sort((ce,F)=>new Date(F.addedAt)-new Date(ce.addedAt)),l(le),T(!1)},J=>{console.error("Error listening to expenses:",J),T(!1),je({title:"Error loading expenses",variant:"destructive"})});return()=>H()},[t,r,S]);const b=async()=>{const z=parseFloat(u.amount);if(!u.description||isNaN(z)||z<=0){je({title:"Invalid Input",description:"Please enter description and a valid positive amount",variant:"destructive"});return}const H={...u,amount:z,addedBy:n?.email||"Unknown",addedAt:new Date().toISOString()},J=kz(H,!0);try{await Aa(Pn(t,S),J),d({description:"",amount:"",category:"Operations"}),y(!1),je({title:"Expense Logged! "})}catch(le){console.error("Error adding expense:",le),je({title:"Error Adding Expense",description:le.message,variant:"destructive"})}},V=async z=>{if(window.confirm("Are you sure you want to delete this expense?"))try{await Rl(Sr(t,S,z)),je({title:"Expense Deleted ",variant:"destructive"})}catch(H){console.error("Error deleting expense:",H),je({title:"Error Deleting Expense",description:H.message,variant:"destructive"})}},R=s.reduce((z,H)=>z+H.amount,0),M=85e3,Z=M-R;return P.jsx(Fl,{user:n,onLogout:e,title:"Finance & Budgeting",children:P.jsxs("div",{className:"space-y-6",children:[P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[P.jsxs(cr.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"glass-panel rounded-xl p-6 neon-border",children:[P.jsxs("div",{className:"flex items-center justify-between mb-4",children:[P.jsx("h3",{className:"text-lg font-bold text-white",children:"Total Expenses"}),P.jsx(D3,{className:"w-8 h-8 text-red-400"})]}),P.jsxs("p",{className:"text-4xl font-bold text-red-400",children:["",R.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),P.jsxs(cr.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"glass-panel rounded-xl p-6 neon-border",children:[P.jsxs("div",{className:"flex items-center justify-between mb-4",children:[P.jsx("h3",{className:"text-lg font-bold text-white",children:"Budget Remaining"}),P.jsx(V3,{className:`w-8 h-8 ${Z>=0?"text-green-400":"text-red-400"}`})]}),P.jsxs("p",{className:`text-4xl font-bold ${Z>=0?"text-green-400":"text-red-400"}`,children:["",Z.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),P.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Budget: ",M.toLocaleString()]})]})]}),P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx("h2",{className:"text-2xl font-bold neon-text",children:"Expenses"}),P.jsxs(Zl,{open:p,onOpenChange:y,children:[P.jsx(Q1,{asChild:!0,children:P.jsxs(yt,{className:"bg-gradient-to-r from-yellow-600 to-amber-600 hover:from-yellow-700 hover:to-amber-700",children:[P.jsx(ac,{className:"w-4 h-4 mr-2"}),"Log Expense"]})}),P.jsxs(Fa,{className:"bg-slate-900 border-indigo-500/30 text-white",children:[P.jsx(Ba,{children:P.jsx(Ua,{className:"text-white",children:"Log New Expense"})}),P.jsxs("div",{className:"space-y-4 py-4",children:[P.jsxs("div",{children:[P.jsx(Pt,{htmlFor:"description",className:"text-indigo-300",children:"Description"}),P.jsx(Yt,{id:"description",value:u.description,onChange:z=>d({...u,description:z.target.value}),className:"bg-slate-800 border-indigo-500/30 text-white",placeholder:"e.g., Office Supplies"})]}),P.jsxs("div",{children:[P.jsx(Pt,{htmlFor:"amount",className:"text-indigo-300",children:"Amount ()"}),P.jsx(Yt,{id:"amount",type:"number",value:u.amount,onChange:z=>d({...u,amount:z.target.value}),className:"bg-slate-800 border-indigo-500/30 text-white",placeholder:"e.g., 1500.50",min:"0.01",step:"0.01"})]}),P.jsxs("div",{children:[P.jsx(Pt,{htmlFor:"category",className:"text-indigo-300",children:"Category"}),P.jsxs("select",{id:"category",value:u.category,onChange:z=>d({...u,category:z.target.value}),className:"w-full bg-slate-800 border border-indigo-500/30 rounded-md p-2 text-white",children:[P.jsx("option",{children:"Operations"}),P.jsx("option",{children:"Payroll"}),P.jsx("option",{children:"Equipment"}),P.jsx("option",{children:"Travel"}),P.jsx("option",{children:"Other"})]})]}),P.jsx(yt,{onClick:b,className:"w-full bg-gradient-to-r from-yellow-600 to-amber-600",children:"Log Expense"})]})]})]})]}),P.jsxs("div",{className:"glass-panel rounded-xl p-6 neon-border",children:[v&&P.jsxs("div",{className:"flex justify-center items-center h-40",children:[P.jsx(Zu,{className:"w-8 h-8 text-indigo-400 animate-spin"}),P.jsx("p",{className:"ml-3",children:"Loading Expenses..."})]}),!v&&s.length===0&&P.jsxs("div",{className:"text-center py-10",children:[P.jsx(zp,{className:"w-16 h-16 mx-auto text-gray-500 mb-4"}),P.jsx("p",{className:"text-lg text-gray-400",children:"No expenses logged yet."}),P.jsx("p",{className:"text-sm text-gray-500",children:'Click "Log Expense" to add the first one.'})]}),P.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto scrollbar-hide",children:!v&&s.map(z=>P.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-indigo-500/20",children:[P.jsxs("div",{className:"flex justify-between items-start mb-2 gap-4",children:[" ",P.jsxs("div",{className:"flex-1 min-w-0",children:[" ",P.jsx("h4",{className:"font-bold text-white break-words",children:z.description}),P.jsx("p",{className:"text-sm text-gray-400",children:z.category})]}),P.jsxs("div",{className:"text-right flex-shrink-0",children:[" ",P.jsxs("p",{className:"text-xl font-bold text-red-400",children:["",z.amount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),z.addedAt&&P.jsx("p",{className:"text-xs text-gray-400",children:new Date(z.addedAt).toLocaleDateString()})]})]}),P.jsxs("div",{className:"flex justify-between items-center mt-1",children:[P.jsxs("p",{className:"text-xs text-gray-500 truncate pr-2",children:["Logged by: ",z.addedBy]}),P.jsx(yt,{variant:"ghost",size:"icon",className:"text-red-500 hover:bg-red-500/10 h-6 w-6",onClick:()=>V(z.id),"aria-label":"Delete expense",children:P.jsx(lc,{className:"w-4 h-4"})})]})]},z.id))})]})]})})},Lz=({isOpen:n,onOpenChange:e,onSave:t,report:r})=>{const[s,l]=A.useState(""),[u,d]=A.useState("");A.useEffect(()=>{r?(l(r.title),d(r.content)):(l(""),d(""))},[r,n]);const p=()=>{t({id:r?.id,title:s,content:u}),e(!1)};return P.jsx(Zl,{open:n,onOpenChange:e,children:P.jsxs(Fa,{className:"bg-slate-900 border-indigo-500/30 text-white",children:[P.jsx(Ba,{children:P.jsx(Ua,{children:r?"Edit Report":"Create New Report"})}),P.jsxs("div",{className:"space-y-4 py-4",children:[P.jsxs("div",{className:"space-y-2",children:[P.jsx(Pt,{htmlFor:"title",className:"text-indigo-300",children:"Report Title"}),P.jsx(Yt,{id:"title",value:s,onChange:y=>l(y.target.value),className:"bg-slate-800 border-indigo-500/30",placeholder:"e.g., Weekly Progress Summary"})]}),P.jsxs("div",{className:"space-y-2",children:[P.jsx(Pt,{htmlFor:"content",className:"text-indigo-300",children:"Content"}),P.jsx($p,{id:"content",value:u,onChange:y=>d(y.target.value),className:"bg-slate-800 border-indigo-500/30 min-h-[150px]",placeholder:"Describe the details of your report here..."})]})]}),P.jsx(yt,{onClick:p,className:"w-full bg-gradient-to-r from-green-600 to-emerald-600",children:r?"Save Changes":"Submit Report"})]})})},Mz=({user:n,onLogout:e,db:t})=>{const[r,s]=A.useState("attendance"),[l,u]=A.useState([]),[d,p]=A.useState([]),[y,v]=A.useState(!1),[T,S]=A.useState(null),[b,V]=A.useState(!0),[R,M]=A.useState(!0),Z=typeof __app_id<"u"?__app_id:"default-app-id",z=`artifacts/${Z}/public/data/user-reports`,H={attendance:`artifacts/${Z}/public/data/attendance`,tasks:`artifacts/${Z}/public/data/tasks`,inventory:`artifacts/${Z}/public/data/inventory`},J=[{id:"attendance",name:"Attendance",icon:""},{id:"tasks",name:"Tasks",icon:""},{id:"inventory",name:"Inventory",icon:""}],le=n.role==="Field Employee"?J.filter(O=>O.id!=="inventory"):J;A.useEffect(()=>{if(!t||!n)return;V(!0);const O=Es(Pn(t,z),Kv("userId","==",n.uid)),j=Ra(O,G=>{const q=[];G.forEach(U=>{q.push({...U.data(),id:U.id})}),u(q),V(!1)},G=>{console.error("Error listening to user reports:",G),V(!1)});return()=>j()},[t,n,Z]),A.useEffect(()=>{if(!t||!r)return;(async()=>{M(!0);const j=H[r];if(!j){p([]),M(!1);return}try{const G=Es(Pn(t,j)),q=await bC(G),U=[];q.forEach(B=>{U.push({...B.data(),id:B.id})}),n.role==="Field Employee"?p(r==="attendance"?U.filter(B=>B.userId===n.uid):U):p(U)}catch(G){console.error("Error fetching system report:",G),je({title:"Error fetching report data",variant:"destructive"})}M(!1)})()},[t,n,r,Z]);const ce=async O=>{try{if(O.id){const j=Sr(t,z,O.id);await Ku(j,O),je({title:"Report Updated! "})}else{const j={...O,userId:n.uid,userEmail:n.email,createdAt:new Date().toISOString()};await Aa(Pn(t,z),j),je({title:"Report Submitted! "})}v(!1)}catch(j){console.error("Error saving report:",j)}},F=async O=>{if(window.confirm("Delete this report?"))try{await Rl(Sr(t,z,O)),je({title:"Report Deleted. ",variant:"destructive"})}catch(j){console.error("Error deleting report:",j)}};return P.jsxs(Fl,{user:n,onLogout:e,title:"Reports & Analytics",children:[P.jsx(Lz,{isOpen:y,onOpenChange:v,onSave:ce,report:T}),P.jsxs("div",{className:"space-y-6",children:[n.role==="Field Employee"&&P.jsxs(cr.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"glass-panel rounded-xl p-6 neon-border",children:[P.jsxs("div",{className:"flex justify-between items-center mb-4",children:[P.jsx("h2",{className:"text-2xl font-bold neon-text",children:"My Submitted Reports"}),P.jsxs(yt,{className:"bg-gradient-to-r from-green-600 to-emerald-600",onClick:()=>{S(null),v(!0)},children:[P.jsx(ac,{className:"w-4 h-4 mr-2"})," New Report"]})]}),P.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto scrollbar-hide",children:[b&&P.jsx("p",{className:"text-gray-400 text-center py-4",children:"Loading my reports..."}),!b&&l.length>0?l.map(O=>P.jsxs("div",{className:"bg-slate-800/50 rounded p-3 border border-indigo-500/20 flex justify-between items-center",children:[P.jsxs("div",{children:[P.jsx("p",{className:"font-bold text-white",children:O.title}),P.jsxs("p",{className:"text-xs text-gray-400",children:["Submitted on ",new Date(O.createdAt).toLocaleDateString()]})]}),P.jsxs("div",{className:"flex gap-2",children:[P.jsx(lp,{className:"w-4 h-4 text-yellow-400 cursor-pointer",onClick:()=>{S(O),v(!0)}}),P.jsx(lc,{className:"w-4 h-4 text-red-400 cursor-pointer",onClick:()=>F(O.id)})]})]},O.id)):!b&&P.jsx("p",{className:"text-gray-400 text-center py-4",children:"You have not submitted any reports yet."})]})]}),P.jsxs(cr.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"glass-panel rounded-xl p-6 neon-border",children:[P.jsx("h2",{className:"text-2xl font-bold neon-text mb-4",children:"System Data"}),P.jsx("div",{className:"grid grid-cols-3 gap-3",children:le.map(O=>P.jsxs(yt,{onClick:()=>s(O.id),className:`h-auto py-4 flex flex-col items-center gap-2 ${r===O.id?"bg-gradient-to-r from-indigo-600 to-pink-600":"bg-slate-800 hover:bg-slate-700"}`,children:[P.jsx("span",{className:"text-2xl",children:O.icon}),P.jsx("span",{className:"text-xs text-center",children:O.name})]},O.id))})]}),P.jsxs(cr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass-panel rounded-xl p-6 neon-border",children:[P.jsxs("h3",{className:"text-xl font-bold text-white mb-4",children:[J.find(O=>O.id===r)?.name," Data"]}),P.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 max-h-96 overflow-y-auto scrollbar-hide",children:[R&&P.jsx("div",{className:"text-center py-12",children:P.jsx("p",{className:"text-gray-400 animate-pulse",children:"Loading data..."})}),!R&&d.length>0?P.jsx("div",{className:"space-y-2",children:d.map(O=>P.jsx("div",{className:"bg-slate-800/50 rounded p-3 border border-indigo-500/20",children:P.jsx("pre",{className:"text-xs text-gray-300 overflow-x-auto",children:JSON.stringify(O,null,2)})},O.id))}):!R&&P.jsxs("div",{className:"text-center py-12",children:[P.jsx(YI,{className:"w-16 h-16 mx-auto text-gray-600 mb-4"}),P.jsx("p",{className:"text-gray-400",children:"No data available for this report"})]})]})]})]})]})};function Oz(n){const e=n+"CollectionProvider",[t,r]=S_(e),[s,l]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=R=>{const{scope:M,children:Z}=R,z=wt.useRef(null),H=wt.useRef(new Map).current;return P.jsx(s,{scope:M,itemMap:H,collectionRef:z,children:Z})};u.displayName=e;const d=n+"CollectionSlot",p=Nh(d),y=wt.forwardRef((R,M)=>{const{scope:Z,children:z}=R,H=l(d,Z),J=Bi(M,H.collectionRef);return P.jsx(p,{ref:J,children:z})});y.displayName=d;const v=n+"CollectionItemSlot",T="data-radix-collection-item",S=Nh(v),b=wt.forwardRef((R,M)=>{const{scope:Z,children:z,...H}=R,J=wt.useRef(null),le=Bi(M,J),ce=l(v,Z);return wt.useEffect(()=>(ce.itemMap.set(J,{ref:J,...H}),()=>void ce.itemMap.delete(J))),P.jsx(S,{[T]:"",ref:le,children:z})});b.displayName=v;function V(R){const M=l(n+"CollectionConsumer",R);return wt.useCallback(()=>{const z=M.collectionRef.current;if(!z)return[];const H=Array.from(z.querySelectorAll(`[${T}]`));return Array.from(M.itemMap.values()).sort((ce,F)=>H.indexOf(ce.ref.current)-H.indexOf(F.ref.current))},[M.collectionRef,M.itemMap])}return[{Provider:u,Slot:y,ItemSlot:b},V,r]}var Dz=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Vz="VisuallyHidden",k_=A.forwardRef((n,e)=>P.jsx(Mn.span,{...n,ref:e,style:{...Dz,...n.style}}));k_.displayName=Vz;var N_="ToastProvider",[L_,jz,Fz]=Oz("Toast"),[X1]=S_("Toast",[Fz]),[Bz,qp]=X1(N_),J1=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:l=50,children:u}=n,[d,p]=A.useState(null),[y,v]=A.useState(0),T=A.useRef(!1),S=A.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${N_}\`. Expected non-empty \`string\`.`),P.jsx(L_.Provider,{scope:e,children:P.jsx(Bz,{scope:e,label:t,duration:r,swipeDirection:s,swipeThreshold:l,toastCount:y,viewport:d,onViewportChange:p,onToastAdd:A.useCallback(()=>v(b=>b+1),[]),onToastRemove:A.useCallback(()=>v(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:T,isClosePausedRef:S,children:u})})};J1.displayName=N_;var eb="ToastViewport",Uz=["F8"],Qy="toast.viewportPause",Yy="toast.viewportResume",tb=A.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=Uz,label:s="Notifications ({hotkey})",...l}=n,u=qp(eb,t),d=jz(t),p=A.useRef(null),y=A.useRef(null),v=A.useRef(null),T=A.useRef(null),S=Bi(e,T,u.onViewportChange),b=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=u.toastCount>0;A.useEffect(()=>{const M=Z=>{r.length!==0&&r.every(H=>Z[H]||Z.code===H)&&T.current?.focus()};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[r]),A.useEffect(()=>{const M=p.current,Z=T.current;if(V&&M&&Z){const z=()=>{if(!u.isClosePausedRef.current){const ce=new CustomEvent(Qy);Z.dispatchEvent(ce),u.isClosePausedRef.current=!0}},H=()=>{if(u.isClosePausedRef.current){const ce=new CustomEvent(Yy);Z.dispatchEvent(ce),u.isClosePausedRef.current=!1}},J=ce=>{!M.contains(ce.relatedTarget)&&H()},le=()=>{M.contains(document.activeElement)||H()};return M.addEventListener("focusin",z),M.addEventListener("focusout",J),M.addEventListener("pointermove",z),M.addEventListener("pointerleave",le),window.addEventListener("blur",z),window.addEventListener("focus",H),()=>{M.removeEventListener("focusin",z),M.removeEventListener("focusout",J),M.removeEventListener("pointermove",z),M.removeEventListener("pointerleave",le),window.removeEventListener("blur",z),window.removeEventListener("focus",H)}}},[V,u.isClosePausedRef]);const R=A.useCallback(({tabbingDirection:M})=>{const z=d().map(H=>{const J=H.ref.current,le=[J,...e6(J)];return M==="forwards"?le:le.reverse()});return(M==="forwards"?z.reverse():z).flat()},[d]);return A.useEffect(()=>{const M=T.current;if(M){const Z=z=>{const H=z.altKey||z.ctrlKey||z.metaKey;if(z.key==="Tab"&&!H){const le=document.activeElement,ce=z.shiftKey;if(z.target===M&&ce){y.current?.focus();return}const j=R({tabbingDirection:ce?"backwards":"forwards"}),G=j.findIndex(q=>q===le);Qg(j.slice(G+1))?z.preventDefault():ce?y.current?.focus():v.current?.focus()}};return M.addEventListener("keydown",Z),()=>M.removeEventListener("keydown",Z)}},[d,R]),P.jsxs(uU,{ref:p,role:"region","aria-label":s.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:V?void 0:"none"},children:[V&&P.jsx(Xy,{ref:y,onFocusFromOutsideViewport:()=>{const M=R({tabbingDirection:"forwards"});Qg(M)}}),P.jsx(L_.Slot,{scope:t,children:P.jsx(Mn.ol,{tabIndex:-1,...l,ref:S})}),V&&P.jsx(Xy,{ref:v,onFocusFromOutsideViewport:()=>{const M=R({tabbingDirection:"backwards"});Qg(M)}})]})});tb.displayName=eb;var nb="ToastFocusProxy",Xy=A.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...s}=n,l=qp(nb,t);return P.jsx(k_,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:u=>{const d=u.relatedTarget;!l.viewport?.contains(d)&&r()}})});Xy.displayName=nb;var ed="Toast",zz="toast.swipeStart",Hz="toast.swipeMove",Wz="toast.swipeCancel",$z="toast.swipeEnd",rb=A.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:s,onOpenChange:l,...u}=n,[d,p]=y1({prop:r,defaultProp:s??!0,onChange:l,caller:ed});return P.jsx(Jh,{present:t||d,children:P.jsx(Kz,{open:d,...u,ref:e,onClose:()=>p(!1),onPause:yo(n.onPause),onResume:yo(n.onResume),onSwipeStart:Sn(n.onSwipeStart,y=>{y.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Sn(n.onSwipeMove,y=>{const{x:v,y:T}=y.detail.delta;y.currentTarget.setAttribute("data-swipe","move"),y.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${v}px`),y.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${T}px`)}),onSwipeCancel:Sn(n.onSwipeCancel,y=>{y.currentTarget.setAttribute("data-swipe","cancel"),y.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),y.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),y.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),y.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Sn(n.onSwipeEnd,y=>{const{x:v,y:T}=y.detail.delta;y.currentTarget.setAttribute("data-swipe","end"),y.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),y.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),y.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${v}px`),y.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${T}px`),p(!1)})})})});rb.displayName=ed;var[qz,Gz]=X1(ed,{onClose(){}}),Kz=A.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:s,open:l,onClose:u,onEscapeKeyDown:d,onPause:p,onResume:y,onSwipeStart:v,onSwipeMove:T,onSwipeCancel:S,onSwipeEnd:b,...V}=n,R=qp(ed,t),[M,Z]=A.useState(null),z=Bi(e,fe=>Z(fe)),H=A.useRef(null),J=A.useRef(null),le=s||R.duration,ce=A.useRef(0),F=A.useRef(le),O=A.useRef(0),{onToastAdd:j,onToastRemove:G}=R,q=yo(()=>{M?.contains(document.activeElement)&&R.viewport?.focus(),u()}),U=A.useCallback(fe=>{!fe||fe===1/0||(window.clearTimeout(O.current),ce.current=new Date().getTime(),O.current=window.setTimeout(q,fe))},[q]);A.useEffect(()=>{const fe=R.viewport;if(fe){const Ve=()=>{U(F.current),y?.()},Ie=()=>{const ve=new Date().getTime()-ce.current;F.current=F.current-ve,window.clearTimeout(O.current),p?.()};return fe.addEventListener(Qy,Ie),fe.addEventListener(Yy,Ve),()=>{fe.removeEventListener(Qy,Ie),fe.removeEventListener(Yy,Ve)}}},[R.viewport,le,p,y,U]),A.useEffect(()=>{l&&!R.isClosePausedRef.current&&U(le)},[l,le,R.isClosePausedRef,U]),A.useEffect(()=>(j(),()=>G()),[j,G]);const B=A.useMemo(()=>M?cb(M):null,[M]);return R.viewport?P.jsxs(P.Fragment,{children:[B&&P.jsx(Zz,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:B}),P.jsx(qz,{scope:t,onClose:q,children:dp.createPortal(P.jsx(L_.ItemSlot,{scope:t,children:P.jsx(lU,{asChild:!0,onEscapeKeyDown:Sn(d,()=>{R.isFocusedToastEscapeKeyDownRef.current||q(),R.isFocusedToastEscapeKeyDownRef.current=!1}),children:P.jsx(Mn.li,{tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":R.swipeDirection,...V,ref:z,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Sn(n.onKeyDown,fe=>{fe.key==="Escape"&&(d?.(fe.nativeEvent),fe.nativeEvent.defaultPrevented||(R.isFocusedToastEscapeKeyDownRef.current=!0,q()))}),onPointerDown:Sn(n.onPointerDown,fe=>{fe.button===0&&(H.current={x:fe.clientX,y:fe.clientY})}),onPointerMove:Sn(n.onPointerMove,fe=>{if(!H.current)return;const Ve=fe.clientX-H.current.x,Ie=fe.clientY-H.current.y,ve=!!J.current,X=["left","right"].includes(R.swipeDirection),me=["left","up"].includes(R.swipeDirection)?Math.min:Math.max,ae=X?me(0,Ve):0,$=X?0:me(0,Ie),ue=fe.pointerType==="touch"?10:2,Ee={x:ae,y:$},be={originalEvent:fe,delta:Ee};ve?(J.current=Ee,yf(Hz,T,be,{discrete:!1})):Fx(Ee,R.swipeDirection,ue)?(J.current=Ee,yf(zz,v,be,{discrete:!1}),fe.target.setPointerCapture(fe.pointerId)):(Math.abs(Ve)>ue||Math.abs(Ie)>ue)&&(H.current=null)}),onPointerUp:Sn(n.onPointerUp,fe=>{const Ve=J.current,Ie=fe.target;if(Ie.hasPointerCapture(fe.pointerId)&&Ie.releasePointerCapture(fe.pointerId),J.current=null,H.current=null,Ve){const ve=fe.currentTarget,X={originalEvent:fe,delta:Ve};Fx(Ve,R.swipeDirection,R.swipeThreshold)?yf($z,b,X,{discrete:!0}):yf(Wz,S,X,{discrete:!0}),ve.addEventListener("click",me=>me.preventDefault(),{once:!0})}})})})}),R.viewport)})]}):null}),Zz=n=>{const{__scopeToast:e,children:t,...r}=n,s=qp(ed,e),[l,u]=A.useState(!1),[d,p]=A.useState(!1);return Xz(()=>u(!0)),A.useEffect(()=>{const y=window.setTimeout(()=>p(!0),1e3);return()=>window.clearTimeout(y)},[]),d?null:P.jsx(I_,{asChild:!0,children:P.jsx(k_,{...r,children:l&&P.jsxs(P.Fragment,{children:[s.label," ",t]})})})},Qz="ToastTitle",ib=A.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return P.jsx(Mn.div,{...r,ref:e})});ib.displayName=Qz;var Yz="ToastDescription",sb=A.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return P.jsx(Mn.div,{...r,ref:e})});sb.displayName=Yz;var ob="ToastAction",ab=A.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?P.jsx(ub,{altText:t,asChild:!0,children:P.jsx(M_,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${ob}\`. Expected non-empty \`string\`.`),null)});ab.displayName=ob;var lb="ToastClose",M_=A.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,s=Gz(lb,t);return P.jsx(ub,{asChild:!0,children:P.jsx(Mn.button,{type:"button",...r,ref:e,onClick:Sn(n.onClick,s.onClose)})})});M_.displayName=lb;var ub=A.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...s}=n;return P.jsx(Mn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function cb(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Jz(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",l=r.dataset.radixToastAnnounceExclude==="";if(!s)if(l){const u=r.dataset.radixToastAnnounceAlt;u&&e.push(u)}else e.push(...cb(r))}}),e}function yf(n,e,t,{discrete:r}){const s=t.originalEvent.currentTarget,l=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?a1(s,l):s.dispatchEvent(l)}var Fx=(n,e,t=0)=>{const r=Math.abs(n.x),s=Math.abs(n.y),l=r>s;return e==="left"||e==="right"?l&&r>t:!l&&s>t};function Xz(n=()=>{}){const e=yo(n);uc(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function Jz(n){return n.nodeType===n.ELEMENT_NODE}function e6(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Qg(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var t6=J1,hb=tb,db=rb,fb=ib,pb=sb,mb=ab,gb=M_;const n6=t6,yb=wt.forwardRef(({className:n,...e},t)=>P.jsx(hb,{ref:t,className:br("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));yb.displayName=hb.displayName;const r6=o1("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),vb=wt.forwardRef(({className:n,variant:e,...t},r)=>P.jsx(db,{ref:r,className:br(r6({variant:e}),n),...t}));vb.displayName=db.displayName;const i6=wt.forwardRef(({className:n,...e},t)=>P.jsx(mb,{ref:t,className:br("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));i6.displayName=mb.displayName;const _b=wt.forwardRef(({className:n,...e},t)=>P.jsx(gb,{ref:t,className:br("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:P.jsx(w_,{className:"h-4 w-4"})}));_b.displayName=gb.displayName;const wb=wt.forwardRef(({className:n,...e},t)=>P.jsx(fb,{ref:t,className:br("text-sm font-semibold",n),...e}));wb.displayName=fb.displayName;const Tb=wt.forwardRef(({className:n,...e},t)=>P.jsx(pb,{ref:t,className:br("text-sm opacity-90",n),...e}));Tb.displayName=pb.displayName;function s6(){const{toasts:n}=xB();return P.jsxs(n6,{children:[n.map(({id:e,title:t,description:r,action:s,...l})=>P.jsxs(vb,{...l,children:[P.jsxs("div",{className:"grid gap-1",children:[t&&P.jsx(wb,{children:t}),r&&P.jsx(Tb,{children:r})]}),s,P.jsx(_b,{})]},e)),P.jsx(yb,{})]})}const Eb={apiKey:"AIzaSyAb3yafzh-O4VkxkMGKyTxXGi8XOIJ0mfk",authDomain:"reportdashboard-c6f0d.firebaseapp.com",projectId:"reportdashboard-c6f0d",storageBucket:"reportdashboard-c6f0d.firebasestorage.app",messagingSenderId:"462874854819",appId:"1:462874854819:web:7c9426ed77c9e560688616",measurementId:"G-9V60KWRX7G"},xb=pP(Eb),vf=W2(xb),o6=UD(xb);function a6(){const[n,e]=A.useState(null),[t,r]=A.useState(!1);A.useEffect(()=>{const d=NL(vf,p=>{e(p||null),r(!0)});return()=>d()},[]);const s=()=>{LL(vf).catch(d=>console.error("Logout Error:",d))};if(!t)return P.jsx("div",{className:"flex items-center justify-center h-screen w-full bg-slate-950",children:P.jsx("div",{className:"text-2xl font-orbitron neon-text",children:"Loading ERP..."})});const l=({children:d})=>n?d:P.jsx(Jd,{to:"/login",replace:!0}),u={user:n,onLogout:s,auth:vf,db:o6,appId:Eb.projectId};return P.jsxs(P.Fragment,{children:[P.jsxs(ny,{children:[P.jsx("title",{children:"Field ERP - Enterprise Resource Planning"}),P.jsx("meta",{name:"description",content:"Mobile-first ERP system for field operations, time tracking, task management, and resource coordination"})]}),P.jsx(lR,{children:P.jsxs(sR,{children:[P.jsx(Mi,{path:"/login",element:n?P.jsx(Jd,{to:"/dashboard",replace:!0}):P.jsx(PB,{auth:vf})}),P.jsx(Mi,{path:"/dashboard",element:P.jsx(l,{children:P.jsx(CB,{...u})})}),P.jsx(Mi,{path:"/time-attendance",element:P.jsx(l,{children:P.jsx(GB,{...u})})}),P.jsx(Mi,{path:"/projects",element:P.jsx(l,{children:P.jsx(Sz,{...u})})}),P.jsx(Mi,{path:"/inventory",element:P.jsx(l,{children:P.jsx(Iz,{...u})})}),P.jsx(Mi,{path:"/hr",element:P.jsx(l,{children:P.jsx(Rz,{...u})})}),P.jsx(Mi,{path:"/finance",element:P.jsx(l,{children:P.jsx(Nz,{...u})})}),P.jsx(Mi,{path:"/reports",element:P.jsx(l,{children:P.jsx(Mz,{...u})})}),P.jsx(Mi,{path:"/",element:P.jsx(Jd,{to:n?"/dashboard":"/login",replace:!0})}),P.jsx(Mi,{path:"/tasks",element:P.jsx(Jd,{to:"/projects",replace:!0})})]})}),P.jsx(s6,{})]})}pA.createRoot(document.getElementById("root")).render(P.jsx(a6,{}));
